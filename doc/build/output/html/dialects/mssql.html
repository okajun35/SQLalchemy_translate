<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">



<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        
        <title>
            
    
    Microsoft SQL Server
 &mdash;
    SQLAlchemy 1.3 Documentation

        </title>

        
            <!-- begin iterate through site-imported + sphinx environment css_files -->
                <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
                <link rel="stylesheet" href="../_static/docs.css" type="text/css" />
                <link rel="stylesheet" href="../_static/changelog.css" type="text/css" />
                <link rel="stylesheet" href="../_static/sphinx_paramlinks.css" type="text/css" />
            <!-- end iterate through site-imported + sphinx environment css_files -->
        

        

    

    <!-- begin layout.mako headers -->

    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
        <link rel="copyright" title="Copyright" href="../copyright.html" />
    <link rel="top" title="SQLAlchemy 1.3 Documentation" href="../index.html" />
        <link rel="up" title="方言" href="index.html" />
        <link rel="next" title="MySQL" href="mysql.html" />
        <link rel="prev" title="ファイアバード" href="firebird.html" />
    <!-- end layout.mako headers -->


    </head>
    <body>
        
















<div id="docs-container">





<div id="docs-top-navigation-container" class="body-background">
<div id="docs-header">
    <div id="docs-version-header">
        Release: <span class="version-num">1.3.0b1</span>


        | Release Date: unreleased

    </div>

    <h1>SQLAlchemy 1.3 Documentation</h1>

</div>
</div>

<div id="docs-body-container">

    <div id="fixed-sidebar" class="withsidebar">


        <div id="docs-sidebar-popout">
            <h3><a href="../index.html">SQLAlchemy 1.3 Documentation</a></h3>
            <p id="sidebar-topnav">
                <a href="../contents.html">Contents</a> |
                <a href="../genindex.html">Index</a>
            </p>

            <div id="sidebar-search">
                <form class="search" action="../search.html" method="get">
                  <label>
                  Search terms:
                  <input type="text" placeholder="search..." name="q" size="12" />
                  </label>
                  <input type="hidden" name="check_keywords" value="yes" />
                  <input type="hidden" name="area" value="default" />
                </form>
            </div>

        </div>

        <div id="docs-sidebar">

        <div id="sidebar-banner">
            
        </div>

        <div id="docs-sidebar-inner">

        
        <h3>
            <a href="index.html" title="方言">方言</a>
        </h3>

        <ul>
<li><span class="link-container first"><a class="reference external" href="firebird.html">ファイアバード</a></span></li>
<li class="selected"><span class="link-container first"><strong>Microsoft SQL Server</strong><a class="paramlink headerlink reference internal" href="#">¶</a></span><ul>
<li><span class="link-container first"><a class="reference external" href="#dialect-mssql">Support for the Microsoft SQL Server database.</a></span></li>
<li><span class="link-container first"><a class="reference external" href="#auto-increment-behavior">自動インクリメント動作</a></span><ul>
<li><span class="link-container first"><a class="reference external" href="#controlling-start-and-increment">&amp;quot;スタート&amp;quot;と&amp;quot;インクリメント</a></span></li>
<li><span class="link-container first"><a class="reference external" href="#insert-behavior">INSERTの動作</a></span></li>
</ul>
</li>
<li><span class="link-container first"><a class="reference external" href="#max-on-varchar-nvarchar">VARCHAR / NVARCHARのMAX</a></span></li>
<li><span class="link-container first"><a class="reference external" href="#collation-support">照合サポート</a></span></li>
<li><span class="link-container first"><a class="reference external" href="#limit-offset-support">LIMIT / OFFSETのサポート</a></span></li>
<li><span class="link-container first"><a class="reference external" href="#transaction-isolation-level">トランザクション分離レベル</a></span></li>
<li><span class="link-container first"><a class="reference external" href="#nullability">Nullability</a></span></li>
<li><span class="link-container first"><a class="reference external" href="#date-time-handling">日付/時刻の処理</a></span></li>
<li><span class="link-container first"><a class="reference external" href="#large-text-binary-type-deprecation">大文字/バイナリ型の非推奨</a></span></li>
<li><span class="link-container first"><a class="reference external" href="#multipart-schema-names">マルチパートのスキーマ名</a></span></li>
<li><span class="link-container first"><a class="reference external" href="#legacy-schema-mode">レガシースキーマモード</a></span></li>
<li><span class="link-container first"><a class="reference external" href="#clustered-index-support">クラスタ化インデックスのサポート</a></span></li>
<li><span class="link-container first"><a class="reference external" href="#mssql-specific-index-options">MSSQL固有のインデックスオプション</a></span><ul>
<li><span class="link-container first"><a class="reference external" href="#include">含める</a></span></li>
<li><span class="link-container first"><a class="reference external" href="#index-ordering">インデックスの順序付け</a></span></li>
</ul>
</li>
<li><span class="link-container first"><a class="reference external" href="#compatibility-levels">互換性レベル</a></span></li>
<li><span class="link-container first"><a class="reference external" href="#triggers">トリガー</a></span></li>
<li><span class="link-container first"><a class="reference external" href="#rowcount-support-orm-versioning">行数サポート/ ORMバージョン管理</a></span></li>
<li><span class="link-container first"><a class="reference external" href="#enabling-snapshot-isolation">スナップショット分離を有効にする</a></span></li>
<li><span class="link-container first"><a class="reference external" href="#sql-server-data-types">SQL Serverのデータ型</a></span></li>
<li><span class="link-container first"><a class="reference external" href="#module-sqlalchemy.dialects.mssql.pyodbc">PyODBC</a></span><ul>
<li><span class="link-container first"><a class="reference external" href="#dialect-mssql-pyodbc-url">DBAPI</a></span></li>
<li><span class="link-container first"><a class="reference external" href="#dialect-mssql-pyodbc-connect">Connecting</a></span></li>
<li><span class="link-container first"><a class="reference external" href="#connecting-to-pyodbc">PyODBCに接続する</a></span><ul>
<li><span class="link-container first"><a class="reference external" href="#dsn-connections">DSN接続</a></span></li>
<li><span class="link-container first"><a class="reference external" href="#hostname-connections">ホスト名の接続</a></span></li>
<li><span class="link-container first"><a class="reference external" href="#pass-through-exact-pyodbc-string">厳密なPyodbc文字列を渡す</a></span></li>
</ul>
</li>
<li><span class="link-container first"><a class="reference external" href="#driver-unicode-support">ドライバ/ Unicodeのサポート</a></span></li>
<li><span class="link-container first"><a class="reference external" href="#rowcount-support">行数のサポート</a></span></li>
<li><span class="link-container first"><a class="reference external" href="#fast-executemany-mode">高速実行モード</a></span></li>
</ul>
</li>
<li><span class="link-container first"><a class="reference external" href="#module-sqlalchemy.dialects.mssql.mxodbc">mxODBC</a></span><ul>
<li><span class="link-container first"><a class="reference external" href="#dialect-mssql-mxodbc-url">DBAPI</a></span></li>
<li><span class="link-container first"><a class="reference external" href="#dialect-mssql-mxodbc-connect">Connecting</a></span></li>
<li><span class="link-container first"><a class="reference external" href="#execution-modes">実行モード</a></span></li>
</ul>
</li>
<li><span class="link-container first"><a class="reference external" href="#module-sqlalchemy.dialects.mssql.pymssql">pymssql</a></span><ul>
<li><span class="link-container first"><a class="reference external" href="#dialect-mssql-pymssql-url">DBAPI</a></span></li>
<li><span class="link-container first"><a class="reference external" href="#dialect-mssql-pymssql-connect">Connecting</a></span></li>
</ul>
</li>
<li><span class="link-container first"><a class="reference external" href="#module-sqlalchemy.dialects.mssql.zxjdbc">zxjdbc</a></span><ul>
<li><span class="link-container first"><a class="reference external" href="#dialect-mssql-zxjdbc-url">DBAPI</a></span></li>
<li><span class="link-container first"><a class="reference external" href="#dialect-mssql-zxjdbc-connect">Connecting</a></span></li>
</ul>
</li>
<li><span class="link-container first"><a class="reference external" href="#module-sqlalchemy.dialects.mssql.adodbapi">AdoDBAPI</a></span><ul>
<li><span class="link-container first"><a class="reference external" href="#dialect-mssql-adodbapi-url">DBAPI</a></span></li>
<li><span class="link-container first"><a class="reference external" href="#dialect-mssql-adodbapi-connect">Connecting</a></span></li>
</ul>
</li>
</ul>
</li>
<li><span class="link-container first"><a class="reference external" href="mysql.html">MySQL</a></span></li>
<li><span class="link-container first"><a class="reference external" href="oracle.html">オラクル</a></span></li>
<li><span class="link-container first"><a class="reference external" href="postgresql.html">PostgreSQL</a></span></li>
<li><span class="link-container first"><a class="reference external" href="sqlite.html">SQLite</a></span></li>
<li><span class="link-container first"><a class="reference external" href="sybase.html">Sybase</a></span></li>
</ul>



        </div>

        </div>

    </div>

    

    <div id="docs-body" class="withsidebar" >
        
<div class="section" id="module-sqlalchemy.dialects.mssql.base">
<span id="microsoft-sql-server"></span><span id="mssql-toplevel"></span><h1>Microsoft SQL Server<a class="headerlink" href="#module-sqlalchemy.dialects.mssql.base" title="このヘッドラインへのパーマリンク">¶</a></h1>
<div class="section" id="dialect-mssql">
<p>Support for the Microsoft SQL Server database.</p>
<h2>DBAPI Support<a class="headerlink" href="#dialect-mssql" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>The following dialect/DBAPI options are available.  Please refer to individual DBAPI sections for connect information.<ul class="simple">
<li><a class="reference external" href="#module-sqlalchemy.dialects.mssql.pyodbc">PyODBC</a></li>
<li><a class="reference external" href="#module-sqlalchemy.dialects.mssql.mxodbc">mxODBC</a></li>
<li><a class="reference external" href="#module-sqlalchemy.dialects.mssql.pymssql">pymssql</a></li>
<li><a class="reference external" href="#module-sqlalchemy.dialects.mssql.zxjdbc">zxJDBC for Jython</a></li>
<li><a class="reference external" href="#module-sqlalchemy.dialects.mssql.adodbapi">adodbapi</a></li>
</ul>
</p>
</div>
<div class="section" id="auto-increment-behavior">
<h2>自動インクリメント動作<a class="headerlink" href="#auto-increment-behavior" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>SQL Serverは、整数主キーに配置できる `` IDENTITY``構造を使用して、いわゆる &amp;quot;自動増分&amp;quot;動作を提供します。 SQLAlchemyは、デフォルトの&amp;quot;autoincrement &amp;quot;の動作の中で `` IDENTITY``を考慮します：paramref： <cite>.Column.autoincrement</cite>;つまり、デフォルトでは：class： <a href="#id1"><span class="problematic" id="id2">`</span></a>.Table`の最初の整数の主キー列はID列とみなされ、DDLを生成します:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">sqlalchemy</span> <span class="k">import</span> <span class="n">Table</span><span class="p">,</span> <span class="n">MetaData</span><span class="p">,</span> <span class="n">Column</span><span class="p">,</span> <span class="n">Integer</span>

<span class="n">m</span> <span class="o">=</span> <span class="n">MetaData</span><span class="p">()</span>
<span class="n">t</span> <span class="o">=</span> <span class="n">Table</span><span class="p">(</span><span class="s1">&#39;t&#39;</span><span class="p">,</span> <span class="n">m</span><span class="p">,</span>
        <span class="n">Column</span><span class="p">(</span><span class="s1">&#39;id&#39;</span><span class="p">,</span> <span class="n">Integer</span><span class="p">,</span> <span class="n">primary_key</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span>
        <span class="n">Column</span><span class="p">(</span><span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="n">Integer</span><span class="p">))</span>
<span class="n">m</span><span class="o">.</span><span class="n">create_all</span><span class="p">(</span><span class="n">engine</span><span class="p">)</span></pre></div>
</div>
<p>上記の例では、DDLは次のように生成されます。</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">t</span> <span class="p">(</span>
    <span class="n">id</span> <span class="nb">INTEGER</span> <span class="k">NOT</span> <span class="k">NULL</span> <span class="k">IDENTITY</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span>
    <span class="n">x</span> <span class="nb">INTEGER</span> <span class="k">NULL</span><span class="p">,</span>
    <span class="k">PRIMARY</span> <span class="k">KEY</span> <span class="p">(</span><span class="n">id</span><span class="p">)</span>
<span class="p">)</span></pre></div>
</div>
<p>このデフォルトの `` IDENTITY``生成が望ましくない場合は、すべての整数主キー列に対して `` autoincrement = False``を指定してください:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">m</span> <span class="o">=</span> <span class="n">MetaData</span><span class="p">()</span>
<span class="n">t</span> <span class="o">=</span> <span class="n">Table</span><span class="p">(</span><span class="s1">&#39;t&#39;</span><span class="p">,</span> <span class="n">m</span><span class="p">,</span>
        <span class="n">Column</span><span class="p">(</span><span class="s1">&#39;id&#39;</span><span class="p">,</span> <span class="n">Integer</span><span class="p">,</span> <span class="n">primary_key</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">autoincrement</span><span class="o">=</span><span class="kc">False</span><span class="p">),</span>
        <span class="n">Column</span><span class="p">(</span><span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="n">Integer</span><span class="p">))</span>
<span class="n">m</span><span class="o">.</span><span class="n">create_all</span><span class="p">(</span><span class="n">engine</span><span class="p">)</span></pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">注釈</p>
<p class="last">このような列の明示的な値を参照するINSERT文はSQL Serverでは禁止されていますが、SQLAlchemyはこれを検出して文実行時に `` IDENTITY_INSERT``フラグを修正します。これは高性能なプロセスではないので、実際にIDENTITYの動作を必要としないカラムに対して `` autoincrement``フラグを適切に設定するよう注意してください。</p>
</div>
<div class="section" id="controlling-start-and-increment">
<h3>&amp;quot;スタート&amp;quot;と&amp;quot;インクリメント<a class="headerlink" href="#controlling-start-and-increment" title="このヘッドラインへのパーマリンク">¶</a></h3>
<p>`` IDENTITY``値のパラメータに対する特定の制御は：class： <a href="#id1"><span class="problematic" id="id2">`</span></a>.schema.Sequence`オブジェクトを使ってサポートされています。このオブジェクトは通常、バックエンドをサポートするための明示的な&amp;quot;シーケンス&amp;quot;を表しますが、SQL Serverでは、&amp;quot;開始&amp;quot;と&amp;quot;インクリメント&amp;quot;値のサポートを含む、ID列に関する動作を指定するために、</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">sqlalchemy</span> <span class="k">import</span> <span class="n">Table</span><span class="p">,</span> <span class="n">Integer</span><span class="p">,</span> <span class="n">Sequence</span><span class="p">,</span> <span class="n">Column</span>

<span class="n">Table</span><span class="p">(</span><span class="s1">&#39;test&#39;</span><span class="p">,</span> <span class="n">metadata</span><span class="p">,</span>
       <span class="n">Column</span><span class="p">(</span><span class="s1">&#39;id&#39;</span><span class="p">,</span> <span class="n">Integer</span><span class="p">,</span>
              <span class="n">Sequence</span><span class="p">(</span><span class="s1">&#39;blah&#39;</span><span class="p">,</span> <span class="n">start</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="n">increment</span><span class="o">=</span><span class="mi">10</span><span class="p">),</span>
              <span class="n">primary_key</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span>
       <span class="n">Column</span><span class="p">(</span><span class="s1">&#39;name&#39;</span><span class="p">,</span> <span class="n">String</span><span class="p">(</span><span class="mi">20</span><span class="p">))</span>
     <span class="p">)</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">some_engine</span><span class="p">)</span></pre></div>
</div>
<p>次のようになります。</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">test</span> <span class="p">(</span>
  <span class="n">id</span> <span class="nb">INTEGER</span> <span class="k">NOT</span> <span class="k">NULL</span> <span class="k">IDENTITY</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span><span class="mi">10</span><span class="p">)</span> <span class="k">PRIMARY</span> <span class="k">KEY</span><span class="p">,</span>
  <span class="n">name</span> <span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span> <span class="k">NULL</span><span class="p">,</span>
  <span class="p">)</span></pre></div>
</div>
<p>シーケンスの `` start``と `` increment``の値はオプションで、デフォルトは1,1です。</p>
</div>
<div class="section" id="insert-behavior">
<h3>INSERTの動作<a class="headerlink" href="#insert-behavior" title="このヘッドラインへのパーマリンク">¶</a></h3>
<p>INSERT時に `` IDENTITY``カラムを扱うには、2つの重要なテクニックが必要です。最も一般的なのは、与えられた `` IDENTITY``カラムに対して&amp;quot;最後に挿入された値&amp;quot;を取り出すことができることです.SQLAlchemyは多くの場合暗黙的に実行します。</p>
<p>この値を取得するプロセスにはいくつかのバリエーションがあります。</p>
<ul>
<li><p class="first">大部分の場合、RETURNINGは、新しく生成された主キー値を取得するために、SQL ServerのINSERTステートメントとともに使用されます。</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">t</span> <span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="k">OUTPUT</span> <span class="n">inserted</span><span class="p">.</span><span class="n">id</span> <span class="k">VALUES</span> <span class="p">(</span><span class="o">?</span><span class="p">)</span></pre></div>
</div>
</li>
<li><p class="first">RETURNINGが利用できない場合、または `` implicit_returning = False``で無効になっている場合、 `` scope_identity（） <a href="#id1"><span class="problematic" id="id2">``</span></a>関数または `` &#64;&#64; identity``変数が使用されます。動作はバックエンドによって異なります。</p>
<ul>
<li><p class="first">PyODBCを使うとき、フレーズ <a href="#id1"><span class="problematic" id="id2">``</span></a>; select scope_identity（） <a href="#id3"><span class="problematic" id="id4">``</span></a>はINSERT文の末尾に追加されます。値を受け取るために2番目の結果セットがフェッチされます。与えられたテーブルを:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">t</span> <span class="o">=</span> <span class="n">Table</span><span class="p">(</span><span class="s1">&#39;t&#39;</span><span class="p">,</span> <span class="n">m</span><span class="p">,</span> <span class="n">Column</span><span class="p">(</span><span class="s1">&#39;id&#39;</span><span class="p">,</span> <span class="n">Integer</span><span class="p">,</span> <span class="n">primary_key</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span>
        <span class="n">Column</span><span class="p">(</span><span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="n">Integer</span><span class="p">),</span>
        <span class="n">implicit_returning</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></pre></div>
</div>
<p>INSERTは次のようになります：</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">t</span> <span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="k">VALUES</span> <span class="p">(</span><span class="o">?</span><span class="p">);</span> <span class="k">select</span> <span class="n">scope_identity</span><span class="p">()</span></pre></div>
</div>
</li>
<li><p class="first">pymssqlのような他の方言は、INSERT文の後に `` SELECT scope_identity（）AS lastrowid``を呼び出すでしょう。フラグ `` use_scope_identity = False``が：func： <cite>.create_engine`に渡された場合、代わりに</cite> <a href="#id1"><span class="problematic" id="id2">`</span></a>SELECT &#64;&#64; identity AS lastrowid``が使用されます。</p>
</li>
</ul>
</li>
</ul>
<p>`` IDENTITY``カラムを含むテーブルは、IDカラムを明示的に参照するINSERT文を禁止します。 SQLAlchemy方言は、core：func： <cite>.insert`構文（単純な文字列SQLではない）を使用して作成されたINSERT構文がID列を参照したときに検出します。この場合、事前に「SET IDENTITY_INSERT ON」を発行しますINSERTステートメントを進め、 `</cite> SET IDENTITY_INSERT OFF``を実行します。この例では:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">m</span> <span class="o">=</span> <span class="n">MetaData</span><span class="p">()</span>
<span class="n">t</span> <span class="o">=</span> <span class="n">Table</span><span class="p">(</span><span class="s1">&#39;t&#39;</span><span class="p">,</span> <span class="n">m</span><span class="p">,</span> <span class="n">Column</span><span class="p">(</span><span class="s1">&#39;id&#39;</span><span class="p">,</span> <span class="n">Integer</span><span class="p">,</span> <span class="n">primary_key</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span>
                <span class="n">Column</span><span class="p">(</span><span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="n">Integer</span><span class="p">))</span>
<span class="n">m</span><span class="o">.</span><span class="n">create_all</span><span class="p">(</span><span class="n">engine</span><span class="p">)</span>

<span class="n">engine</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">t</span><span class="o">.</span><span class="n">insert</span><span class="p">(),</span> <span class="p">{</span><span class="s1">&#39;id&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">:</span><span class="mi">1</span><span class="p">},</span> <span class="p">{</span><span class="s1">&#39;id&#39;</span><span class="p">:</span><span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">:</span><span class="mi">2</span><span class="p">})</span></pre></div>
</div>
<p>上記の列はIDENTITYで作成されますが、私たちが発行するINSERT文は明示的な値を指定しています。エコー出力では、SQLAlchemyがこれをどのように処理するかを見ることができます。</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">t</span> <span class="p">(</span>
    <span class="n">id</span> <span class="nb">INTEGER</span> <span class="k">NOT</span> <span class="k">NULL</span> <span class="k">IDENTITY</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span>
    <span class="n">x</span> <span class="nb">INTEGER</span> <span class="k">NULL</span><span class="p">,</span>
    <span class="k">PRIMARY</span> <span class="k">KEY</span> <span class="p">(</span><span class="n">id</span><span class="p">)</span>
<span class="p">)</span>

<span class="k">COMMIT</span>
<span class="k">SET</span> <span class="n">IDENTITY_INSERT</span> <span class="n">t</span> <span class="k">ON</span>
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">t</span> <span class="p">(</span><span class="n">id</span><span class="p">,</span> <span class="n">x</span><span class="p">)</span> <span class="k">VALUES</span> <span class="p">(</span><span class="o">?</span><span class="p">,</span> <span class="o">?</span><span class="p">)</span>
<span class="p">((</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">))</span>
<span class="k">SET</span> <span class="n">IDENTITY_INSERT</span> <span class="n">t</span> <span class="k">OFF</span>
<span class="k">COMMIT</span></pre></div>
</div>
<p>これは、テストおよびバルク挿入シナリオに適した補助的な使用例です。</p>
</div>
</div>
<div class="section" id="max-on-varchar-nvarchar">
<h2>VARCHAR / NVARCHARのMAX<a class="headerlink" href="#max-on-varchar-nvarchar" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>SQL Serverは：class： <cite>.sqltypes.VARCHAR`と：class：</cite> .sqltypes.NVARCHAR`データ型の中で特別な文字列&amp;quot;MAX &amp;quot;をサポートし、&amp;quot;最大長可能&amp;quot;を示します。現在のところ、方言は、 `` VARCHAR（なし） <a href="#id1"><span class="problematic" id="id2">``</span></a>のように指定された基本型が&amp;#39;95 &amp;#39;5cのように指定できるように、これらの型の方言固有のバージョンを提供するのではなく、 Dialect特有の型を使わずに、複数のバックエンドで &amp;quot;unlengthed &amp;quot;の振る舞いをします。</p>
<p>MAXの長さのSQL Server VARCHARまたはNVARCHARを構築するには、None ::を使用します。</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">my_table</span> <span class="o">=</span> <span class="n">Table</span><span class="p">(</span>
    <span class="s1">&#39;my_table&#39;</span><span class="p">,</span> <span class="n">metadata</span><span class="p">,</span>
    <span class="n">Column</span><span class="p">(</span><span class="s1">&#39;my_data&#39;</span><span class="p">,</span> <span class="n">VARCHAR</span><span class="p">(</span><span class="kc">None</span><span class="p">)),</span>
    <span class="n">Column</span><span class="p">(</span><span class="s1">&#39;my_n_data&#39;</span><span class="p">,</span> <span class="n">NVARCHAR</span><span class="p">(</span><span class="kc">None</span><span class="p">))</span>
<span class="p">)</span></pre></div>
</div>
</div>
<div class="section" id="collation-support">
<h2>照合サポート<a class="headerlink" href="#collation-support" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>文字列の照合は、文字列引数&amp;quot;collat​​ion &amp;quot;によって指定される基本文字列型によってサポートされます:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">sqlalchemy</span> <span class="k">import</span> <span class="n">VARCHAR</span>
<span class="n">Column</span><span class="p">(</span><span class="s1">&#39;login&#39;</span><span class="p">,</span> <span class="n">VARCHAR</span><span class="p">(</span><span class="mi">32</span><span class="p">,</span> <span class="n">collation</span><span class="o">=</span><span class="s1">&#39;Latin1_General_CI_AS&#39;</span><span class="p">))</span></pre></div>
</div>
<p>そのような列が：class： <a href="#id1"><span class="problematic" id="id2">`</span></a>.Table`に関連付けられている場合、この列のCREATE TABLE文は次のようになります:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">login</span> <span class="n">VARCHAR</span><span class="p">(</span><span class="mi">32</span><span class="p">)</span> <span class="n">COLLATE</span> <span class="n">Latin1_General_CI_AS</span> <span class="n">NULL</span></pre></div>
</div>
<div class="versionadded">
<p><span class="versionmodified">バージョン 0.8 で追加: </span>文字の照合は、基本文字列型の一部になりました。</p>
</div>
</div>
<div class="section" id="limit-offset-support">
<h2>LIMIT / OFFSETのサポート<a class="headerlink" href="#limit-offset-support" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>MSSQLはLIMITまたはOFFSETキーワードをサポートしていません。 LIMITは、 `` TOP`` Transact SQLキーワードで直接サポートされています:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">select</span><span class="o">.</span><span class="n">limit</span></pre></div>
</div>
<p>生成する:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">SELECT</span> <span class="n">TOP</span> <span class="n">n</span></pre></div>
</div>
<p>SQL Server 2005以上を使用している場合、OFFSETサポート付きのLIMITは、 `` ROW_NUMBER OVER``構造体を介して利用できます。 2005より下のバージョンでは、OFFSETを使用するLIMITは失敗します。</p>
</div>
<div class="section" id="transaction-isolation-level">
<span id="mssql-isolation-level"></span><h2>トランザクション分離レベル<a class="headerlink" href="#transaction-isolation-level" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>すべてのSQL Serverダイアレクトは、ダイアレクト特有のパラメータ（paramref： <cite>.create_engine.isolation_level</cite>：func：` .create_engine`）と：paramref： <cite>.Connection.execution_options.isolation_level `引数は：meth：</cite> .Connection.execution_options`に渡されます。この機能は、コマンド `` SET TRANSACTION ISOLATION LEVEL &lt;level&gt; <a href="#id1"><span class="problematic" id="id2">``</span></a>新しい接続ごとに。</p>
<p>func： <cite>.create_engine</cite> ::を使って隔離レベルを設定する</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">engine</span> <span class="o">=</span> <span class="n">create_engine</span><span class="p">(</span>
    <span class="s2">&quot;mssql+pyodbc://scott:tiger@ms_2008&quot;</span><span class="p">,</span>
    <span class="n">isolation_level</span><span class="o">=</span><span class="s2">&quot;REPEATABLE READ&quot;</span>
<span class="p">)</span></pre></div>
</div>
<p>接続ごとの実行オプションを使用して設定するには:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">connection</span> <span class="o">=</span> <span class="n">engine</span><span class="o">.</span><span class="n">connect</span><span class="p">()</span>
<span class="n">connection</span> <span class="o">=</span> <span class="n">connection</span><span class="o">.</span><span class="n">execution_options</span><span class="p">(</span>
    <span class="n">isolation_level</span><span class="o">=</span><span class="s2">&quot;READ COMMITTED&quot;</span>
<span class="p">)</span></pre></div>
</div>
<p>`` isolation_level``に有効な値は次のとおりです：</p>
<ul class="simple">
<li>`` AUTOCOMMIT``  -  pyodbc / pymssql固有</li>
<li>`` READ COMMITTED``</li>
<li>`` READ UNCOMMITTED``</li>
<li>`` REPEATABLE READ``</li>
<li><a href="#id1"><span class="problematic" id="id2">``</span></a>シリアル化可能 ``</li>
<li>`` SNAPSHOT``  -  SQL Server固有のもの</li>
</ul>
<div class="versionadded">
<p><span class="versionmodified">バージョン 1.1 で追加: </span>Microsoft SQL Serverの分離レベル設定のサポート</p>
</div>
<div class="versionadded">
<p><span class="versionmodified">バージョン 1.2 で追加: </span>AUTOCOMMIT分離レベルの設定を追加</p>
</div>
</div>
<div class="section" id="nullability">
<h2>Nullability<a class="headerlink" href="#nullability" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>MSSQLは、3段階のカラムのNULL可否をサポートしています。デフォルトのNULL許容はNULLを許可し、CREATE TABLEの構造体で明示的です:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">name</span> <span class="n">VARCHAR</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span> <span class="n">NULL</span></pre></div>
</div>
<p>`` nullable = None``が指定されていれば、指定は行われません。つまり、データベースのデフォルト設定が使用されます。これは:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">name</span> <span class="n">VARCHAR</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span></pre></div>
</div>
<p>`` nullable``が `` True``または `` False``の場合、カラムはそれぞれ `` NULL``または `` NOT NULL``になります。</p>
</div>
<div class="section" id="date-time-handling">
<h2>日付/時刻の処理<a class="headerlink" href="#date-time-handling" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>DATEおよびTIMEがサポートされています。バインドパラメータは、ほとんどのMSSQLドライバで必要とされるdatetime.datetime（）オブジェクトに変換され、必要に応じて結果が文字列から処理されます。 DATEおよびTIMEタイプはMSSQL 2005およびそれ以前のバージョンでは使用できません。2008年以下のサーババージョンが検出された場合、これらのタイプのDDLはDATETIMEとして発行されます。</p>
</div>
<div class="section" id="large-text-binary-type-deprecation">
<span id="mssql-large-type-deprecation"></span><h2>大文字/バイナリ型の非推奨<a class="headerlink" href="#large-text-binary-type-deprecation" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>Per <cite>SQL Server 2012/2014ドキュメント&lt;http://technet.microsoft.com/en-us/library/ms187993.aspx&gt; `_、</cite> <cite>NTEXT`</cite>、` <cite>TEXT`</cite>、` <cite>IMAGE``データ型は、将来のリリースでSQL Serverから削除される予定です。 SQLAlchemyは通常、これらの型を：class： `.UnicodeText</cite>、：class：` .Text`、：class： <a href="#id1"><span class="problematic" id="id2">`</span></a>.LargeBinary`データ型に関連付けます。</p>
<p>この変更に対応するために、新しいフラグ `` deprecate_large_types``が方言に追加されます。このフラグは、ユーザによって設定されていなければ、使用中のサーバのバージョンの検出に基づいて自動的に設定されます。このフラグの動作は次のとおりです。</p>
<ul>
<li><p class="first">このフラグが `` True``の場合、：class： <cite>.UnicodeText</cite>、：class：` .Text`、：class： <cite>.LargeBinary`データ型は、DDLをレンダリングするときに、</cite> <cite>NVARCHAR max） `</cite>、 `` VARCHAR（max） <a href="#id1"><span class="problematic" id="id2">``</span></a>、 `` VARBINARY（max） <a href="#id3"><span class="problematic" id="id4">``</span></a>と呼ばれます。これは、このフラグを追加したときの新しい動作です。</p>
</li>
<li><p class="first">このフラグが `` False``の場合、：class： <cite>.UnicodeText</cite>、：class：` .Text`、：class： <cite>.LargeBinary`データ型は、DDLをレンダリングする際に、</cite> <cite>NTEXT</cite> <cite>、</cite> <cite>TEXT`</cite>、` <a href="#id1"><span class="problematic" id="id2">`</span></a>IMAGE``をそれぞれ出力します。これは、これらのタイプの長年にわたる動作です。</p>
</li>
<li><p class="first">フラグは、データベース接続が確立される前に値「 <a href="#id1"><span class="problematic" id="id2">``</span></a>なし &amp;#39;&amp;#39;で始まります。 DDLをフラグの設定なしでレンダリングするために方言が使用されている場合、DDLは `` False``と同じように解釈されます。</p>
</li>
<li><p class="first">最初の接続では、方言はSQL Serverのバージョン2012以上が使用されているかどうかを検出します。フラグがまだ「なし」であれば、2012以上が検出されたかどうかに基づいて、フラグを「真」または「偽」に設定する。</p>
</li>
<li><p class="first">ダイアグラムが作成されるとき、フラグは `` True``または `` False``に設定できます。通常は：func： <cite>.create_engine</cite></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">eng</span> <span class="o">=</span> <span class="n">create_engine</span><span class="p">(</span><span class="s2">&quot;mssql+pymssql://user:pass@host/db&quot;</span><span class="p">,</span>
                <span class="n">deprecate_large_types</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span></pre></div>
</div>
</li>
<li><p class="first">：class： <cite>.NVARCHAR</cite>、：class：` .VARCHAR`、：： &amp;quot;古い&amp;quot;または &amp;quot;新しい&amp;quot;タイプがレンダリングされるかどうかを完全に制御するには、UPPERCASEタイプのオブジェクトを使用してすべてのSQLAlchemyバージョンで使用できます。クラス： <cite>.types.VARBINARY</cite>、：class：` .TEXT`、：class： <cite>.mssql.NTEXT</cite>、：class：` .mssql.IMAGE`は常に固定され、常にその型を出力します。</p>
</li>
</ul>
<div class="versionadded">
<p><span class="versionmodified">バージョン 1.0.0 で追加.</span></p>
</div>
</div>
<div class="section" id="multipart-schema-names">
<span id="id1"></span><h2>マルチパートのスキーマ名<a class="headerlink" href="#multipart-schema-names" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>SQL Serverスキーマには、スキーマ&amp;quot;スキーマ&amp;quot;修飾子に複数の部分が必要な場合があります。つまり、データベース名と所有者名を別々のトークン（ `` mydatabase.dbo.some_table``など）に含める必要があります。これらのマルチパート名は：class： <cite>.Table</cite> :: paramref：` .Table.schema`引数を使って一度に設定できます：</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Table</span><span class="p">(</span>
    <span class="s2">&quot;some_table&quot;</span><span class="p">,</span> <span class="n">metadata</span><span class="p">,</span>
    <span class="n">Column</span><span class="p">(</span><span class="s2">&quot;q&quot;</span><span class="p">,</span> <span class="n">String</span><span class="p">(</span><span class="mi">50</span><span class="p">)),</span>
    <span class="n">schema</span><span class="o">=</span><span class="s2">&quot;mydatabase.dbo&quot;</span>
<span class="p">)</span></pre></div>
</div>
<p>テーブルやコンポーネントのリフレクションなどの操作を実行する場合、ドットを含むスキーマ引数は、SQL Server情報スキーマテーブルを正しくクエリするために、これらの2つの値として正しく&amp;quot;データベース&amp;quot;と&amp;quot;所有者&amp;quot;コンポーネントに分割されます別々に保管されます。さらに、DDLまたはSQLのスキーマ名をレンダリングする場合、大文字と小文字を区別する名前やその他の特殊文字については、2つのコンポーネントが別々に引用されます。以下のような議論が与えられます:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Table</span><span class="p">(</span>
    <span class="s2">&quot;some_table&quot;</span><span class="p">,</span> <span class="n">metadata</span><span class="p">,</span>
    <span class="n">Column</span><span class="p">(</span><span class="s2">&quot;q&quot;</span><span class="p">,</span> <span class="n">String</span><span class="p">(</span><span class="mi">50</span><span class="p">)),</span>
    <span class="n">schema</span><span class="o">=</span><span class="s2">&quot;MyDataBase.dbo&quot;</span>
<span class="p">)</span></pre></div>
</div>
<p>上記のスキーマは `` [MyDataBase] .dbo``としてレンダリングされ、また反映では、所有者として&amp;quot;dbo &amp;quot;、データベース名として &amp;quot;MyDataBase&amp;quot;を使用して反映されます。</p>
<p>スキーマ名をデータベース/所有者に分割する方法を制御するには、名前に角括弧（SQL Serverでは引用符で囲んでいる）を指定します。以下では、&amp;quot;owner &amp;quot;は &amp;quot;MyDataBase.dbo&amp;quot;とみなされ、&amp;quot;database &amp;quot;はNone ::となります</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Table</span><span class="p">(</span>
    <span class="s2">&quot;some_table&quot;</span><span class="p">,</span> <span class="n">metadata</span><span class="p">,</span>
    <span class="n">Column</span><span class="p">(</span><span class="s2">&quot;q&quot;</span><span class="p">,</span> <span class="n">String</span><span class="p">(</span><span class="mi">50</span><span class="p">)),</span>
    <span class="n">schema</span><span class="o">=</span><span class="s2">&quot;[MyDataBase.dbo]&quot;</span>
<span class="p">)</span></pre></div>
</div>
<p>特殊文字または埋め込みドットを使用してデータベース名と所有者名を個別に指定するには、大括弧の2つのセットを使用します。</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Table</span><span class="p">(</span>
    <span class="s2">&quot;some_table&quot;</span><span class="p">,</span> <span class="n">metadata</span><span class="p">,</span>
    <span class="n">Column</span><span class="p">(</span><span class="s2">&quot;q&quot;</span><span class="p">,</span> <span class="n">String</span><span class="p">(</span><span class="mi">50</span><span class="p">)),</span>
    <span class="n">schema</span><span class="o">=</span><span class="s2">&quot;[MyDataBase.Period].[MyOwner.Dot]&quot;</span>
<span class="p">)</span></pre></div>
</div>
<div class="versionchanged">
<p><span class="versionmodified">バージョン 1.2 で変更: </span>SQL Serverの方言では、角括弧を識別子区切り文字として処理して、スキーマを別々のデータベースと所有者トークンに分割し、いずれかの名前自体にドットを使用できるようにしました。</p>
</div>
</div>
<div class="section" id="legacy-schema-mode">
<span id="legacy-schema-rendering"></span><h2>レガシースキーマモード<a class="headerlink" href="#legacy-schema-mode" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>非常に古いバージョンのMSSQL方言は、SELECT文で使用するとスキーマ修飾テーブルが自動エイリアスになるような動作を導入しました。与えられたテーブル:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">account_table</span> <span class="o">=</span> <span class="n">Table</span><span class="p">(</span>
    <span class="s1">&#39;account&#39;</span><span class="p">,</span> <span class="n">metadata</span><span class="p">,</span>
    <span class="n">Column</span><span class="p">(</span><span class="s1">&#39;id&#39;</span><span class="p">,</span> <span class="n">Integer</span><span class="p">,</span> <span class="n">primary_key</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span>
    <span class="n">Column</span><span class="p">(</span><span class="s1">&#39;info&#39;</span><span class="p">,</span> <span class="n">String</span><span class="p">(</span><span class="mi">100</span><span class="p">)),</span>
    <span class="n">schema</span><span class="o">=</span><span class="s2">&quot;customer_schema&quot;</span>
<span class="p">)</span></pre></div>
</div>
<p>この従来のレンダリングモードでは、以下に示すように、&amp;quot;customer_schema.account &amp;quot;がSQL文のすべての部分で受け入れられないと想定します。</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">eng</span> <span class="o">=</span> <span class="n">create_engine</span><span class="p">(</span><span class="s2">&quot;mssql+pymssql://mydsn&quot;</span><span class="p">,</span> <span class="n">legacy_schema_aliasing</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">account_table</span><span class="o">.</span><span class="n">select</span><span class="p">()</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="n">eng</span><span class="p">))</span>
<span class="go">SELECT account_1.id, account_1.info</span>
<span class="go">FROM customer_schema.account AS account_1</span></pre></div>
</div>
<p>この動作モードはデフォルトではオフになっていますが、目的が達成されなかったようです。しかし、レガシーアプリケーションがそれに依存している場合は、上記のように：func： <cite>.create_engine`に</cite> <a href="#id1"><span class="problematic" id="id2">`</span></a>legacy_schema_aliasing``引数を使用して利用できます。</p>
<div class="versionchanged">
<p><span class="versionmodified">バージョン 1.1 で変更: </span>スキーマのレガシーモードを無効にするためにバージョン1.0.5で導入された `` legacy_schema_aliasing``フラグがデフォルトでFalseになりました。</p>
</div>
</div>
<div class="section" id="clustered-index-support">
<span id="mssql-indexes"></span><h2>クラスタ化インデックスのサポート<a class="headerlink" href="#clustered-index-support" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>MSSQLダイアレクトは、 `` mssql_clustered``オプションを介してクラスタ化インデックス（および主キー）をサポートします。このオプションは、class： <cite>.Index</cite>、：class：` .UniqueConstraint`で利用できます。 and：class： <cite>.PrimaryKeyConstraint</cite>。</p>
<p>クラスタードインデックスを生成する:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Index</span><span class="p">(</span><span class="s2">&quot;my_index&quot;</span><span class="p">,</span> <span class="n">table</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">x</span><span class="p">,</span> <span class="n">mssql_clustered</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span></pre></div>
</div>
<p>インデックスは `` CREATE CLUSTERED INDEX my_index ON table（x） <a href="#id1"><span class="problematic" id="id2">``</span></a>としてレンダリングされます。</p>
<p>クラスター化された主キーを生成するには:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Table</span><span class="p">(</span><span class="s1">&#39;my_table&#39;</span><span class="p">,</span> <span class="n">metadata</span><span class="p">,</span>
      <span class="n">Column</span><span class="p">(</span><span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="o">...</span><span class="p">),</span>
      <span class="n">Column</span><span class="p">(</span><span class="s1">&#39;y&#39;</span><span class="p">,</span> <span class="o">...</span><span class="p">),</span>
      <span class="n">PrimaryKeyConstraint</span><span class="p">(</span><span class="s2">&quot;x&quot;</span><span class="p">,</span> <span class="s2">&quot;y&quot;</span><span class="p">,</span> <span class="n">mssql_clustered</span><span class="o">=</span><span class="kc">True</span><span class="p">))</span></pre></div>
</div>
<p>テーブルをレンダリングします。たとえば、:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">CREATE</span> <span class="n">TABLE</span> <span class="n">my_table</span> <span class="p">(</span><span class="n">x</span> <span class="n">INTEGER</span> <span class="n">NOT</span> <span class="n">NULL</span><span class="p">,</span> <span class="n">y</span> <span class="n">INTEGER</span> <span class="n">NOT</span> <span class="n">NULL</span><span class="p">,</span>
                       <span class="n">PRIMARY</span> <span class="n">KEY</span> <span class="n">CLUSTERED</span> <span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">))</span></pre></div>
</div>
<p>同様に、クラスター固有の制約を生成するには、:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Table</span><span class="p">(</span><span class="s1">&#39;my_table&#39;</span><span class="p">,</span> <span class="n">metadata</span><span class="p">,</span>
      <span class="n">Column</span><span class="p">(</span><span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="o">...</span><span class="p">),</span>
      <span class="n">Column</span><span class="p">(</span><span class="s1">&#39;y&#39;</span><span class="p">,</span> <span class="o">...</span><span class="p">),</span>
      <span class="n">PrimaryKeyConstraint</span><span class="p">(</span><span class="s2">&quot;x&quot;</span><span class="p">),</span>
      <span class="n">UniqueConstraint</span><span class="p">(</span><span class="s2">&quot;y&quot;</span><span class="p">,</span> <span class="n">mssql_clustered</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span>
      <span class="p">)</span></pre></div>
</div>
<p>クラスタ化されていない主キーを明示的に要求するには（たとえば、別のクラスタ化インデックスが必要な場合など）、:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Table</span><span class="p">(</span><span class="s1">&#39;my_table&#39;</span><span class="p">,</span> <span class="n">metadata</span><span class="p">,</span>
      <span class="n">Column</span><span class="p">(</span><span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="o">...</span><span class="p">),</span>
      <span class="n">Column</span><span class="p">(</span><span class="s1">&#39;y&#39;</span><span class="p">,</span> <span class="o">...</span><span class="p">),</span>
      <span class="n">PrimaryKeyConstraint</span><span class="p">(</span><span class="s2">&quot;x&quot;</span><span class="p">,</span> <span class="s2">&quot;y&quot;</span><span class="p">,</span> <span class="n">mssql_clustered</span><span class="o">=</span><span class="kc">False</span><span class="p">))</span></pre></div>
</div>
<p>テーブルをレンダリングします。たとえば、:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">CREATE</span> <span class="n">TABLE</span> <span class="n">my_table</span> <span class="p">(</span><span class="n">x</span> <span class="n">INTEGER</span> <span class="n">NOT</span> <span class="n">NULL</span><span class="p">,</span> <span class="n">y</span> <span class="n">INTEGER</span> <span class="n">NOT</span> <span class="n">NULL</span><span class="p">,</span>
                       <span class="n">PRIMARY</span> <span class="n">KEY</span> <span class="n">NONCLUSTERED</span> <span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">))</span></pre></div>
</div>
<div class="versionchanged">
<p><span class="versionmodified">バージョン 1.1 で変更: </span>`` mssql_clustered``オプションのデフォルトはFalseではなくNoneになりました。 `` mssql_clustered = False``は明示的にNONCLUSTERED句を表示しますが、NoneはCLUSTERED句を完全に省略し、SQL Serverのデフォルトを有効にします。</p>
</div>
</div>
<div class="section" id="mssql-specific-index-options">
<h2>MSSQL固有のインデックスオプション<a class="headerlink" href="#mssql-specific-index-options" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>クラスタ化に加えて、MSSQLダイアレクトは、class： <a href="#id1"><span class="problematic" id="id2">`</span></a>.Index`のための他の特別なオプションもサポートしています。</p>
<div class="section" id="include">
<h3>含める<a class="headerlink" href="#include" title="このヘッドラインへのパーマリンク">¶</a></h3>
<p>`` mssql_include``オプションは与えられた文字列名のINCLUDE（colname）をレンダリングします:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Index</span><span class="p">(</span><span class="s2">&quot;my_index&quot;</span><span class="p">,</span> <span class="n">table</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">x</span><span class="p">,</span> <span class="n">mssql_include</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;y&#39;</span><span class="p">])</span></pre></div>
</div>
<p>インデックスを `` CREATE INDEX my_index ON table（x）INCLUDE（y） <a href="#id1"><span class="problematic" id="id2">``</span></a>としてレンダリングします。</p>
<div class="versionadded">
<p><span class="versionmodified">バージョン 0.8 で追加.</span></p>
</div>
</div>
<div class="section" id="index-ordering">
<h3>インデックスの順序付け<a class="headerlink" href="#index-ordering" title="このヘッドラインへのパーマリンク">¶</a></h3>
<p>インデックスの順序付けは、:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Index</span><span class="p">(</span><span class="s2">&quot;my_index&quot;</span><span class="p">,</span> <span class="n">table</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">x</span><span class="o">.</span><span class="n">desc</span><span class="p">())</span></pre></div>
</div>
<p>インデックスを `` CREATE INDEX my_index ON table（x DESC） <a href="#id1"><span class="problematic" id="id2">``</span></a>としてレンダリングします</p>
<div class="versionadded">
<p><span class="versionmodified">バージョン 0.8 で追加.</span></p>
</div>
<div class="admonition seealso">
<p class="first admonition-title">参考</p>
<p class="last">：ref： <cite>schema_indexes_functional</cite></p>
</div>
</div>
</div>
<div class="section" id="compatibility-levels">
<h2>互換性レベル<a class="headerlink" href="#compatibility-levels" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>MSSQLは、データベースレベルで互換性レベルを設定するという概念をサポートしています。これにより、たとえば、SQL2005データベースサーバーで実行しているときにSQL2000と互換性のあるデータベースを実行できます。 `` server_version_info``は常に互換性レベルの情報ではなくデータベースサーバのバージョン情報（この場合はSQL2005）を返します。このため、下位互換モードで実行している場合、SQAlchemyはデータベースサーバによって解析できないT-SQL文を使用しようとする可能性があります。</p>
</div>
<div class="section" id="triggers">
<h2>トリガー<a class="headerlink" href="#triggers" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>SQLAlchemyは、デフォルトでOUTPUT INSERTEDを使用して、IDENTITYカラムまたは他のサーバサイドのデフォルトを介して新しく生成されたプライマリキー値を取得します。 MS-SQLでは、トリガーを持つテーブルでOUTPUT INSERTEDを使用することはできません。テーブルごとにOUTPUT INSERTEDの使用を無効にするには、各クラスに対して `` implicit_returning = False``を指定します：class： <a href="#id1"><span class="problematic" id="id2">`</span></a>.Table`にはトリガがあります:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Table</span><span class="p">(</span><span class="s1">&#39;mytable&#39;</span><span class="p">,</span> <span class="n">metadata</span><span class="p">,</span>
    <span class="n">Column</span><span class="p">(</span><span class="s1">&#39;id&#39;</span><span class="p">,</span> <span class="n">Integer</span><span class="p">,</span> <span class="n">primary_key</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span>
    <span class="c1"># ...,</span>
    <span class="n">implicit_returning</span><span class="o">=</span><span class="kc">False</span>
<span class="p">)</span></pre></div>
</div>
<p>宣言形式:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">MyClass</span><span class="p">(</span><span class="n">Base</span><span class="p">):</span>
    <span class="c1"># ...</span>
    <span class="n">__table_args__</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;implicit_returning&#39;</span><span class="p">:</span><span class="kc">False</span><span class="p">}</span></pre></div>
</div>
<p>このオプションは：func： <cite>.create_engine`の</cite> <a href="#id1"><span class="problematic" id="id2">`</span></a>implicit_returning = False``引数を使用してエンジン全体に指定することもできます。</p>
</div>
<div class="section" id="rowcount-support-orm-versioning">
<span id="mssql-rowcount-versioning"></span><h2>行数サポート/ ORMバージョン管理<a class="headerlink" href="#rowcount-support-orm-versioning" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>SQL Serverドライバでは、UPDATEまたはDELETEステートメントから更新された行数を返す機能が制限されている可能性があります。</p>
<p>この執筆時点では、OUTPUT INSERTEDが使用されている場合、PyODBCドライバは行数を返すことができません。これは、SQLAlchemy ORMのバージョン管理機能に影響を与えるサーバー側のバリュージェネレータが使用されている場合、バージョン管理操作が成功する一方、ORMはUPDATEまたはDELETE文が期待される行数バージョン識別子が一致していることを確認します。この状態が発生すると、警告が表示されますが、操作は続行されます。</p>
<p>OUTPUT INSERTEDの使用を無効にするには、：paramref： <cite>.Table.implicit_returning`フラグを、特定の：class：</cite> .Table`の `` False``に設定します。これは宣言的には:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">MyTable</span><span class="p">(</span><span class="n">Base</span><span class="p">):</span>
    <span class="n">__tablename__</span> <span class="o">=</span> <span class="s1">&#39;mytable&#39;</span>
    <span class="nb">id</span> <span class="o">=</span> <span class="n">Column</span><span class="p">(</span><span class="n">Integer</span><span class="p">,</span> <span class="n">primary_key</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">stuff</span> <span class="o">=</span> <span class="n">Column</span><span class="p">(</span><span class="n">String</span><span class="p">(</span><span class="mi">10</span><span class="p">))</span>
    <span class="n">timestamp</span> <span class="o">=</span> <span class="n">Column</span><span class="p">(</span><span class="n">TIMESTAMP</span><span class="p">(),</span> <span class="n">default</span><span class="o">=</span><span class="n">text</span><span class="p">(</span><span class="s1">&#39;DEFAULT&#39;</span><span class="p">))</span>
    <span class="n">__mapper_args__</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s1">&#39;version_id_col&#39;</span><span class="p">:</span> <span class="n">timestamp</span><span class="p">,</span>
        <span class="s1">&#39;version_id_generator&#39;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
    <span class="p">}</span>
    <span class="n">__table_args__</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s1">&#39;implicit_returning&#39;</span><span class="p">:</span> <span class="kc">False</span>
    <span class="p">}</span></pre></div>
</div>
</div>
<div class="section" id="enabling-snapshot-isolation">
<h2>スナップショット分離を有効にする<a class="headerlink" href="#enabling-snapshot-isolation" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>SQL Serverには、テーブル全体をロックする既定のトランザクション分離モードがあり、軽度の並行アプリケーションでも長いロックを保持し、頻繁なデッドロックが発生します。最新の並行性サポートには、データベース全体のスナップショット分離を有効にすることをお勧めします。これは、SQLプロンプトで実行される次のALTER DATABASEコマンドを使用して実行されます。</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ALTER</span> <span class="n">DATABASE</span> <span class="n">MyDatabase</span> <span class="n">SET</span> <span class="n">ALLOW_SNAPSHOT_ISOLATION</span> <span class="n">ON</span>

<span class="n">ALTER</span> <span class="n">DATABASE</span> <span class="n">MyDatabase</span> <span class="n">SET</span> <span class="n">READ_COMMITTED_SNAPSHOT</span> <span class="n">ON</span></pre></div>
</div>
<p>SQL Serverスナップショットの隔離に関する背景については、http：//msdn.microsoft.com/en-us/library/ms175095.aspxを参照してください。</p>
</div>
<div class="section" id="sql-server-data-types">
<h2>SQL Serverのデータ型<a class="headerlink" href="#sql-server-data-types" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>すべてのSQLAlchemy方言と同様に、SQLサーバで有効であることが知られているすべてのUPPERCASE型は、from：mod： <a href="#id1"><span class="problematic" id="id2">`</span></a>sqlalchemy.types`またはローカルの方言からトップレベルの方言からインポートできます:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">sqlalchemy.dialects.mssql</span> <span class="k">import</span> \
    <span class="n">BIGINT</span><span class="p">,</span> <span class="n">BINARY</span><span class="p">,</span> <span class="n">BIT</span><span class="p">,</span> <span class="n">CHAR</span><span class="p">,</span> <span class="n">DATE</span><span class="p">,</span> <span class="n">DATETIME</span><span class="p">,</span> <span class="n">DATETIME2</span><span class="p">,</span> \
    <span class="n">DATETIMEOFFSET</span><span class="p">,</span> <span class="n">DECIMAL</span><span class="p">,</span> <span class="n">FLOAT</span><span class="p">,</span> <span class="n">IMAGE</span><span class="p">,</span> <span class="n">INTEGER</span><span class="p">,</span> <span class="n">MONEY</span><span class="p">,</span> \
    <span class="n">NCHAR</span><span class="p">,</span> <span class="n">NTEXT</span><span class="p">,</span> <span class="n">NUMERIC</span><span class="p">,</span> <span class="n">NVARCHAR</span><span class="p">,</span> <span class="n">REAL</span><span class="p">,</span> <span class="n">SMALLDATETIME</span><span class="p">,</span> \
    <span class="n">SMALLINT</span><span class="p">,</span> <span class="n">SMALLMONEY</span><span class="p">,</span> <span class="n">SQL_VARIANT</span><span class="p">,</span> <span class="n">TEXT</span><span class="p">,</span> <span class="n">TIME</span><span class="p">,</span> \
    <span class="n">TIMESTAMP</span><span class="p">,</span> <span class="n">TINYINT</span><span class="p">,</span> <span class="n">UNIQUEIDENTIFIER</span><span class="p">,</span> <span class="n">VARBINARY</span><span class="p">,</span> <span class="n">VARCHAR</span></pre></div>
</div>
<p>SQL Serverに固有の型、またはSQL Server固有の構成引数を持つ型は、次のとおりです。</p>
<dl class="class">
<dt id="sqlalchemy.dialects.mssql.BIT">
<em class="property">class </em><code class="descclassname">sqlalchemy.dialects.mssql.</code><code class="descname">BIT</code><a class="headerlink" href="#sqlalchemy.dialects.mssql.BIT" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="../core/type_api.html#sqlalchemy.types.TypeEngine" title="sqlalchemy.types.TypeEngine"><code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.types.TypeEngine</span></code></a></p>
<dl class="attribute">
<dt id="sqlalchemy.dialects.mssql.BIT.__init__">
<code class="descname">__init__</code><a class="headerlink" href="#sqlalchemy.dialects.mssql.BIT.__init__" title="この定義へのパーマリンク">¶</a></dt>
<dd><div class="inherited-member docutils container">
<em>inherited from the</em> <code class="xref py py-attr docutils literal notranslate"><span class="pre">__init__</span></code> <em>attribute of</em> <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></div>
<p>自己を初期化する。正確な署名については、help（type（self））を参照してください。</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="sqlalchemy.dialects.mssql.CHAR">
<em class="property">class </em><code class="descclassname">sqlalchemy.dialects.mssql.</code><code class="descname">CHAR</code><span class="sig-paren">(</span><em>length=None</em>, <em>collation=None</em>, <em>convert_unicode=False</em>, <em>unicode_error=None</em>, <em>_warn_on_bytestring=False</em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.dialects.mssql.CHAR" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="../core/type_basics.html#sqlalchemy.types.String" title="sqlalchemy.types.String"><code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.types.String</span></code></a></p>
<p>SQL CHAR型。</p>
<dl class="method">
<dt id="sqlalchemy.dialects.mssql.CHAR.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><em>length=None</em>, <em>collation=None</em>, <em>convert_unicode=False</em>, <em>unicode_error=None</em>, <em>_warn_on_bytestring=False</em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.dialects.mssql.CHAR.__init__" title="この定義へのパーマリンク">¶</a></dt>
<dd><div class="inherited-member docutils container">
<em>inherited from the</em> <a class="reference internal" href="../core/type_basics.html#sqlalchemy.types.String.__init__" title="sqlalchemy.types.String.__init__"><code class="xref py py-meth docutils literal notranslate"><span class="pre">__init__()</span></code></a> <em>method of</em> <a class="reference internal" href="../core/type_basics.html#sqlalchemy.types.String" title="sqlalchemy.types.String"><code class="xref py py-class docutils literal notranslate"><span class="pre">String</span></code></a></div>
<p>文字列保持型を作成します。</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">パラメータ:</th><td class="field-body"><ul class="first last simple">
<li><span class="target" id="sqlalchemy.dialects.mssql.CHAR.params.length"></span><strong>length</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.dialects.mssql.CHAR.params.length">¶</a> -- オプションで、DDLおよびCAST式で使用する列の長さ。 `` CREATE TABLE``が発行されない場合は、安全に省略することができます。特定のデータベースでは、DDLで使用するために `` length``が必要な場合があります。長さのない `` VARCHAR``が含まれている場合は、 `` CREATE TABLE`` DDLが発行されると例外が発生します。値がバイトまたは文字として解釈されるかどうかは、データベース固有です。</li>
<li><span class="target" id="sqlalchemy.dialects.mssql.CHAR.params.collation"></span><strong>collation</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.dialects.mssql.CHAR.params.collation">¶</a> -- オプションで、DDLおよびCAST式で使用する列レベルの照合。 SQLite、MySQL、PostgreSQLでサポートされているCOLLATEキーワードを使用してレンダリングします。 SELECT CAST（：param_1 AS VARCHAR COLLATE utf8）ASを使用する場合は、次のように入力します。 anon_1 .. versionadded :: 0.8すべての文字列型に対するCOLLATEのサポートが追加されました。</li>
<li><span class="target" id="sqlalchemy.dialects.mssql.CHAR.params.convert_unicode"></span><strong>convert_unicode</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.dialects.mssql.CHAR.params.convert_unicode">¶</a> -- `` True``に設定すると、：class： <cite>.String`型は入力がPythonの</cite> <cite>unicode``オブジェクトとして渡され、結果がPythonの</cite> <cite>unicode``オブジェクトとして返されると想定します。使用しているDBAPIがPython unicodeをサポートしていない場合（最近はこれよりも少ない）、SQLAlchemyは：func： `.create_engine`に渡された</cite> <cite>encoding``パラメータの値を使用して値をエンコード/デコードしますエンコーディング。 PythonのUnicodeオブジェクトをネイティブにサポートするDBAPIを使用する場合、このフラグは一般に設定する必要はありません。非ASCIIデータを明示的に格納するカラムの場合、：class： `.Unicode`または：class：</cite> .UnicodeText`型は、 `` convert_unicode``と同じ動作をしますが、 `` NVARCHAR``のような、Unicodeを直接サポートする基底のカラム型です。非常にまれにPython `` unicode``がPython `` unicode``をネイティブにサポートするバックエンドでSQLAlchemyによってエンコード/デコードされることになっている場合、 `` force``をここに渡すとSQLAlchemyのエンコードが行われます/無条件に使用されるサービスをデコードします。</li>
<li><span class="target" id="sqlalchemy.dialects.mssql.CHAR.params.unicode_error"></span><strong>unicode_error</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.dialects.mssql.CHAR.params.unicode_error">¶</a> -- オプションで、Unicode変換エラーの処理に使用するメソッド。標準ライブラリの `` string.decode（） <a href="#id1"><span class="problematic" id="id2">``</span></a>関数の `` errors``キーワード引数のように動作します。このフラグは、 `` convert_unicode``が `` force``に設定されている必要があります。そうでなければ、SQLAlchemyはUnicode変換のタスクを処理することは保証されていません。このフラグは、ユニコードオブジェクトをネイティブに返すバックエンド（ほとんどのDBAPIが行う）の行取得操作に大きなパフォーマンスオーバーヘッドを追加することに注意してください。このフラグは、可変または壊れたエンコーディングを持つ列から文字列を読み取る最後の手段としてのみ使用してください。</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="sqlalchemy.dialects.mssql.DATETIME2">
<em class="property">class </em><code class="descclassname">sqlalchemy.dialects.mssql.</code><code class="descname">DATETIME2</code><span class="sig-paren">(</span><em>precision=None</em>, <em>**kw</em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.dialects.mssql.DATETIME2" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.dialects.mssql.base._DateTimeBase</span></code>, <a class="reference internal" href="../core/type_basics.html#sqlalchemy.types.DateTime" title="sqlalchemy.types.DateTime"><code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.types.DateTime</span></code></a></p>
<dl class="method">
<dt id="sqlalchemy.dialects.mssql.DATETIME2.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><em>precision=None</em>, <em>**kw</em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.dialects.mssql.DATETIME2.__init__" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>自己を初期化する。正確な署名については、help（type（self））を参照してください。</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="sqlalchemy.dialects.mssql.DATETIMEOFFSET">
<em class="property">class </em><code class="descclassname">sqlalchemy.dialects.mssql.</code><code class="descname">DATETIMEOFFSET</code><span class="sig-paren">(</span><em>precision=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.dialects.mssql.DATETIMEOFFSET" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="../core/type_api.html#sqlalchemy.types.TypeEngine" title="sqlalchemy.types.TypeEngine"><code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.types.TypeEngine</span></code></a></p>
<dl class="method">
<dt id="sqlalchemy.dialects.mssql.DATETIMEOFFSET.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><em>precision=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.dialects.mssql.DATETIMEOFFSET.__init__" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>自己を初期化する。正確な署名については、help（type（self））を参照してください。</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="sqlalchemy.dialects.mssql.IMAGE">
<em class="property">class </em><code class="descclassname">sqlalchemy.dialects.mssql.</code><code class="descname">IMAGE</code><span class="sig-paren">(</span><em>length=None</em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.dialects.mssql.IMAGE" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="../core/type_basics.html#sqlalchemy.types.LargeBinary" title="sqlalchemy.types.LargeBinary"><code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.types.LargeBinary</span></code></a></p>
<dl class="method">
<dt id="sqlalchemy.dialects.mssql.IMAGE.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><em>length=None</em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.dialects.mssql.IMAGE.__init__" title="この定義へのパーマリンク">¶</a></dt>
<dd><div class="inherited-member docutils container">
<em>inherited from the</em> <a class="reference internal" href="../core/type_basics.html#sqlalchemy.types.LargeBinary.__init__" title="sqlalchemy.types.LargeBinary.__init__"><code class="xref py py-meth docutils literal notranslate"><span class="pre">__init__()</span></code></a> <em>method of</em> <a class="reference internal" href="../core/type_basics.html#sqlalchemy.types.LargeBinary" title="sqlalchemy.types.LargeBinary"><code class="xref py py-class docutils literal notranslate"><span class="pre">LargeBinary</span></code></a></div>
<p>LargeBinary型を構築します。</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">パラメータ:</th><td class="field-body"><span class="target" id="sqlalchemy.dialects.mssql.IMAGE.params.length"></span><strong>length</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.dialects.mssql.IMAGE.params.length">¶</a> -- オプションで、長さを受け入れるバイナリ型（MySQL BLOB型など）のDDL文で使用する列の長さ。</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="sqlalchemy.dialects.mssql.MONEY">
<em class="property">class </em><code class="descclassname">sqlalchemy.dialects.mssql.</code><code class="descname">MONEY</code><a class="headerlink" href="#sqlalchemy.dialects.mssql.MONEY" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="../core/type_api.html#sqlalchemy.types.TypeEngine" title="sqlalchemy.types.TypeEngine"><code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.types.TypeEngine</span></code></a></p>
<dl class="attribute">
<dt id="sqlalchemy.dialects.mssql.MONEY.__init__">
<code class="descname">__init__</code><a class="headerlink" href="#sqlalchemy.dialects.mssql.MONEY.__init__" title="この定義へのパーマリンク">¶</a></dt>
<dd><div class="inherited-member docutils container">
<em>inherited from the</em> <code class="xref py py-attr docutils literal notranslate"><span class="pre">__init__</span></code> <em>attribute of</em> <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></div>
<p>自己を初期化する。正確な署名については、help（type（self））を参照してください。</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="sqlalchemy.dialects.mssql.NCHAR">
<em class="property">class </em><code class="descclassname">sqlalchemy.dialects.mssql.</code><code class="descname">NCHAR</code><span class="sig-paren">(</span><em>length=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.dialects.mssql.NCHAR" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="../core/type_basics.html#sqlalchemy.types.Unicode" title="sqlalchemy.types.Unicode"><code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.types.Unicode</span></code></a></p>
<p>SQL NCHAR型。</p>
<dl class="method">
<dt id="sqlalchemy.dialects.mssql.NCHAR.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><em>length=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.dialects.mssql.NCHAR.__init__" title="この定義へのパーマリンク">¶</a></dt>
<dd><div class="inherited-member docutils container">
<em>inherited from the</em> <a class="reference internal" href="../core/type_basics.html#sqlalchemy.types.Unicode.__init__" title="sqlalchemy.types.Unicode.__init__"><code class="xref py py-meth docutils literal notranslate"><span class="pre">__init__()</span></code></a> <em>method of</em> <a class="reference internal" href="../core/type_basics.html#sqlalchemy.types.Unicode" title="sqlalchemy.types.Unicode"><code class="xref py py-class docutils literal notranslate"><span class="pre">Unicode</span></code></a></div>
<p>a：class： <a href="#id1"><span class="problematic" id="id2">`</span></a>.Unicode`オブジェクトを作成します。</p>
<p>パラメータは：class： <cite>.String`と同じですが、</cite> <cite>convert_unicode``のデフォルトは</cite> <a href="#id1"><span class="problematic" id="id2">`</span></a>True``です。</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="sqlalchemy.dialects.mssql.NTEXT">
<em class="property">class </em><code class="descclassname">sqlalchemy.dialects.mssql.</code><code class="descname">NTEXT</code><span class="sig-paren">(</span><em>length=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.dialects.mssql.NTEXT" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="../core/type_basics.html#sqlalchemy.types.UnicodeText" title="sqlalchemy.types.UnicodeText"><code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.types.UnicodeText</span></code></a></p>
<p>MSSQL NTEXT型。可変長のUnicodeテキストの場合、2〜30文字まで使用できます。</p>
<dl class="method">
<dt id="sqlalchemy.dialects.mssql.NTEXT.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><em>length=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.dialects.mssql.NTEXT.__init__" title="この定義へのパーマリンク">¶</a></dt>
<dd><div class="inherited-member docutils container">
<em>inherited from the</em> <a class="reference internal" href="../core/type_basics.html#sqlalchemy.types.UnicodeText.__init__" title="sqlalchemy.types.UnicodeText.__init__"><code class="xref py py-meth docutils literal notranslate"><span class="pre">__init__()</span></code></a> <em>method of</em> <a class="reference internal" href="../core/type_basics.html#sqlalchemy.types.UnicodeText" title="sqlalchemy.types.UnicodeText"><code class="xref py py-class docutils literal notranslate"><span class="pre">UnicodeText</span></code></a></div>
<p>Unicode変換テキストタイプを作成します。</p>
<p>パラメータは：class： <cite>.Text`と同じですが、</cite> <cite>convert_unicode``のデフォルトは</cite> <a href="#id1"><span class="problematic" id="id2">`</span></a>True``です。</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="sqlalchemy.dialects.mssql.NVARCHAR">
<em class="property">class </em><code class="descclassname">sqlalchemy.dialects.mssql.</code><code class="descname">NVARCHAR</code><span class="sig-paren">(</span><em>length=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.dialects.mssql.NVARCHAR" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="../core/type_basics.html#sqlalchemy.types.Unicode" title="sqlalchemy.types.Unicode"><code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.types.Unicode</span></code></a></p>
<p>SQLのNVARCHAR型です。</p>
<dl class="method">
<dt id="sqlalchemy.dialects.mssql.NVARCHAR.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><em>length=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.dialects.mssql.NVARCHAR.__init__" title="この定義へのパーマリンク">¶</a></dt>
<dd><div class="inherited-member docutils container">
<em>inherited from the</em> <a class="reference internal" href="../core/type_basics.html#sqlalchemy.types.Unicode.__init__" title="sqlalchemy.types.Unicode.__init__"><code class="xref py py-meth docutils literal notranslate"><span class="pre">__init__()</span></code></a> <em>method of</em> <a class="reference internal" href="../core/type_basics.html#sqlalchemy.types.Unicode" title="sqlalchemy.types.Unicode"><code class="xref py py-class docutils literal notranslate"><span class="pre">Unicode</span></code></a></div>
<p>a：class： <a href="#id1"><span class="problematic" id="id2">`</span></a>.Unicode`オブジェクトを作成します。</p>
<p>パラメータは：class： <cite>.String`と同じですが、</cite> <cite>convert_unicode``のデフォルトは</cite> <a href="#id1"><span class="problematic" id="id2">`</span></a>True``です。</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="sqlalchemy.dialects.mssql.REAL">
<em class="property">class </em><code class="descclassname">sqlalchemy.dialects.mssql.</code><code class="descname">REAL</code><span class="sig-paren">(</span><em>**kw</em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.dialects.mssql.REAL" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="../core/type_basics.html#sqlalchemy.types.REAL" title="sqlalchemy.types.REAL"><code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.types.REAL</span></code></a></p>
<dl class="method">
<dt id="sqlalchemy.dialects.mssql.REAL.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><em>**kw</em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.dialects.mssql.REAL.__init__" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>Construct a Float.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">パラメータ:</th><td class="field-body"><ul class="first last simple">
<li><span class="target" id="sqlalchemy.dialects.mssql.REAL.params.precision"></span><strong>precision</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.dialects.mssql.REAL.params.precision">¶</a> -- the numeric precision for use in DDL <code class="docutils literal notranslate"><span class="pre">CREATE</span>
<span class="pre">TABLE</span></code>.</li>
<li><span class="target" id="sqlalchemy.dialects.mssql.REAL.params.asdecimal"></span><strong>asdecimal</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.dialects.mssql.REAL.params.asdecimal">¶</a> -- the same flag as that of <a class="reference internal" href="../core/type_basics.html#sqlalchemy.types.Numeric" title="sqlalchemy.types.Numeric"><code class="xref py py-class docutils literal notranslate"><span class="pre">Numeric</span></code></a>, but
defaults to <code class="docutils literal notranslate"><span class="pre">False</span></code>.   Note that setting this flag to <code class="docutils literal notranslate"><span class="pre">True</span></code>
results in floating point conversion.</li>
<li><span class="target" id="sqlalchemy.dialects.mssql.REAL.params.decimal_return_scale"></span><strong>decimal_return_scale</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.dialects.mssql.REAL.params.decimal_return_scale">¶</a> -- <p>Default scale to use when converting
from floats to Python decimals.  Floating point values will typically
be much longer due to decimal inaccuracy, and most floating point
database types don't have a notion of &quot;scale&quot;, so by default the
float type looks for the first ten decimal places when converting.
Specfiying this value will override that length.  Note that the
MySQL float types, which do include &quot;scale&quot;, will use &quot;scale&quot;
as the default for decimal_return_scale, if not otherwise specified.</p>
<div class="versionadded">
<p><span class="versionmodified">バージョン 0.9.0 で追加.</span></p>
</div>
</li>
<li><span class="target" id="sqlalchemy.dialects.mssql.REAL.params.**kwargs"></span><strong>**kwargs</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.dialects.mssql.REAL.params.**kwargs">¶</a> -- deprecated.  Additional arguments here are ignored
by the default <a class="reference internal" href="../core/type_basics.html#sqlalchemy.types.Float" title="sqlalchemy.types.Float"><code class="xref py py-class docutils literal notranslate"><span class="pre">Float</span></code></a> type.  For database specific
floats that support additional arguments, see that dialect's
documentation for details, such as
<a class="reference internal" href="mysql.html#sqlalchemy.dialects.mysql.FLOAT" title="sqlalchemy.dialects.mysql.FLOAT"><code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.dialects.mysql.FLOAT</span></code></a>.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="sqlalchemy.dialects.mssql.ROWVERSION">
<em class="property">class </em><code class="descclassname">sqlalchemy.dialects.mssql.</code><code class="descname">ROWVERSION</code><span class="sig-paren">(</span><em>convert_int=False</em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.dialects.mssql.ROWVERSION" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.dialects.mssql.base.TIMESTAMP</span></code></p>
<p>SQL Server ROWVERSION型を実装します。</p>
<p>ROWVERSIONデータ型は、TIMESTAMPデータ型のSQL Serverシノニムですが、現在のSQL Serverのドキュメントでは、今後の新しいデータ型に対してROWVERSIONを使用することを提案しています。</p>
<p>ROWVERSIONデータ型はデータベース自体から反映されません**。返されるデータ型はclass： <a href="#id1"><span class="problematic" id="id2">`</span></a>.mssql.TIMESTAMP`になります。</p>
<p>これは、値のINSERTをサポートしない読み取り専用のデータ型です。</p>
<div class="versionadded">
<p><span class="versionmodified">バージョン 1.2 で追加.</span></p>
</div>
<div class="admonition seealso">
<p class="first admonition-title">参考</p>
<p class="last">：クラス： <cite>.mssql.TIMESTAMP</cite></p>
</div>
<dl class="method">
<dt id="sqlalchemy.dialects.mssql.ROWVERSION.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><em>convert_int=False</em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.dialects.mssql.ROWVERSION.__init__" title="この定義へのパーマリンク">¶</a></dt>
<dd><div class="inherited-member docutils container">
<em>inherited from the</em> <code class="xref py py-meth docutils literal notranslate"><span class="pre">__init__()</span></code> <em>method of</em> <code class="xref py py-class docutils literal notranslate"><span class="pre">TIMESTAMP</span></code></div>
<p>TIMESTAMPまたはROWVERSION型を構築します。</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">パラメータ:</th><td class="field-body"><span class="target" id="sqlalchemy.dialects.mssql.ROWVERSION.params.convert_int"></span><strong>convert_int</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.dialects.mssql.ROWVERSION.params.convert_int">¶</a> -- Trueの場合、バイナリ整数値は読み込み時に整数に変換されます。</td>
</tr>
</tbody>
</table>
<div class="versionadded">
<p><span class="versionmodified">バージョン 1.2 で追加.</span></p>
</div>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="sqlalchemy.dialects.mssql.SMALLDATETIME">
<em class="property">class </em><code class="descclassname">sqlalchemy.dialects.mssql.</code><code class="descname">SMALLDATETIME</code><span class="sig-paren">(</span><em>timezone=False</em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.dialects.mssql.SMALLDATETIME" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.dialects.mssql.base._DateTimeBase</span></code>, <a class="reference internal" href="../core/type_basics.html#sqlalchemy.types.DateTime" title="sqlalchemy.types.DateTime"><code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.types.DateTime</span></code></a></p>
<dl class="method">
<dt id="sqlalchemy.dialects.mssql.SMALLDATETIME.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><em>timezone=False</em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.dialects.mssql.SMALLDATETIME.__init__" title="この定義へのパーマリンク">¶</a></dt>
<dd><div class="inherited-member docutils container">
<em>inherited from the</em> <a class="reference internal" href="../core/type_basics.html#sqlalchemy.types.DateTime.__init__" title="sqlalchemy.types.DateTime.__init__"><code class="xref py py-meth docutils literal notranslate"><span class="pre">__init__()</span></code></a> <em>method of</em> <a class="reference internal" href="../core/type_basics.html#sqlalchemy.types.DateTime" title="sqlalchemy.types.DateTime"><code class="xref py py-class docutils literal notranslate"><span class="pre">DateTime</span></code></a></div>
<p>新しい：class： <a href="#id1"><span class="problematic" id="id2">`</span></a>.DateTime`を作ります。</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">パラメータ:</th><td class="field-body"><span class="target" id="sqlalchemy.dialects.mssql.SMALLDATETIME.params.timezone"></span><strong>timezone</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.dialects.mssql.SMALLDATETIME.params.timezone">¶</a> -- ブール値。 ** datetime型で**タイムゾーンのサポートを有効にする必要があることを示します。一部のデータベースには、Oracleなどのタイムゾーン対応のTIMESTAMPデータ型とは異なる別の汎用日付/時刻保持タイプが含まれているため、：class： <a href="#id1"><span class="problematic" id="id2">`</span></a>〜.types.TIMESTAMP`データ型を直接使用することをお薦めします。</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="sqlalchemy.dialects.mssql.SMALLMONEY">
<em class="property">class </em><code class="descclassname">sqlalchemy.dialects.mssql.</code><code class="descname">SMALLMONEY</code><a class="headerlink" href="#sqlalchemy.dialects.mssql.SMALLMONEY" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="../core/type_api.html#sqlalchemy.types.TypeEngine" title="sqlalchemy.types.TypeEngine"><code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.types.TypeEngine</span></code></a></p>
<dl class="attribute">
<dt id="sqlalchemy.dialects.mssql.SMALLMONEY.__init__">
<code class="descname">__init__</code><a class="headerlink" href="#sqlalchemy.dialects.mssql.SMALLMONEY.__init__" title="この定義へのパーマリンク">¶</a></dt>
<dd><div class="inherited-member docutils container">
<em>inherited from the</em> <code class="xref py py-attr docutils literal notranslate"><span class="pre">__init__</span></code> <em>attribute of</em> <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></div>
<p>自己を初期化する。正確な署名については、help（type（self））を参照してください。</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="sqlalchemy.dialects.mssql.SQL_VARIANT">
<em class="property">class </em><code class="descclassname">sqlalchemy.dialects.mssql.</code><code class="descname">SQL_VARIANT</code><a class="headerlink" href="#sqlalchemy.dialects.mssql.SQL_VARIANT" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="../core/type_api.html#sqlalchemy.types.TypeEngine" title="sqlalchemy.types.TypeEngine"><code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.types.TypeEngine</span></code></a></p>
<dl class="attribute">
<dt id="sqlalchemy.dialects.mssql.SQL_VARIANT.__init__">
<code class="descname">__init__</code><a class="headerlink" href="#sqlalchemy.dialects.mssql.SQL_VARIANT.__init__" title="この定義へのパーマリンク">¶</a></dt>
<dd><div class="inherited-member docutils container">
<em>inherited from the</em> <code class="xref py py-attr docutils literal notranslate"><span class="pre">__init__</span></code> <em>attribute of</em> <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></div>
<p>自己を初期化する。正確な署名については、help（type（self））を参照してください。</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="sqlalchemy.dialects.mssql.TEXT">
<em class="property">class </em><code class="descclassname">sqlalchemy.dialects.mssql.</code><code class="descname">TEXT</code><span class="sig-paren">(</span><em>length=None</em>, <em>collation=None</em>, <em>convert_unicode=False</em>, <em>unicode_error=None</em>, <em>_warn_on_bytestring=False</em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.dialects.mssql.TEXT" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="../core/type_basics.html#sqlalchemy.types.Text" title="sqlalchemy.types.Text"><code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.types.Text</span></code></a></p>
<p>SQL TEXT型。</p>
<dl class="method">
<dt id="sqlalchemy.dialects.mssql.TEXT.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><em>length=None</em>, <em>collation=None</em>, <em>convert_unicode=False</em>, <em>unicode_error=None</em>, <em>_warn_on_bytestring=False</em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.dialects.mssql.TEXT.__init__" title="この定義へのパーマリンク">¶</a></dt>
<dd><div class="inherited-member docutils container">
<em>inherited from the</em> <a class="reference internal" href="../core/type_basics.html#sqlalchemy.types.String.__init__" title="sqlalchemy.types.String.__init__"><code class="xref py py-meth docutils literal notranslate"><span class="pre">__init__()</span></code></a> <em>method of</em> <a class="reference internal" href="../core/type_basics.html#sqlalchemy.types.String" title="sqlalchemy.types.String"><code class="xref py py-class docutils literal notranslate"><span class="pre">String</span></code></a></div>
<p>文字列保持型を作成します。</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">パラメータ:</th><td class="field-body"><ul class="first last simple">
<li><span class="target" id="sqlalchemy.dialects.mssql.TEXT.params.length"></span><strong>length</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.dialects.mssql.TEXT.params.length">¶</a> -- オプションで、DDLおよびCAST式で使用する列の長さ。 `` CREATE TABLE``が発行されない場合は、安全に省略することができます。特定のデータベースでは、DDLで使用するために `` length``が必要な場合があります。長さのない `` VARCHAR``が含まれている場合は、 `` CREATE TABLE`` DDLが発行されると例外が発生します。値がバイトまたは文字として解釈されるかどうかは、データベース固有です。</li>
<li><span class="target" id="sqlalchemy.dialects.mssql.TEXT.params.collation"></span><strong>collation</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.dialects.mssql.TEXT.params.collation">¶</a> -- オプションで、DDLおよびCAST式で使用する列レベルの照合。 SQLite、MySQL、PostgreSQLでサポートされているCOLLATEキーワードを使用してレンダリングします。 SELECT CAST（：param_1 AS VARCHAR COLLATE utf8）ASを使用する場合は、次のように入力します。 anon_1 .. versionadded :: 0.8すべての文字列型に対するCOLLATEのサポートが追加されました。</li>
<li><span class="target" id="sqlalchemy.dialects.mssql.TEXT.params.convert_unicode"></span><strong>convert_unicode</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.dialects.mssql.TEXT.params.convert_unicode">¶</a> -- `` True``に設定すると、：class： <cite>.String`型は入力がPythonの</cite> <cite>unicode``オブジェクトとして渡され、結果がPythonの</cite> <cite>unicode``オブジェクトとして返されると想定します。使用しているDBAPIがPython unicodeをサポートしていない場合（最近はこれよりも少ない）、SQLAlchemyは：func： `.create_engine`に渡された</cite> <cite>encoding``パラメータの値を使用して値をエンコード/デコードしますエンコーディング。 PythonのUnicodeオブジェクトをネイティブにサポートするDBAPIを使用する場合、このフラグは一般に設定する必要はありません。非ASCIIデータを明示的に格納するカラムの場合、：class： `.Unicode`または：class：</cite> .UnicodeText`型は、 `` convert_unicode``と同じ動作をしますが、 `` NVARCHAR``のような、Unicodeを直接サポートする基底のカラム型です。非常にまれにPython `` unicode``がPython `` unicode``をネイティブにサポートするバックエンドでSQLAlchemyによってエンコード/デコードされることになっている場合、 `` force``をここに渡すとSQLAlchemyのエンコードが行われます/無条件に使用されるサービスをデコードします。</li>
<li><span class="target" id="sqlalchemy.dialects.mssql.TEXT.params.unicode_error"></span><strong>unicode_error</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.dialects.mssql.TEXT.params.unicode_error">¶</a> -- オプションで、Unicode変換エラーの処理に使用するメソッド。標準ライブラリの `` string.decode（） <a href="#id1"><span class="problematic" id="id2">``</span></a>関数の `` errors``キーワード引数のように動作します。このフラグは、 `` convert_unicode``が `` force``に設定されている必要があります。そうでなければ、SQLAlchemyはUnicode変換のタスクを処理することは保証されていません。このフラグは、ユニコードオブジェクトをネイティブに返すバックエンド（ほとんどのDBAPIが行う）の行取得操作に大きなパフォーマンスオーバーヘッドを追加することに注意してください。このフラグは、可変または壊れたエンコーディングを持つ列から文字列を読み取る最後の手段としてのみ使用してください。</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="sqlalchemy.dialects.mssql.TIME">
<em class="property">class </em><code class="descclassname">sqlalchemy.dialects.mssql.</code><code class="descname">TIME</code><span class="sig-paren">(</span><em>precision=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.dialects.mssql.TIME" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="../core/type_basics.html#sqlalchemy.types.TIME" title="sqlalchemy.types.TIME"><code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.types.TIME</span></code></a></p>
<dl class="method">
<dt id="sqlalchemy.dialects.mssql.TIME.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><em>precision=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.dialects.mssql.TIME.__init__" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>自己を初期化する。正確な署名については、help（type（self））を参照してください。</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="sqlalchemy.dialects.mssql.TIMESTAMP">
<em class="property">class </em><code class="descclassname">sqlalchemy.dialects.mssql.</code><code class="descname">TIMESTAMP</code><span class="sig-paren">(</span><em>convert_int=False</em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.dialects.mssql.TIMESTAMP" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.types._Binary</span></code></p>
<p>SQL ServerのTIMESTAMP型を実装します。</p>
<p>これは、SQL ServerでサポートされていないSQL標準のTIMESTAMPタイプとはまったく異なる**です。これは、値のINSERTをサポートしない読み取り専用のデータ型です。</p>
<div class="versionadded">
<p><span class="versionmodified">バージョン 1.2 で追加.</span></p>
</div>
<div class="admonition seealso">
<p class="first admonition-title">参考</p>
<p class="last">：クラス： <cite>.mssql.ROWVERSION</cite></p>
</div>
<dl class="method">
<dt id="sqlalchemy.dialects.mssql.TIMESTAMP.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><em>convert_int=False</em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.dialects.mssql.TIMESTAMP.__init__" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>TIMESTAMPまたはROWVERSION型を構築します。</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">パラメータ:</th><td class="field-body"><span class="target" id="sqlalchemy.dialects.mssql.TIMESTAMP.params.convert_int"></span><strong>convert_int</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.dialects.mssql.TIMESTAMP.params.convert_int">¶</a> -- Trueの場合、バイナリ整数値は読み込み時に整数に変換されます。</td>
</tr>
</tbody>
</table>
<div class="versionadded">
<p><span class="versionmodified">バージョン 1.2 で追加.</span></p>
</div>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="sqlalchemy.dialects.mssql.TINYINT">
<em class="property">class </em><code class="descclassname">sqlalchemy.dialects.mssql.</code><code class="descname">TINYINT</code><a class="headerlink" href="#sqlalchemy.dialects.mssql.TINYINT" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="../core/type_basics.html#sqlalchemy.types.Integer" title="sqlalchemy.types.Integer"><code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.types.Integer</span></code></a></p>
<dl class="attribute">
<dt id="sqlalchemy.dialects.mssql.TINYINT.__init__">
<code class="descname">__init__</code><a class="headerlink" href="#sqlalchemy.dialects.mssql.TINYINT.__init__" title="この定義へのパーマリンク">¶</a></dt>
<dd><div class="inherited-member docutils container">
<em>inherited from the</em> <code class="xref py py-attr docutils literal notranslate"><span class="pre">__init__</span></code> <em>attribute of</em> <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></div>
<p>自己を初期化する。正確な署名については、help（type（self））を参照してください。</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="sqlalchemy.dialects.mssql.UNIQUEIDENTIFIER">
<em class="property">class </em><code class="descclassname">sqlalchemy.dialects.mssql.</code><code class="descname">UNIQUEIDENTIFIER</code><a class="headerlink" href="#sqlalchemy.dialects.mssql.UNIQUEIDENTIFIER" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="../core/type_api.html#sqlalchemy.types.TypeEngine" title="sqlalchemy.types.TypeEngine"><code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.types.TypeEngine</span></code></a></p>
<dl class="attribute">
<dt id="sqlalchemy.dialects.mssql.UNIQUEIDENTIFIER.__init__">
<code class="descname">__init__</code><a class="headerlink" href="#sqlalchemy.dialects.mssql.UNIQUEIDENTIFIER.__init__" title="この定義へのパーマリンク">¶</a></dt>
<dd><div class="inherited-member docutils container">
<em>inherited from the</em> <code class="xref py py-attr docutils literal notranslate"><span class="pre">__init__</span></code> <em>attribute of</em> <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></div>
<p>自己を初期化する。正確な署名については、help（type（self））を参照してください。</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="sqlalchemy.dialects.mssql.VARCHAR">
<em class="property">class </em><code class="descclassname">sqlalchemy.dialects.mssql.</code><code class="descname">VARCHAR</code><span class="sig-paren">(</span><em>length=None</em>, <em>collation=None</em>, <em>convert_unicode=False</em>, <em>unicode_error=None</em>, <em>_warn_on_bytestring=False</em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.dialects.mssql.VARCHAR" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="../core/type_basics.html#sqlalchemy.types.String" title="sqlalchemy.types.String"><code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.types.String</span></code></a></p>
<p>SQL VARCHAR型。</p>
<dl class="method">
<dt id="sqlalchemy.dialects.mssql.VARCHAR.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><em>length=None</em>, <em>collation=None</em>, <em>convert_unicode=False</em>, <em>unicode_error=None</em>, <em>_warn_on_bytestring=False</em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.dialects.mssql.VARCHAR.__init__" title="この定義へのパーマリンク">¶</a></dt>
<dd><div class="inherited-member docutils container">
<em>inherited from the</em> <a class="reference internal" href="../core/type_basics.html#sqlalchemy.types.String.__init__" title="sqlalchemy.types.String.__init__"><code class="xref py py-meth docutils literal notranslate"><span class="pre">__init__()</span></code></a> <em>method of</em> <a class="reference internal" href="../core/type_basics.html#sqlalchemy.types.String" title="sqlalchemy.types.String"><code class="xref py py-class docutils literal notranslate"><span class="pre">String</span></code></a></div>
<p>文字列保持型を作成します。</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">パラメータ:</th><td class="field-body"><ul class="first last simple">
<li><span class="target" id="sqlalchemy.dialects.mssql.VARCHAR.params.length"></span><strong>length</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.dialects.mssql.VARCHAR.params.length">¶</a> -- オプションで、DDLおよびCAST式で使用する列の長さ。 `` CREATE TABLE``が発行されない場合は、安全に省略することができます。特定のデータベースでは、DDLで使用するために `` length``が必要な場合があります。長さのない `` VARCHAR``が含まれている場合は、 `` CREATE TABLE`` DDLが発行されると例外が発生します。値がバイトまたは文字として解釈されるかどうかは、データベース固有です。</li>
<li><span class="target" id="sqlalchemy.dialects.mssql.VARCHAR.params.collation"></span><strong>collation</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.dialects.mssql.VARCHAR.params.collation">¶</a> -- オプションで、DDLおよびCAST式で使用する列レベルの照合。 SQLite、MySQL、PostgreSQLでサポートされているCOLLATEキーワードを使用してレンダリングします。 SELECT CAST（：param_1 AS VARCHAR COLLATE utf8）ASを使用する場合は、次のように入力します。 anon_1 .. versionadded :: 0.8すべての文字列型に対するCOLLATEのサポートが追加されました。</li>
<li><span class="target" id="sqlalchemy.dialects.mssql.VARCHAR.params.convert_unicode"></span><strong>convert_unicode</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.dialects.mssql.VARCHAR.params.convert_unicode">¶</a> -- `` True``に設定すると、：class： <cite>.String`型は入力がPythonの</cite> <cite>unicode``オブジェクトとして渡され、結果がPythonの</cite> <cite>unicode``オブジェクトとして返されると想定します。使用しているDBAPIがPython unicodeをサポートしていない場合（最近はこれよりも少ない）、SQLAlchemyは：func： `.create_engine`に渡された</cite> <cite>encoding``パラメータの値を使用して値をエンコード/デコードしますエンコーディング。 PythonのUnicodeオブジェクトをネイティブにサポートするDBAPIを使用する場合、このフラグは一般に設定する必要はありません。非ASCIIデータを明示的に格納するカラムの場合、：class： `.Unicode`または：class：</cite> .UnicodeText`型は、 `` convert_unicode``と同じ動作をしますが、 `` NVARCHAR``のような、Unicodeを直接サポートする基底のカラム型です。非常にまれにPython `` unicode``がPython `` unicode``をネイティブにサポートするバックエンドでSQLAlchemyによってエンコード/デコードされることになっている場合、 `` force``をここに渡すとSQLAlchemyのエンコードが行われます/無条件に使用されるサービスをデコードします。</li>
<li><span class="target" id="sqlalchemy.dialects.mssql.VARCHAR.params.unicode_error"></span><strong>unicode_error</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.dialects.mssql.VARCHAR.params.unicode_error">¶</a> -- オプションで、Unicode変換エラーの処理に使用するメソッド。標準ライブラリの `` string.decode（） <a href="#id1"><span class="problematic" id="id2">``</span></a>関数の `` errors``キーワード引数のように動作します。このフラグは、 `` convert_unicode``が `` force``に設定されている必要があります。そうでなければ、SQLAlchemyはUnicode変換のタスクを処理することは保証されていません。このフラグは、ユニコードオブジェクトをネイティブに返すバックエンド（ほとんどのDBAPIが行う）の行取得操作に大きなパフォーマンスオーバーヘッドを追加することに注意してください。このフラグは、可変または壊れたエンコーディングを持つ列から文字列を読み取る最後の手段としてのみ使用してください。</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="sqlalchemy.dialects.mssql.XML">
<em class="property">class </em><code class="descclassname">sqlalchemy.dialects.mssql.</code><code class="descname">XML</code><span class="sig-paren">(</span><em>length=None</em>, <em>collation=None</em>, <em>convert_unicode=False</em>, <em>unicode_error=None</em>, <em>_warn_on_bytestring=False</em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.dialects.mssql.XML" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="../core/type_basics.html#sqlalchemy.types.Text" title="sqlalchemy.types.Text"><code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.types.Text</span></code></a></p>
<p>MSSQL XMLタイプ。</p>
<p>これは、Python側のデータ型サポートを含まない、リフレクションのためのプレースホルダ型です。現在、&amp;quot;CONTENT &amp;quot;、&amp;quot;DOCUMENT &amp;quot;、&amp;quot;xml_schema_collection &amp;quot;などの追加引数もサポートしていません。</p>
<div class="versionadded">
<p><span class="versionmodified">バージョン 1.1.11 で追加.</span></p>
</div>
<dl class="method">
<dt id="sqlalchemy.dialects.mssql.XML.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><em>length=None</em>, <em>collation=None</em>, <em>convert_unicode=False</em>, <em>unicode_error=None</em>, <em>_warn_on_bytestring=False</em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.dialects.mssql.XML.__init__" title="この定義へのパーマリンク">¶</a></dt>
<dd><div class="inherited-member docutils container">
<em>inherited from the</em> <a class="reference internal" href="../core/type_basics.html#sqlalchemy.types.String.__init__" title="sqlalchemy.types.String.__init__"><code class="xref py py-meth docutils literal notranslate"><span class="pre">__init__()</span></code></a> <em>method of</em> <a class="reference internal" href="../core/type_basics.html#sqlalchemy.types.String" title="sqlalchemy.types.String"><code class="xref py py-class docutils literal notranslate"><span class="pre">String</span></code></a></div>
<p>文字列保持型を作成します。</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">パラメータ:</th><td class="field-body"><ul class="first last simple">
<li><span class="target" id="sqlalchemy.dialects.mssql.XML.params.length"></span><strong>length</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.dialects.mssql.XML.params.length">¶</a> -- オプションで、DDLおよびCAST式で使用する列の長さ。 `` CREATE TABLE``が発行されない場合は、安全に省略することができます。特定のデータベースでは、DDLで使用するために `` length``が必要な場合があります。長さのない `` VARCHAR``が含まれている場合は、 `` CREATE TABLE`` DDLが発行されると例外が発生します。値がバイトまたは文字として解釈されるかどうかは、データベース固有です。</li>
<li><span class="target" id="sqlalchemy.dialects.mssql.XML.params.collation"></span><strong>collation</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.dialects.mssql.XML.params.collation">¶</a> -- オプションで、DDLおよびCAST式で使用する列レベルの照合。 SQLite、MySQL、PostgreSQLでサポートされているCOLLATEキーワードを使用してレンダリングします。 SELECT CAST（：param_1 AS VARCHAR COLLATE utf8）ASを使用する場合は、次のように入力します。 anon_1 .. versionadded :: 0.8すべての文字列型に対するCOLLATEのサポートが追加されました。</li>
<li><span class="target" id="sqlalchemy.dialects.mssql.XML.params.convert_unicode"></span><strong>convert_unicode</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.dialects.mssql.XML.params.convert_unicode">¶</a> -- `` True``に設定すると、：class： <cite>.String`型は入力がPythonの</cite> <cite>unicode``オブジェクトとして渡され、結果がPythonの</cite> <cite>unicode``オブジェクトとして返されると想定します。使用しているDBAPIがPython unicodeをサポートしていない場合（最近はこれよりも少ない）、SQLAlchemyは：func： `.create_engine`に渡された</cite> <cite>encoding``パラメータの値を使用して値をエンコード/デコードしますエンコーディング。 PythonのUnicodeオブジェクトをネイティブにサポートするDBAPIを使用する場合、このフラグは一般に設定する必要はありません。非ASCIIデータを明示的に格納するカラムの場合、：class： `.Unicode`または：class：</cite> .UnicodeText`型は、 `` convert_unicode``と同じ動作をしますが、 `` NVARCHAR``のような、Unicodeを直接サポートする基底のカラム型です。非常にまれにPython `` unicode``がPython `` unicode``をネイティブにサポートするバックエンドでSQLAlchemyによってエンコード/デコードされることになっている場合、 `` force``をここに渡すとSQLAlchemyのエンコードが行われます/無条件に使用されるサービスをデコードします。</li>
<li><span class="target" id="sqlalchemy.dialects.mssql.XML.params.unicode_error"></span><strong>unicode_error</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.dialects.mssql.XML.params.unicode_error">¶</a> -- オプションで、Unicode変換エラーの処理に使用するメソッド。標準ライブラリの `` string.decode（） <a href="#id1"><span class="problematic" id="id2">``</span></a>関数の `` errors``キーワード引数のように動作します。このフラグは、 `` convert_unicode``が `` force``に設定されている必要があります。そうでなければ、SQLAlchemyはUnicode変換のタスクを処理することは保証されていません。このフラグは、ユニコードオブジェクトをネイティブに返すバックエンド（ほとんどのDBAPIが行う）の行取得操作に大きなパフォーマンスオーバーヘッドを追加することに注意してください。このフラグは、可変または壊れたエンコーディングを持つ列から文字列を読み取る最後の手段としてのみ使用してください。</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-sqlalchemy.dialects.mssql.pyodbc">
<span id="pyodbc"></span><h2>PyODBC<a class="headerlink" href="#module-sqlalchemy.dialects.mssql.pyodbc" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>Support for the Microsoft SQL Server database via the PyODBC driver.</p>
<div class="section" id="dialect-mssql-pyodbc-url">
<h3>DBAPI<a class="headerlink" href="#dialect-mssql-pyodbc-url" title="このヘッドラインへのパーマリンク">¶</a></h3>
<p>Documentation and download information (if applicable) for PyODBC is available at:
<a class="reference external" href="http://pypi.python.org/pypi/pyodbc/">http://pypi.python.org/pypi/pyodbc/</a></p>
</div>
<div class="section" id="dialect-mssql-pyodbc-connect">
<h3>Connecting<a class="headerlink" href="#dialect-mssql-pyodbc-connect" title="このヘッドラインへのパーマリンク">¶</a></h3>
<p>Connect String:<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">mssql</span><span class="o">+</span><span class="n">pyodbc</span><span class="p">:</span><span class="o">//&lt;</span><span class="n">username</span><span class="o">&gt;</span><span class="p">:</span><span class="o">&lt;</span><span class="n">password</span><span class="o">&gt;@&lt;</span><span class="n">dsnname</span><span class="o">&gt;</span></pre></div>
</div>
</p>
</div>
<div class="section" id="connecting-to-pyodbc">
<h3>PyODBCに接続する<a class="headerlink" href="#connecting-to-pyodbc" title="このヘッドラインへのパーマリンク">¶</a></h3>
<p>ここのURLは、 <a href="#id1"><span class="problematic" id="id2">`</span></a>ConnectionStrings`で詳しく述べられているように、PyODBC接続文字列に変換されます。 &lt;<a class="reference external" href="https://code.google.com/p/pyodbc/wiki/ConnectionStrings">https://code.google.com/p/pyodbc/wiki/ConnectionStrings</a>&gt; <a href="#id3"><span class="problematic" id="id4">`</span></a>_。</p>
<div class="section" id="dsn-connections">
<h4>DSN接続<a class="headerlink" href="#dsn-connections" title="このヘッドラインへのパーマリンク">¶</a></h4>
<p>DSNベースの接続は、ODBCを使用している場合には全体的に**好まれます**。基本的なDSNベースの接続は次のようになります:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">engine</span> <span class="o">=</span> <span class="n">create_engine</span><span class="p">(</span><span class="s2">&quot;mssql+pyodbc://scott:tiger@some_dsn&quot;</span><span class="p">)</span></pre></div>
</div>
<p>上のコードはPyODBCに次の接続文字列を渡します:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">dsn</span><span class="o">=</span><span class="n">mydsn</span><span class="p">;</span><span class="n">UID</span><span class="o">=</span><span class="n">user</span><span class="p">;</span><span class="n">PWD</span><span class="o">=</span><span class="k">pass</span></pre></div>
</div>
<p>ユーザ名とパスワードを省略すると、DSN形式はODBC文字列に `` Trusted_Connection = yes``指示文を追加します。</p>
</div>
<div class="section" id="hostname-connections">
<h4>ホスト名の接続<a class="headerlink" href="#hostname-connections" title="このヘッドラインへのパーマリンク">¶</a></h4>
<p>ホスト名ベースの接続は**好ましくはありませんが、サポートされています。 ODBCドライバ名は明示的に指定する必要があります:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">engine</span> <span class="o">=</span> <span class="n">create_engine</span><span class="p">(</span><span class="s2">&quot;mssql+pyodbc://scott:tiger@myhost:port/databasename?driver=SQL+Server+Native+Client+10.0&quot;</span><span class="p">)</span></pre></div>
</div>
<div class="versionchanged">
<p><span class="versionmodified">バージョン 1.0.0 で変更: </span>ホスト名ベースのPyODBC接続では、明示的に指定されたSQL Serverドライバ名が必要になりました。 SQLAlchemyは、プラットフォームやインストールされているドライバに応じて最適なデフォルト値を選択することはできません。</p>
</div>
<p>DSNとホスト名の両方の場合にPyodbc方言によって `` pyodbc.connect（） <code class="docutils literal notranslate"><span class="pre">に渡される他のキーワードは、</span> <span class="pre">``</span> <span class="pre">odbc_autotranslate</span></code>、 `` ansi``、 `` unicode_results``、 `` autocommit <a href="#id1"><span class="problematic" id="id2">``</span></a>。</p>
</div>
<div class="section" id="pass-through-exact-pyodbc-string">
<h4>厳密なPyodbc文字列を渡す<a class="headerlink" href="#pass-through-exact-pyodbc-string" title="このヘッドラインへのパーマリンク">¶</a></h4>
<p>PyODBC接続文字列は、 <cite>ConnectionStrings &lt;https://code.google.com/p/pyodbc/wiki/ConnectionStrings&gt; `_ odbc_connect`パラメータを使用してドライバに</cite> _を追加します。ただし、区切り文字はURLでエスケープする必要があります（下の図は `` urllib.quote_plus``</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">urllib</span>
<span class="n">params</span> <span class="o">=</span> <span class="n">urllib</span><span class="o">.</span><span class="n">quote_plus</span><span class="p">(</span><span class="s2">&quot;DRIVER={SQL Server Native Client 10.0};SERVER=dagger;DATABASE=test;UID=user;PWD=password&quot;</span><span class="p">)</span>

<span class="n">engine</span> <span class="o">=</span> <span class="n">create_engine</span><span class="p">(</span><span class="s2">&quot;mssql+pyodbc:///?odbc_connect=</span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">params</span><span class="p">)</span></pre></div>
</div>
</div>
</div>
<div class="section" id="driver-unicode-support">
<h3>ドライバ/ Unicodeのサポート<a class="headerlink" href="#driver-unicode-support" title="このヘッドラインへのパーマリンク">¶</a></h3>
<p>PyODBCは、特にPython 2とPython 3の両方のUnicodeサポートの分野で、Microsoft ODBCドライバで最も効果的です。</p>
<p>LinuxまたはFreeBSD ODBCドライバをPyODBCで使用することは**推奨されていません**。 MicrosoftがLinuxおよびOSXのODBCドライバを提供する前も含めて、この分野で歴史的に多くのUnicode関連の問題がありました。 Microsoftはすべてのプラットフォーム用のドライバを提供しているので、PyODBCのサポートが推奨されています。 FreeTDSは、pymssqlのような非ODBCドライバにとってはうまく動作します。</p>
</div>
<div class="section" id="rowcount-support">
<h3>行数のサポート<a class="headerlink" href="#rowcount-support" title="このヘッドラインへのパーマリンク">¶</a></h3>
<p>Pyodbcは、行数を部分的にしかサポートしていません。 ORMのバージョニングを使用する際の注意点については、ref： <a href="#id1"><span class="problematic" id="id2">`</span></a>mssql_rowcount_versioning`のノートを参照してください。</p>
</div>
<div class="section" id="fast-executemany-mode">
<span id="mssql-pyodbc-fastexecutemany"></span><h3>高速実行モード<a class="headerlink" href="#fast-executemany-mode" title="このヘッドラインへのパーマリンク">¶</a></h3>
<p>Pyodbcドライバは、Microsoft ODBCドライバを使用しているときにDBAPI `` executemany（） <a href="#id1"><span class="problematic" id="id2">``</span></a>呼び出しのラウンドトリップを大幅に削減する&amp;quot;高速executemany &amp;quot;モードのサポートを追加しました。この機能はexecutemanyコールが使用されるときにDBAPIカーソルにフラグ `` .fast_executemany``を設定することで有効になります。 SQLAlchemy pyodbc SQL Serverの方言は、 `` .fast_executemany``フラグが：func： <a href="#id3"><span class="problematic" id="id4">`</span></a>.create_engine`に渡されたときに自動的にこのフラグを設定することをサポートします。このフラグを使用するには、ODBCドライバがMicrosoftドライバでなければならないことに注意してください:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">engine</span> <span class="o">=</span> <span class="n">create_engine</span><span class="p">(</span>
    <span class="s2">&quot;mssql+pyodbc://scott:tiger@mssql2017:1433/test?driver=ODBC+Driver+13+for+SQL+Server&quot;</span><span class="p">,</span>
    <span class="n">fast_executemany</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span></pre></div>
</div>
<div class="versionadded">
<p><span class="versionmodified">バージョン 1.3 で追加.</span></p>
</div>
<div class="admonition seealso">
<p class="first admonition-title">参考</p>
<p class="last"><a href="#id1"><span class="problematic" id="id2">`</span></a>fast executemany &lt;<a class="reference external" href="https://github.com/mkleehammer/pyodbc/wiki/Features-beyond-the-DB-API#fast_executemany">https://github.com/mkleehammer/pyodbc/wiki/Features-beyond-the-DB-API#fast_executemany</a>&gt; <a href="#id3"><span class="problematic" id="id4">`</span></a>_  -  github上で</p>
</div>
</div>
</div>
<div class="section" id="module-sqlalchemy.dialects.mssql.mxodbc">
<span id="mxodbc"></span><h2>mxODBC<a class="headerlink" href="#module-sqlalchemy.dialects.mssql.mxodbc" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>Support for the Microsoft SQL Server database via the mxODBC driver.</p>
<div class="section" id="dialect-mssql-mxodbc-url">
<h3>DBAPI<a class="headerlink" href="#dialect-mssql-mxodbc-url" title="このヘッドラインへのパーマリンク">¶</a></h3>
<p>Documentation and download information (if applicable) for mxODBC is available at:
<a class="reference external" href="http://www.egenix.com/">http://www.egenix.com/</a></p>
</div>
<div class="section" id="dialect-mssql-mxodbc-connect">
<h3>Connecting<a class="headerlink" href="#dialect-mssql-mxodbc-connect" title="このヘッドラインへのパーマリンク">¶</a></h3>
<p>Connect String:<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">mssql</span><span class="o">+</span><span class="n">mxodbc</span><span class="p">:</span><span class="o">//&lt;</span><span class="n">username</span><span class="o">&gt;</span><span class="p">:</span><span class="o">&lt;</span><span class="n">password</span><span class="o">&gt;@&lt;</span><span class="n">dsnname</span><span class="o">&gt;</span></pre></div>
</div>
</p>
</div>
<div class="section" id="execution-modes">
<h3>実行モード<a class="headerlink" href="#execution-modes" title="このヘッドラインへのパーマリンク">¶</a></h3>
<p>mxODBCには、 `` cursor.execute（） <a href="#id1"><span class="problematic" id="id2">``</span></a>と `` cursor.executedirect（） <a href="#id3"><span class="problematic" id="id4">``</span></a>メソッド（2番目はDBAPI仕様への拡張）を使用して、2つのスタイルの文の実行があります。前者はSQL Server Native Client ODBCドライバに固有の特定のAPI呼び出しを使用しますが、後者はSQLDescribeParamと呼ばれます。</p>
<p>mxODBCは、SQLDescribeParamが使用されているときに、準備された単一の文を繰り返し使用するだけです。準備されたステートメントの再利用の利点は、パフォーマンスの1つです。欠点は、SQLDescribeParamには、関数呼び出しの引数リスト、FROM外の場所、FROM句内のサブクエリ内に配置することができないなど、バインドパラメータが理解できるシナリオが限られていることです。最も単純なステートメント以外のステートメントでは不可能なSELECTステートメント内のパラメーターをバインドします。</p>
<p>このため、mxODBC方言は、デフォルトではINSERT、UPDATE、およびDELETE文にのみ&amp;quot;native &amp;quot;モードを使用し、他のすべての文ではエスケープ文字列モードを使用します。</p>
<p>この動作は、 `` True``または `` False``の値を持つ `` native_odbc_execute``フラグを使って：meth： <cite>〜sqlalchemy.sql.expression.Executable.execution_options`で制御することができます。 `True``はネイティブバインドパラメータを無条件に使用し、</cite> False`の値は無条件に文字列エスケープパラメータを使用します。</p>
</div>
</div>
<div class="section" id="module-sqlalchemy.dialects.mssql.pymssql">
<span id="pymssql"></span><h2>pymssql<a class="headerlink" href="#module-sqlalchemy.dialects.mssql.pymssql" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>Support for the Microsoft SQL Server database via the pymssql driver.</p>
<div class="section" id="dialect-mssql-pymssql-url">
<h3>DBAPI<a class="headerlink" href="#dialect-mssql-pymssql-url" title="このヘッドラインへのパーマリンク">¶</a></h3>
<p>Documentation and download information (if applicable) for pymssql is available at:
<a class="reference external" href="http://pymssql.org/">http://pymssql.org/</a></p>
</div>
<div class="section" id="dialect-mssql-pymssql-connect">
<h3>Connecting<a class="headerlink" href="#dialect-mssql-pymssql-connect" title="このヘッドラインへのパーマリンク">¶</a></h3>
<p>Connect String:<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>mssql+pymssql://&lt;username&gt;:&lt;password&gt;@&lt;freetds_name&gt;/?charset=utf8</pre></div>
</div>
</p>
</div>
<p>pymssqlは <a href="#id1"><span class="problematic" id="id2">`</span></a>FreeTDSの周りにPython DBAPIインターフェースを提供するPythonモジュールです&lt;<a class="reference external" href="http://www.freetds.org/">http://www.freetds.org/</a>&gt; <a href="#id3"><span class="problematic" id="id4">`</span></a>_。互換性のあるビルドは、Linux、MacOSX、Windowsプラットフォームで利用できます。</p>
<p>このドライバの現代版は、LinuxのSQL ServerやFreeTDSでうまく動作します。</p>
</div>
<div class="section" id="module-sqlalchemy.dialects.mssql.zxjdbc">
<span id="zxjdbc"></span><h2>zxjdbc<a class="headerlink" href="#module-sqlalchemy.dialects.mssql.zxjdbc" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>Support for the Microsoft SQL Server database via the zxJDBC for Jython driver.<div class="admonition note">
<p class="first admonition-title">注釈</p>
<p class="last">Jython is not supported by current versions of SQLAlchemy.  The
zxjdbc dialect should be considered as experimental.</p>
</div>
</p>
<div class="section" id="dialect-mssql-zxjdbc-url">
<h3>DBAPI<a class="headerlink" href="#dialect-mssql-zxjdbc-url" title="このヘッドラインへのパーマリンク">¶</a></h3>
<p>Drivers for this database are available at:
<a class="reference external" href="http://jtds.sourceforge.net/">http://jtds.sourceforge.net/</a></p>
</div>
<div class="section" id="dialect-mssql-zxjdbc-connect">
<h3>Connecting<a class="headerlink" href="#dialect-mssql-zxjdbc-connect" title="このヘッドラインへのパーマリンク">¶</a></h3>
<p>Connect String:<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>mssql+zxjdbc://user:pass@host:port/dbname[?key=value&amp;key=value...]</pre></div>
</div>
</p>
</div>
</div>
<div class="section" id="module-sqlalchemy.dialects.mssql.adodbapi">
<span id="adodbapi"></span><h2>AdoDBAPI<a class="headerlink" href="#module-sqlalchemy.dialects.mssql.adodbapi" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>Support for the Microsoft SQL Server database via the adodbapi driver.</p>
<div class="section" id="dialect-mssql-adodbapi-url">
<h3>DBAPI<a class="headerlink" href="#dialect-mssql-adodbapi-url" title="このヘッドラインへのパーマリンク">¶</a></h3>
<p>Documentation and download information (if applicable) for adodbapi is available at:
<a class="reference external" href="http://adodbapi.sourceforge.net/">http://adodbapi.sourceforge.net/</a></p>
</div>
<div class="section" id="dialect-mssql-adodbapi-connect">
<h3>Connecting<a class="headerlink" href="#dialect-mssql-adodbapi-connect" title="このヘッドラインへのパーマリンク">¶</a></h3>
<p>Connect String:<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">mssql</span><span class="o">+</span><span class="n">adodbapi</span><span class="p">:</span><span class="o">//&lt;</span><span class="n">username</span><span class="o">&gt;</span><span class="p">:</span><span class="o">&lt;</span><span class="n">password</span><span class="o">&gt;@&lt;</span><span class="n">dsnname</span><span class="o">&gt;</span></pre></div>
</div>
</p>
</div>
<div class="admonition note">
<p class="first admonition-title">注釈</p>
<p class="last">この時点では、adodbapi方言はSQLAlchemyバージョン0.6以上では実装されていません。</p>
</div>
</div>
</div>

    </div>

</div>

<div id="docs-bottom-navigation" class="docs-navigation-links, withsidebar">
        Previous:
        <a href="firebird.html" title="previous chapter">ファイアバード</a>
        Next:
        <a href="mysql.html" title="next chapter">MySQL</a>

    <div id="docs-copyright">
        &copy; <a href="../copyright.html">Copyright</a> 2007-2018, the SQLAlchemy authors and contributors.
        Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.8.1.
    </div>
</div>

</div>



        
        

    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
          URL_ROOT:    '../',
          VERSION:     '1.3.0b1',
          COLLAPSE_MODINDEX: false,
          FILE_SUFFIX: '.html'
      };
    </script>

    <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>

    <!-- begin iterate through sphinx environment script_files -->
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script type="text/javascript" src="../_static/translations.js"></script>
        <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <!-- end iterate through sphinx environment script_files -->

    <script type="text/javascript" src="../_static/detectmobile.js"></script>
    <script type="text/javascript" src="../_static/init.js"></script>


    </body>
</html>


