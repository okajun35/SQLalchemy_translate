<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">



<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        
        <title>
            
    
    オラクル
 &mdash;
    SQLAlchemy 1.3 Documentation

        </title>

        
            <!-- begin iterate through site-imported + sphinx environment css_files -->
                <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
                <link rel="stylesheet" href="../_static/docs.css" type="text/css" />
                <link rel="stylesheet" href="../_static/changelog.css" type="text/css" />
                <link rel="stylesheet" href="../_static/sphinx_paramlinks.css" type="text/css" />
            <!-- end iterate through site-imported + sphinx environment css_files -->
        

        

    

    <!-- begin layout.mako headers -->

    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
        <link rel="copyright" title="Copyright" href="../copyright.html" />
    <link rel="top" title="SQLAlchemy 1.3 Documentation" href="../index.html" />
        <link rel="up" title="方言" href="index.html" />
        <link rel="next" title="PostgreSQL" href="postgresql.html" />
        <link rel="prev" title="MySQL" href="mysql.html" />
    <!-- end layout.mako headers -->


    </head>
    <body>
        
















<div id="docs-container">





<div id="docs-top-navigation-container" class="body-background">
<div id="docs-header">
    <div id="docs-version-header">
        Release: <span class="version-num">1.3.0b1</span>


        | Release Date: unreleased

    </div>

    <h1>SQLAlchemy 1.3 Documentation</h1>

</div>
</div>

<div id="docs-body-container">

    <div id="fixed-sidebar" class="withsidebar">


        <div id="docs-sidebar-popout">
            <h3><a href="../index.html">SQLAlchemy 1.3 Documentation</a></h3>
            <p id="sidebar-topnav">
                <a href="../contents.html">Contents</a> |
                <a href="../genindex.html">Index</a>
            </p>

            <div id="sidebar-search">
                <form class="search" action="../search.html" method="get">
                  <label>
                  Search terms:
                  <input type="text" placeholder="search..." name="q" size="12" />
                  </label>
                  <input type="hidden" name="check_keywords" value="yes" />
                  <input type="hidden" name="area" value="default" />
                </form>
            </div>

        </div>

        <div id="docs-sidebar">

        <div id="sidebar-banner">
            
        </div>

        <div id="docs-sidebar-inner">

        
        <h3>
            <a href="index.html" title="方言">方言</a>
        </h3>

        <ul>
<li><span class="link-container first"><a class="reference external" href="firebird.html">ファイアバード</a></span></li>
<li><span class="link-container first"><a class="reference external" href="mssql.html">Microsoft SQL Server</a></span></li>
<li><span class="link-container first"><a class="reference external" href="mysql.html">MySQL</a></span></li>
<li class="selected"><span class="link-container first"><strong>オラクル</strong><a class="paramlink headerlink reference internal" href="#">¶</a></span><ul>
<li><span class="link-container first"><a class="reference external" href="#dialect-oracle">Support for the Oracle database.</a></span></li>
<li><span class="link-container first"><a class="reference external" href="#connect-arguments">接続引数</a></span></li>
<li><span class="link-container first"><a class="reference external" href="#auto-increment-behavior">自動インクリメント動作</a></span></li>
<li><span class="link-container first"><a class="reference external" href="#identifier-casing">識別子ケーシング</a></span></li>
<li><span class="link-container first"><a class="reference external" href="#limit-offset-support">LIMIT / OFFSETのサポート</a></span></li>
<li><span class="link-container first"><a class="reference external" href="#returning-support">戻り値のサポート</a></span></li>
<li><span class="link-container first"><a class="reference external" href="#on-update-cascade">更新カスケード</a></span></li>
<li><span class="link-container first"><a class="reference external" href="#oracle-8-compatibility">Oracle 8の互換性</a></span></li>
<li><span class="link-container first"><a class="reference external" href="#synonym-dblink-reflection">同義語/ DBLINKリフレクション</a></span></li>
<li><span class="link-container first"><a class="reference external" href="#constraint-reflection">制約の反映</a></span></li>
<li><span class="link-container first"><a class="reference external" href="#table-names-with-system-sysaux-tablespaces">SYSTEM / SYSAUX表領域を持つ表名</a></span></li>
<li><span class="link-container first"><a class="reference external" href="#datetime-compatibility">DateTimeの互換性</a></span></li>
<li><span class="link-container first"><a class="reference external" href="#oracle-table-options">Oracle表オプション</a></span></li>
<li><span class="link-container first"><a class="reference external" href="#oracle-specific-index-options">Oracle固有の索引オプション</a></span><ul>
<li><span class="link-container first"><a class="reference external" href="#bitmap-indexes">ビットマップインデックス</a></span></li>
<li><span class="link-container first"><a class="reference external" href="#index-compression">インデックスの圧縮</a></span></li>
</ul>
</li>
<li><span class="link-container first"><a class="reference external" href="#oracle-data-types">Oracleデータ型</a></span></li>
<li><span class="link-container first"><a class="reference external" href="#module-sqlalchemy.dialects.oracle.cx_oracle">cx_Oracle</a></span><ul>
<li><span class="link-container first"><a class="reference external" href="#dialect-oracle-cx_oracle-url">DBAPI</a></span></li>
<li><span class="link-container first"><a class="reference external" href="#dialect-oracle-cx_oracle-connect">Connecting</a></span></li>
<li><span class="link-container first"><a class="reference external" href="#additional-connect-arguments">追加の接続引数</a></span></li>
<li><span class="link-container first"><a class="reference external" href="#unicode">Unicode</a></span></li>
<li><span class="link-container first"><a class="reference external" href="#fine-grained-control-over-cx-oracle-data-binding-and-performance-with-setinputsizes">cx_Oracleデータバインディングとsetinputsizesによるパフォーマンスの詳細な制御</a></span><ul>
<li><span class="link-container first"><a class="reference external" href="#example-1-logging-all-setinputsizes-calls">例1  - すべてのsetinputsizes呼び出しを記録する</a></span></li>
<li><span class="link-container first"><a class="reference external" href="#example-2-remove-all-bindings-to-clob">例2  - すべてのバインディングをCLOBに削除する</a></span></li>
</ul>
</li>
<li><span class="link-container first"><a class="reference external" href="#cx-oracle-returning">戻り値のサポート</a></span></li>
<li><span class="link-container first"><a class="reference external" href="#lob-objects">LOBオブジェクト</a></span></li>
<li><span class="link-container first"><a class="reference external" href="#two-phase-transactions-not-supported">サポートされていない2フェーズトランザクション</a></span></li>
<li><span class="link-container first"><a class="reference external" href="#precision-numerics">精密数値</a></span></li>
</ul>
</li>
<li><span class="link-container first"><a class="reference external" href="#module-sqlalchemy.dialects.oracle.zxjdbc">zxjdbc</a></span><ul>
<li><span class="link-container first"><a class="reference external" href="#dialect-oracle-zxjdbc-url">DBAPI</a></span></li>
<li><span class="link-container first"><a class="reference external" href="#dialect-oracle-zxjdbc-connect">Connecting</a></span></li>
</ul>
</li>
</ul>
</li>
<li><span class="link-container first"><a class="reference external" href="postgresql.html">PostgreSQL</a></span></li>
<li><span class="link-container first"><a class="reference external" href="sqlite.html">SQLite</a></span></li>
<li><span class="link-container first"><a class="reference external" href="sybase.html">Sybase</a></span></li>
</ul>



        </div>

        </div>

    </div>

    

    <div id="docs-body" class="withsidebar" >
        
<div class="section" id="module-sqlalchemy.dialects.oracle.base">
<span id="oracle"></span><span id="oracle-toplevel"></span><h1>オラクル<a class="headerlink" href="#module-sqlalchemy.dialects.oracle.base" title="このヘッドラインへのパーマリンク">¶</a></h1>
<div class="section" id="dialect-oracle">
<p>Support for the Oracle database.</p>
<h2>DBAPI Support<a class="headerlink" href="#dialect-oracle" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>The following dialect/DBAPI options are available.  Please refer to individual DBAPI sections for connect information.<ul class="simple">
<li><a class="reference external" href="#module-sqlalchemy.dialects.oracle.cx_oracle">cx-Oracle</a></li>
<li><a class="reference external" href="#module-sqlalchemy.dialects.oracle.zxjdbc">zxJDBC for Jython</a></li>
</ul>
</p>
</div>
<div class="section" id="connect-arguments">
<h2>接続引数<a class="headerlink" href="#connect-arguments" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>この方言は、使用中のドライバに関係なく方言の動作に影響を与えるいくつかの：func： <a href="#id1"><span class="problematic" id="id2">`</span></a>〜sqlalchemy.create_engine（）`引数をサポートしています。</p>
<ul class="simple">
<li>`` use_ansi``  -  ANSI JOIN構造体を使用します（Oracle 8のセクションを参照）。デフォルトは `` True``です。 `` False``の場合、Oracle-8互換の構造体が結合に使用されます。</li>
<li>`` optimize_limits``  - デフォルトは `` False``です。 LIMIT / OFFSETのセクションを参照してください。</li>
<li>`` use_binds_for_limits``  - デフォルトは `` True``です。 LIMIT / OFFSETのセクションを参照してください。</li>
</ul>
</div>
<div class="section" id="auto-increment-behavior">
<h2>自動インクリメント動作<a class="headerlink" href="#auto-increment-behavior" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>整数プライマリキーを含むSQLAlchemyテーブルオブジェクトは、通常、「自動インクリメント」の動作を持つとみなされます。つまり、INSERT時にプライマリキー値を生成できます。 Oracleには&amp;quot;自動インクリメント&amp;quot;機能がないため、SQLAlchemyはシーケンスに依存してこれらの値を生成します。 Oracleの方言では、<a href="#id1"><span class="problematic" id="id2">*</span></a>オートインクリメントを有効にするためには、シーケンスを常に明示的に指定する必要があります。これは、自動インクリメントが可能なデータベースの使用を想定したドキュメントの例の大部分とは異なります。シーケンスを指定するには、Columnコンストラクトに渡されるsqlalchemy.schema.Sequenceオブジェクトを使用します。</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">t</span> <span class="o">=</span> <span class="n">Table</span><span class="p">(</span><span class="s1">&#39;mytable&#39;</span><span class="p">,</span> <span class="n">metadata</span><span class="p">,</span>
      <span class="n">Column</span><span class="p">(</span><span class="s1">&#39;id&#39;</span><span class="p">,</span> <span class="n">Integer</span><span class="p">,</span> <span class="n">Sequence</span><span class="p">(</span><span class="s1">&#39;id_seq&#39;</span><span class="p">),</span> <span class="n">primary_key</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span>
      <span class="n">Column</span><span class="p">(</span><span class="o">...</span><span class="p">),</span> <span class="o">...</span>
<span class="p">)</span></pre></div>
</div>
<p>このステップは、表のリフレクションを使用する場合にも必要です。つまり、autoload = True</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">t</span> <span class="o">=</span> <span class="n">Table</span><span class="p">(</span><span class="s1">&#39;mytable&#39;</span><span class="p">,</span> <span class="n">metadata</span><span class="p">,</span>
      <span class="n">Column</span><span class="p">(</span><span class="s1">&#39;id&#39;</span><span class="p">,</span> <span class="n">Integer</span><span class="p">,</span> <span class="n">Sequence</span><span class="p">(</span><span class="s1">&#39;id_seq&#39;</span><span class="p">),</span> <span class="n">primary_key</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span>
      <span class="n">autoload</span><span class="o">=</span><span class="kc">True</span>
<span class="p">)</span></pre></div>
</div>
</div>
<div class="section" id="identifier-casing">
<h2>識別子ケーシング<a class="headerlink" href="#identifier-casing" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>Oracleでは、データ・ディクショナリは、大文字小文字を区別しないすべての識別子名を大文字のテキストで表します。一方、SQLAlchemyでは、すべて小文字の識別子名は大文字小文字を区別しないものとみなされます。 Oracle Dialectは、表と索引の反映など、スキーマ・レベルの通信中に、大/小文字を区別しないすべての識別子をこれらの2つの形式に変換します。 SQLAlchemy側でUPPERCASE名を使用すると、大文字と小文字を区別する識別子が示され、SQLAlchemyはその名前を引用します。これにより、Oracleから受信したデータ辞書データとの不一致が発生します。すべての小文字の名前をSQLAlchemy側で使用する必要があります。</p>
</div>
<div class="section" id="limit-offset-support">
<h2>LIMIT / OFFSETのサポート<a class="headerlink" href="#limit-offset-support" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>Oracleでは、LIMITまたはOFFSETキーワードはサポートされていません。 SQLAlchemyは、ROWNUMと組み合わせてラップされたサブクエリ手法を使用します。正確な方法論については、http：//www.oracle.com/technetwork/issue-archive/2006/06-sep/o56asktom-086197.htmlを参照してください。</p>
<p>その動作に影響する2つのオプションがあります。</p>
<ul class="simple">
<li>&amp;quot;FIRST ROWS（）&amp;quot;最適化キーワードはデフォルトでは使用されません。この最適化ディレクティブの使用を有効にするには、func： <cite>.create_engine`に対して</cite> <a href="#id1"><span class="problematic" id="id2">`</span></a>optimize_limits = True``を指定します。</li>
<li>リミット/オフセット用に渡された値はバインドされたパラメータとして送信されます。一部のユーザーは、値がバインドとして送信され、文字通りレンダリングされないと、Oracleが不適切な問合せプランを生成することを確認しています。 SQLステートメント内でリミット/オフセット値を文字どおりに表示するには、：use_binds_for_limits = False``を：func： <a href="#id1"><span class="problematic" id="id2">`</span></a>.create_engine`に指定します。</li>
</ul>
<p>RIM_NUMBER（）OVER（ORDER BY）を使用してLIMIT / OFFSET（大部分のユーザーはこれを観察しないことに注意してください）を提供するために、ウィンドウクエリの全く異なるアプローチが使用された場合、この場合に合わせて、LIMIT / OFFSETの方法を完全に置き換えることができます。 <a class="reference external" href="http://www.sqlalchemy.org/trac/wiki/UsageRecipes">http://www.sqlalchemy.org/trac/wiki/UsageRecipes</a>/WindowFunctionsByDefaultのレシピを参照してください。このレシピは、ウィンドウ関数を使って制限/オフセットの生成を無効にする選択コンパイラをインストールします。</p>
</div>
<div class="section" id="returning-support">
<span id="oracle-returning"></span><h2>戻り値のサポート<a class="headerlink" href="#returning-support" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>Oracleデータベースは、一致した行の結果セットをINSERT文、UPDATE文およびDELETE文から取り出すために、限られた形式のRETURNINGをサポートしています。 OracleのRETURNING..INTO構文は、機能するためにOUTパラメータに依存するため、戻される行は1つのみサポートされます。さらに、サポートされているDBAPIにはさらなる制限があります（ref： <a href="#id1"><span class="problematic" id="id2">`</span></a>cx_oracle_returning`を参照）。</p>
<p>新しく生成されたプライマリキー値やその他のSQLのデフォルトと式をフェッチするために、INSERTや場合によってはUPDATEステートメント内でRETURNINGを使用するSQLAlchemyの&amp;quot;暗黙的な復帰&amp;quot;機能は、通常、Oracleのバックエンドで有効になります。デフォルトでは、&amp;quot;暗黙的に返す&amp;quot;は通常、INSERTステートメント内のシーケンスをインクリメントして同時に値を取得するために、INSERTに埋め込まれた単一の `` nextval（some_seq） <a href="#id1"><span class="problematic" id="id2">``</span></a>式の値を取り出します。この機能を無効にするには、 `` implicit_returning = False``を以下のように指定します：func： <cite>.create_engine</cite></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">engine</span> <span class="o">=</span> <span class="n">create_engine</span><span class="p">(</span><span class="s2">&quot;oracle://scott:tiger@dsn&quot;</span><span class="p">,</span>
                       <span class="n">implicit_returning</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></pre></div>
</div>
<p>暗黙的な返却は、テーブルオプションとしてテーブルごとに無効にすることもできます:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Core Table</span>
<span class="n">my_table</span> <span class="o">=</span> <span class="n">Table</span><span class="p">(</span><span class="s2">&quot;my_table&quot;</span><span class="p">,</span> <span class="n">metadata</span><span class="p">,</span> <span class="o">...</span><span class="p">,</span> <span class="n">implicit_returning</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>


<span class="c1"># declarative</span>
<span class="k">class</span> <span class="nc">MyClass</span><span class="p">(</span><span class="n">Base</span><span class="p">):</span>
    <span class="n">__tablename__</span> <span class="o">=</span> <span class="s1">&#39;my_table&#39;</span>
    <span class="n">__table_args__</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;implicit_returning&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">}</span></pre></div>
</div>
<div class="admonition seealso">
<p class="first admonition-title">参考</p>
<p class="last">：ref： <cite>cx_oracle_returning</cite>  - 暗黙的に返される追加のcx_oracle固有の制限。</p>
</div>
</div>
<div class="section" id="on-update-cascade">
<h2>更新カスケード<a class="headerlink" href="#on-update-cascade" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>オラクルにはネイティブのON UPDATE CASCADE機能はありません。トリガー・ベースのソリューションはhttp://asktom.oracle.com/tkyte/update_cascade/index.htmlから入手できます。</p>
<p>SQLAlchemy ORMを使用する場合、ORMはカスケード更新を手動で発行する機能が制限されています -  &amp;quot;deferrable = True、初期値= &amp;quot;遅延&amp;quot;キーワード引数を使用してForeignKeyオブジェクトを指定し、各リレーションシップに対して&amp;quot; passive_updates = False （）。</p>
</div>
<div class="section" id="oracle-8-compatibility">
<h2>Oracle 8の互換性<a class="headerlink" href="#oracle-8-compatibility" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>Oracle 8が検出されると、ダイアレクトは内部的に次のように動作します。</p>
<ul class="simple">
<li>use_ansiフラグはFalseに設定されます。これは、すべてのJOIN句をWHERE句に変換する効果があり、LEFT OUTER JOINの場合はOracleの（+）演算子を使用します。</li>
<li>：class： <cite>〜sqlalchemy.types.Unicode`を使用すると、NVARCHAR2およびNCLOBデータ型はDDLとして生成されなくなりました。代わりにVARCHAR2およびCLOBが発行されます。これは、これらのタイプが使用可能であっても、Oracle 8では正しく動作しないためです。 ：class： `〜sqlalchemy.types.NVARCHAR`と：class：</cite>〜sqlalchemy.dialects.oracle.NCLOB`型は、常にNVARCHAR2とNCLOBを生成します。</li>
<li>cx_oracleを使用しているとき、&amp;quot;native unicode &amp;quot;モードは無効になります。つまり、SQLAlchemyはバインドパラメータとして渡す前にすべてのPython unicodeオブジェクトを&amp;quot;string &amp;quot;にエンコードします。</li>
</ul>
</div>
<div class="section" id="synonym-dblink-reflection">
<h2>同義語/ DBLINKリフレクション<a class="headerlink" href="#synonym-dblink-reflection" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>表オブジェクトでリフレクションを使用する場合、ダイアレクトはオプションで、キーワードoracle_resolve_synonyms = True``をキーワード：class： <cite>にoracle_resolve_synonyms = True`を渡すことで、シノニムで指定された表をローカルスキーマまたはリモートスキーマで検索するか、DBLINKを介してアクセスできます。 .Table</cite> construct</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">some_table</span> <span class="o">=</span> <span class="n">Table</span><span class="p">(</span><span class="s1">&#39;some_table&#39;</span><span class="p">,</span> <span class="n">autoload</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                            <span class="n">autoload_with</span><span class="o">=</span><span class="n">some_engine</span><span class="p">,</span>
                            <span class="n">oracle_resolve_synonyms</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span></pre></div>
</div>
<p>このフラグが設定されていると、 `` ALL_TABLES``ビューだけでなく、 `` ALL_SYNONYMS``ビュー内で指定された名前（上記の `` some_table`など）も検索され、別の名前と同義語。シノニムが見つかってDBLINKを参照している場合、oracleの方言はDBLINK構文（たとえば `` &#64; dblink``）を使用してテーブルの情報を見つける方法を知っています。</p>
<p>`` oracle_resolve_synonyms``は：meth： <cite>.MetaData.reflect`と：meth：</cite> .Inspector.get_columns`のようなメソッドを含むリフレクション引数が受け入れられるところであればどこでも受け入れられます。</p>
<p>シノニムが使用されていない場合は、このフラグを使用不可にしてください。</p>
</div>
<div class="section" id="constraint-reflection">
<span id="oracle-constraint-reflection"></span><h2>制約の反映<a class="headerlink" href="#constraint-reflection" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>Oracle Dialectは、外部キー、一意性制約、CHECK制約、および表の索引に関する情報を戻すことができます。</p>
<p>これらの制約に関する生の情報は、：meth： <cite>.Inspector.get_foreign_keys</cite>、：meth：` .Inspector.get_unique_constraints`、：meth： <cite>.Inspector.get_check_constraints</cite>、および：meth：` .Inspector.get_indexes`を使用して取得できます。</p>
<div class="versionchanged">
<p><span class="versionmodified">バージョン 1.2 で変更: </span>オラクルの方言は、UNIQUEおよびCHECK制約を反映できるようになりました。</p>
</div>
<p>：class： <cite>.Table`レベルでリフレクションを使用する場合、：class：</cite> .Table`にはこれらの制約も含まれます。</p>
<p>次の点に注意してください。</p>
<ul>
<li><p class="first">：meth： <cite>.Inspector.get_check_constraints`メソッドを使用する場合、Oracleは&amp;quot; NOT NULL &amp;quot;を指定する列に対して特別な&amp;quot; IS NOT NULL &amp;quot;制約を作成します。この制約は**デフォルトで返されません**。 &amp;quot;IS NOT NULL &amp;quot;制約を含めるには、フラグ `</cite> include_all = True``を渡します:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">sqlalchemy</span> <span class="k">import</span> <span class="n">create_engine</span><span class="p">,</span> <span class="n">inspect</span>

<span class="n">engine</span> <span class="o">=</span> <span class="n">create_engine</span><span class="p">(</span><span class="s2">&quot;oracle+cx_oracle://s:t@dsn&quot;</span><span class="p">)</span>
<span class="n">inspector</span> <span class="o">=</span> <span class="n">inspect</span><span class="p">(</span><span class="n">engine</span><span class="p">)</span>
<span class="n">all_check_constraints</span> <span class="o">=</span> <span class="n">inspector</span><span class="o">.</span><span class="n">get_check_constraints</span><span class="p">(</span>
    <span class="s2">&quot;some_table&quot;</span><span class="p">,</span> <span class="n">include_all</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span></pre></div>
</div>
</li>
<li><p class="first">ほとんどの場合、class： <cite>.Table`を反映すると、UNIQUE制約は、class：</cite> .UniqueConstraint`オブジェクトとして利用できません。ほとんどの場合、Oracleはユニークな制約をUNIQUEインデックスで反映します2つ以上のユニーク制約が同じ列を表す場合は例外があるように見えます）。 ：class： <cite>.Table`は</cite> <cite>unique = True``フラグがセットされたclass：</cite> .Index`を使ってこれらを表現します。</p>
</li>
<li><p class="first">Oracleは、表の主キーの暗黙的な索引を作成します。このインデックスはすべてのインデックス結果から**除外**されます。</p>
</li>
<li><p class="first">索引に反映される列のリストには、SYS_NCで始まる列名は含まれません。</p>
</li>
</ul>
</div>
<div class="section" id="table-names-with-system-sysaux-tablespaces">
<h2>SYSTEM / SYSAUX表領域を持つ表名<a class="headerlink" href="#table-names-with-system-sysaux-tablespaces" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>：meth： <cite>.Inspector.get_table_names`と：meth：</cite> .Inspector.get_temp_table_names`メソッドは、それぞれ現在のエンジンのテーブル名のリストを返します。これらのメソッドは：meth： <cite>.MetaData.reflect`のような操作内で発生するリフレクションの一部です。デフォルトでは、これらの操作は、 `</cite> SYSTEM``と `` SYSAUX``表スペースを操作から除外します。これを変更するには、exclude_tablespacesパラメータを使用してエンジン・レベルで除外される表領域のデフォルト・リストを変更できます。</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># exclude SYSAUX and SOME_TABLESPACE, but not SYSTEM</span>
<span class="n">e</span> <span class="o">=</span> <span class="n">create_engine</span><span class="p">(</span>
  <span class="s2">&quot;oracle://scott:tiger@xe&quot;</span><span class="p">,</span>
  <span class="n">exclude_tablespaces</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;SYSAUX&quot;</span><span class="p">,</span> <span class="s2">&quot;SOME_TABLESPACE&quot;</span><span class="p">])</span></pre></div>
</div>
<div class="versionadded">
<p><span class="versionmodified">バージョン 1.1 で追加.</span></p>
</div>
</div>
<div class="section" id="datetime-compatibility">
<h2>DateTimeの互換性<a class="headerlink" href="#datetime-compatibility" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>Oracleには「DATETIME」というデータ型はありません。代わりに、実際に日付と時刻の値を格納できる `` DATE``のみがあります。このため、Oracle Dialectは、class： <cite>.DateTime`のサブクラスであるclass：</cite> .oracle.DATE`型を提供します。この型は特殊な振舞いを持たず、この型の&amp;quot;marker &amp;quot;としてのみ存在します。さらに、データベース列が反映され、その型が `` DATE``として報告された場合、time-supporting：class： <a href="#id1"><span class="problematic" id="id2">`</span></a>.oracle.DATE`型が使用されます。</p>
<div class="versionchanged">
<p><span class="versionmodified">バージョン 0.9.4 で変更: </span>追加：class： <cite>.oracle.DATE`をサブクラスに追加：class：</cite> .DateTime`。これは、以前のバージョンでは `` DATE``カラムを：class： <cite>.types.DATE`として反映するように変更されたもので、class：</cite> .Date`をサブクラス化しています。ここでの唯一の重要な点は、特別なPython変換で使用する列の型を調べるスキームや、スキーマを他のデータベースバックエンドに移行するスキームです。</p>
</div>
</div>
<div class="section" id="oracle-table-options">
<span id="id1"></span><h2>Oracle表オプション<a class="headerlink" href="#oracle-table-options" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>CREATE TABLE句は、Oracleで：class： <a href="#id1"><span class="problematic" id="id2">`</span></a>.Table`構文と組み合わせて次のオプションをサポートします。</p>
<ul>
<li><p class="first">`` ON COMMIT`</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Table</span><span class="p">(</span>
    <span class="s2">&quot;some_table&quot;</span><span class="p">,</span> <span class="n">metadata</span><span class="p">,</span> <span class="o">...</span><span class="p">,</span>
    <span class="n">prefixes</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;GLOBAL TEMPORARY&#39;</span><span class="p">],</span> <span class="n">oracle_on_commit</span><span class="o">=</span><span class="s1">&#39;PRESERVE ROWS&#39;</span><span class="p">)</span></pre></div>
</div>
</li>
</ul>
<div class="versionadded">
<p><span class="versionmodified">バージョン 1.0.0 で追加.</span></p>
</div>
<ul>
<li><p class="first">`` COMPRESS``</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span> Table(&#39;mytable&#39;, metadata, Column(&#39;data&#39;, String(32)),
     oracle_compress=True)

 Table(&#39;mytable&#39;, metadata, Column(&#39;data&#39;, String(32)),
     oracle_compress=6)

The ``oracle_compress`` parameter accepts either an integer compression
level, or ``True`` to use the default compression level.</pre></div>
</div>
</li>
</ul>
<div class="versionadded">
<p><span class="versionmodified">バージョン 1.0.0 で追加.</span></p>
</div>
</div>
<div class="section" id="oracle-specific-index-options">
<span id="oracle-index-options"></span><h2>Oracle固有の索引オプション<a class="headerlink" href="#oracle-specific-index-options" title="このヘッドラインへのパーマリンク">¶</a></h2>
<div class="section" id="bitmap-indexes">
<h3>ビットマップインデックス<a class="headerlink" href="#bitmap-indexes" title="このヘッドラインへのパーマリンク">¶</a></h3>
<p>`` oracle_bitmap``パラメータを指定すると、Bツリー索引の代わりにビットマップ索引を作成できます。</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Index</span><span class="p">(</span><span class="s1">&#39;my_index&#39;</span><span class="p">,</span> <span class="n">my_table</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">data</span><span class="p">,</span> <span class="n">oracle_bitmap</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span></pre></div>
</div>
<p>ビットマップ索引は一意ではなく、圧縮できません。 SQLAlchemyはそのような制限をチェックしません。データベースのみがチェックされます。</p>
<div class="versionadded">
<p><span class="versionmodified">バージョン 1.0.0 で追加.</span></p>
</div>
</div>
<div class="section" id="index-compression">
<h3>インデックスの圧縮<a class="headerlink" href="#index-compression" title="このヘッドラインへのパーマリンク">¶</a></h3>
<p>Oracleには、多数の反復値を含む索引に対して、より効率的な記憶域モードがあります。 `` oracle_compress``パラメータを使用して、キーcのompressionを有効にします:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Index</span><span class="p">(</span><span class="s1">&#39;my_index&#39;</span><span class="p">,</span> <span class="n">my_table</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">data</span><span class="p">,</span> <span class="n">oracle_compress</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="n">Index</span><span class="p">(</span><span class="s1">&#39;my_index&#39;</span><span class="p">,</span> <span class="n">my_table</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">data1</span><span class="p">,</span> <span class="n">my_table</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">data2</span><span class="p">,</span> <span class="n">unique</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
       <span class="n">oracle_compress</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span></pre></div>
</div>
<p>`` oracle_compress``パラメータは、圧縮する接頭辞列の数を指定する整数か、デフォルトを使用するための `` True``（一意でない索引の場合はすべての列、一意の索引の場合は最後の列を除く）を受け入れます。</p>
<div class="versionadded">
<p><span class="versionmodified">バージョン 1.0.0 で追加.</span></p>
</div>
</div>
</div>
<div class="section" id="oracle-data-types">
<h2>Oracleデータ型<a class="headerlink" href="#oracle-data-types" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>すべてのSQLAlchemyの方言と同様に、Oracleで有効であることが知られているすべてのUPPERCASE型は、from：mod： <a href="#id1"><span class="problematic" id="id2">`</span></a>sqlalchemy.types`またはローカルの方言から上位の方言からインポートできます:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">sqlalchemy.dialects.oracle</span> <span class="k">import</span> \
            <span class="n">BFILE</span><span class="p">,</span> <span class="n">BLOB</span><span class="p">,</span> <span class="n">CHAR</span><span class="p">,</span> <span class="n">CLOB</span><span class="p">,</span> <span class="n">DATE</span><span class="p">,</span> \
            <span class="n">DOUBLE_PRECISION</span><span class="p">,</span> <span class="n">FLOAT</span><span class="p">,</span> <span class="n">INTERVAL</span><span class="p">,</span> <span class="n">LONG</span><span class="p">,</span> <span class="n">NCLOB</span><span class="p">,</span> \
            <span class="n">NUMBER</span><span class="p">,</span> <span class="n">NVARCHAR</span><span class="p">,</span> <span class="n">NVARCHAR2</span><span class="p">,</span> <span class="n">RAW</span><span class="p">,</span> <span class="n">TIMESTAMP</span><span class="p">,</span> <span class="n">VARCHAR</span><span class="p">,</span> \
            <span class="n">VARCHAR2</span></pre></div>
</div>
<p>Oracleに固有の型、またはOracle固有の構成引数を持つ型は、次のとおりです。</p>
<dl class="class">
<dt id="sqlalchemy.dialects.oracle.BFILE">
<em class="property">class </em><code class="descclassname">sqlalchemy.dialects.oracle.</code><code class="descname">BFILE</code><span class="sig-paren">(</span><em>length=None</em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.dialects.oracle.BFILE" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="../core/type_basics.html#sqlalchemy.types.LargeBinary" title="sqlalchemy.types.LargeBinary"><code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.types.LargeBinary</span></code></a></p>
<dl class="method">
<dt id="sqlalchemy.dialects.oracle.BFILE.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><em>length=None</em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.dialects.oracle.BFILE.__init__" title="この定義へのパーマリンク">¶</a></dt>
<dd><div class="inherited-member docutils container">
<em>inherited from the</em> <a class="reference internal" href="../core/type_basics.html#sqlalchemy.types.LargeBinary.__init__" title="sqlalchemy.types.LargeBinary.__init__"><code class="xref py py-meth docutils literal notranslate"><span class="pre">__init__()</span></code></a> <em>method of</em> <a class="reference internal" href="../core/type_basics.html#sqlalchemy.types.LargeBinary" title="sqlalchemy.types.LargeBinary"><code class="xref py py-class docutils literal notranslate"><span class="pre">LargeBinary</span></code></a></div>
<p>LargeBinary型を構築します。</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">パラメータ:</th><td class="field-body"><span class="target" id="sqlalchemy.dialects.oracle.BFILE.params.length"></span><strong>length</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.dialects.oracle.BFILE.params.length">¶</a> -- オプションで、長さを受け入れるバイナリ型（MySQL BLOB型など）のDDL文で使用する列の長さ。</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="sqlalchemy.dialects.oracle.DATE">
<em class="property">class </em><code class="descclassname">sqlalchemy.dialects.oracle.</code><code class="descname">DATE</code><span class="sig-paren">(</span><em>timezone=False</em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.dialects.oracle.DATE" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="../core/type_basics.html#sqlalchemy.types.DateTime" title="sqlalchemy.types.DateTime"><code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.types.DateTime</span></code></a></p>
<p>oracle DATEタイプを指定します。</p>
<p>この型には特別なPythonの動作はありませんが、class： <cite>.types.DateTime</cite>;というサブクラスがあります。これは、Oracleの `` DATE``型が時間値をサポートしているという事実に適しています。</p>
<div class="versionadded">
<p><span class="versionmodified">バージョン 0.9.4 で追加.</span></p>
</div>
<dl class="method">
<dt id="sqlalchemy.dialects.oracle.DATE.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><em>timezone=False</em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.dialects.oracle.DATE.__init__" title="この定義へのパーマリンク">¶</a></dt>
<dd><div class="inherited-member docutils container">
<em>inherited from the</em> <a class="reference internal" href="../core/type_basics.html#sqlalchemy.types.DateTime.__init__" title="sqlalchemy.types.DateTime.__init__"><code class="xref py py-meth docutils literal notranslate"><span class="pre">__init__()</span></code></a> <em>method of</em> <a class="reference internal" href="../core/type_basics.html#sqlalchemy.types.DateTime" title="sqlalchemy.types.DateTime"><code class="xref py py-class docutils literal notranslate"><span class="pre">DateTime</span></code></a></div>
<p>新しい：class： <a href="#id1"><span class="problematic" id="id2">`</span></a>.DateTime`を作ります。</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">パラメータ:</th><td class="field-body"><span class="target" id="sqlalchemy.dialects.oracle.DATE.params.timezone"></span><strong>timezone</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.dialects.oracle.DATE.params.timezone">¶</a> -- ブール値。 ** datetime型で**タイムゾーンのサポートを有効にする必要があることを示します。一部のデータベースには、Oracleなどのタイムゾーン対応のTIMESTAMPデータ型とは異なる別の汎用日付/時刻保持タイプが含まれているため、：class： <a href="#id1"><span class="problematic" id="id2">`</span></a>〜.types.TIMESTAMP`データ型を直接使用することをお薦めします。</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="sqlalchemy.dialects.oracle.DOUBLE_PRECISION">
<em class="property">class </em><code class="descclassname">sqlalchemy.dialects.oracle.</code><code class="descname">DOUBLE_PRECISION</code><span class="sig-paren">(</span><em>precision=None</em>, <em>asdecimal=False</em>, <em>decimal_return_scale=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.dialects.oracle.DOUBLE_PRECISION" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="../core/type_basics.html#sqlalchemy.types.Float" title="sqlalchemy.types.Float"><code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.types.Float</span></code></a></p>
<dl class="method">
<dt id="sqlalchemy.dialects.oracle.DOUBLE_PRECISION.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><em>precision=None</em>, <em>asdecimal=False</em>, <em>decimal_return_scale=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.dialects.oracle.DOUBLE_PRECISION.__init__" title="この定義へのパーマリンク">¶</a></dt>
<dd><div class="inherited-member docutils container">
<em>inherited from the</em> <a class="reference internal" href="../core/type_basics.html#sqlalchemy.types.Float.__init__" title="sqlalchemy.types.Float.__init__"><code class="xref py py-meth docutils literal notranslate"><span class="pre">__init__()</span></code></a> <em>method of</em> <a class="reference internal" href="../core/type_basics.html#sqlalchemy.types.Float" title="sqlalchemy.types.Float"><code class="xref py py-class docutils literal notranslate"><span class="pre">Float</span></code></a></div>
<p>Floatを構築します。</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">パラメータ:</th><td class="field-body"><ul class="first last simple">
<li><span class="target" id="sqlalchemy.dialects.oracle.DOUBLE_PRECISION.params.precision"></span><strong>precision</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.dialects.oracle.DOUBLE_PRECISION.params.precision">¶</a> -- `` CREATE TABLE`` DDLで使用する数値精度。</li>
<li><span class="target" id="sqlalchemy.dialects.oracle.DOUBLE_PRECISION.params.asdecimal"></span><strong>asdecimal</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.dialects.oracle.DOUBLE_PRECISION.params.asdecimal">¶</a> -- ：class： <cite>.Numeric`と同じフラグですが、デフォルトは</cite> <a href="#id1"><span class="problematic" id="id2">`</span></a>False``です。このフラグを &amp;quot;True&amp;quot;に設定すると、浮動小数点変換が行われることに注意してください。</li>
<li><span class="target" id="sqlalchemy.dialects.oracle.DOUBLE_PRECISION.params.decimal_return_scale"></span><strong>decimal_return_scale</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.dialects.oracle.DOUBLE_PRECISION.params.decimal_return_scale">¶</a> -- 浮動小数点数からPython小数値に変換するときに使用するデフォルトの位取り。浮動小数点の値は、通常、小数の不正確さのために非常に長くなり、ほとんどの浮動小数点データベース型は&amp;quot;スケール&amp;quot;という概念を持たないため、デフォルトで浮動小数点型は変換時に小数点以下10桁を探します。この値を指定すると、その長さがオーバーライドされます。 &amp;quot;scale &amp;quot;を含むMySQLのfloat型は、特に指定がない限り、decimal_return_scaleのデフォルトとして&amp;quot;scale &amp;quot;を使用することに注意してください。 .. versionadded :: 0.9.0</li>
<li><span class="target" id="sqlalchemy.dialects.oracle.DOUBLE_PRECISION.params.**kwargs"></span><strong>**kwargs</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.dialects.oracle.DOUBLE_PRECISION.params.**kwargs">¶</a> -- 推奨されていません。ここでの追加引数は、デフォルトでは無視されます：class： <a href="#id1"><span class="problematic" id="id2">`</span></a>.Float`型。追加の引数をサポートするデータベース固有の浮動小数点数については、その方言の詳細については、class： <a href="#id3"><span class="problematic" id="id4">`</span></a>sqlalchemy.dialects.mysql.FLOAT`などのドキュメントを参照してください。</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="sqlalchemy.dialects.oracle.INTERVAL">
<em class="property">class </em><code class="descclassname">sqlalchemy.dialects.oracle.</code><code class="descname">INTERVAL</code><span class="sig-paren">(</span><em>day_precision=None</em>, <em>second_precision=None</em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.dialects.oracle.INTERVAL" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="../core/type_api.html#sqlalchemy.types.TypeEngine" title="sqlalchemy.types.TypeEngine"><code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.types.TypeEngine</span></code></a></p>
<dl class="method">
<dt id="sqlalchemy.dialects.oracle.INTERVAL.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><em>day_precision=None</em>, <em>second_precision=None</em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.dialects.oracle.INTERVAL.__init__" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>INTERVALを構築します。</p>
<p>DAY TO SECONDの間隔だけが現在サポートされていることに注意してください。これは、使用可能なDBAPI（cx_oracleおよびzxjdbc）内のYEAR TO MONTH間隔のサポートが不足しているためです。</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">パラメータ:</th><td class="field-body"><ul class="first last simple">
<li><span class="target" id="sqlalchemy.dialects.oracle.INTERVAL.params.day_precision"></span><strong>day_precision</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.dialects.oracle.INTERVAL.params.day_precision">¶</a> -- 日の精度値。これは、日フィールドに格納する桁数です。デフォルトは&amp;quot;2 </li>
<li><span class="target" id="sqlalchemy.dialects.oracle.INTERVAL.params.second_precision"></span><strong>second_precision</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.dialects.oracle.INTERVAL.params.second_precision">¶</a> -- 2番目の精度値です。これは分数秒のフィールドに格納する桁数です。デフォルトは&amp;quot;6 &amp;quot;です。</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="sqlalchemy.dialects.oracle.NCLOB">
<em class="property">class </em><code class="descclassname">sqlalchemy.dialects.oracle.</code><code class="descname">NCLOB</code><span class="sig-paren">(</span><em>length=None</em>, <em>collation=None</em>, <em>convert_unicode=False</em>, <em>unicode_error=None</em>, <em>_warn_on_bytestring=False</em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.dialects.oracle.NCLOB" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="../core/type_basics.html#sqlalchemy.types.Text" title="sqlalchemy.types.Text"><code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.types.Text</span></code></a></p>
<dl class="method">
<dt id="sqlalchemy.dialects.oracle.NCLOB.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><em>length=None</em>, <em>collation=None</em>, <em>convert_unicode=False</em>, <em>unicode_error=None</em>, <em>_warn_on_bytestring=False</em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.dialects.oracle.NCLOB.__init__" title="この定義へのパーマリンク">¶</a></dt>
<dd><div class="inherited-member docutils container">
<em>inherited from the</em> <a class="reference internal" href="../core/type_basics.html#sqlalchemy.types.String.__init__" title="sqlalchemy.types.String.__init__"><code class="xref py py-meth docutils literal notranslate"><span class="pre">__init__()</span></code></a> <em>method of</em> <a class="reference internal" href="../core/type_basics.html#sqlalchemy.types.String" title="sqlalchemy.types.String"><code class="xref py py-class docutils literal notranslate"><span class="pre">String</span></code></a></div>
<p>文字列保持型を作成します。</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">パラメータ:</th><td class="field-body"><ul class="first last simple">
<li><span class="target" id="sqlalchemy.dialects.oracle.NCLOB.params.length"></span><strong>length</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.dialects.oracle.NCLOB.params.length">¶</a> -- オプションで、DDLおよびCAST式で使用する列の長さ。 `` CREATE TABLE``が発行されない場合は、安全に省略することができます。特定のデータベースでは、DDLで使用するために `` length``が必要な場合があります。長さのない `` VARCHAR``が含まれている場合は、 `` CREATE TABLE`` DDLが発行されると例外が発生します。値がバイトまたは文字として解釈されるかどうかは、データベース固有です。</li>
<li><span class="target" id="sqlalchemy.dialects.oracle.NCLOB.params.collation"></span><strong>collation</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.dialects.oracle.NCLOB.params.collation">¶</a> -- オプションで、DDLおよびCAST式で使用する列レベルの照合。 SQLite、MySQL、PostgreSQLでサポートされているCOLLATEキーワードを使用してレンダリングします。 SELECT CAST（：param_1 AS VARCHAR COLLATE utf8）ASを使用する場合は、次のように入力します。 anon_1 .. versionadded :: 0.8すべての文字列型に対するCOLLATEのサポートが追加されました。</li>
<li><span class="target" id="sqlalchemy.dialects.oracle.NCLOB.params.convert_unicode"></span><strong>convert_unicode</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.dialects.oracle.NCLOB.params.convert_unicode">¶</a> -- `` True``に設定すると、：class： <cite>.String`型は入力がPythonの</cite> <cite>unicode``オブジェクトとして渡され、結果がPythonの</cite> <cite>unicode``オブジェクトとして返されると想定します。使用しているDBAPIがPython unicodeをサポートしていない場合（最近はこれよりも少ない）、SQLAlchemyは：func： `.create_engine`に渡された</cite> <cite>encoding``パラメータの値を使用して値をエンコード/デコードしますエンコーディング。 PythonのUnicodeオブジェクトをネイティブにサポートするDBAPIを使用する場合、このフラグは一般に設定する必要はありません。非ASCIIデータを明示的に格納するカラムの場合、：class： `.Unicode`または：class：</cite> .UnicodeText`型は、 `` convert_unicode``と同じ動作をしますが、 `` NVARCHAR``のような、Unicodeを直接サポートする基底のカラム型です。非常にまれにPython `` unicode``がPython `` unicode``をネイティブにサポートするバックエンドでSQLAlchemyによってエンコード/デコードされることになっている場合、 `` force``をここに渡すとSQLAlchemyのエンコードが行われます/無条件に使用されるサービスをデコードします。</li>
<li><span class="target" id="sqlalchemy.dialects.oracle.NCLOB.params.unicode_error"></span><strong>unicode_error</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.dialects.oracle.NCLOB.params.unicode_error">¶</a> -- オプションで、Unicode変換エラーの処理に使用するメソッド。標準ライブラリの `` string.decode（） <a href="#id1"><span class="problematic" id="id2">``</span></a>関数の `` errors``キーワード引数のように動作します。このフラグは、 `` convert_unicode``が `` force``に設定されている必要があります。そうでなければ、SQLAlchemyはUnicode変換のタスクを処理することは保証されていません。このフラグは、ユニコードオブジェクトをネイティブに返すバックエンド（ほとんどのDBAPIが行う）の行取得操作に大きなパフォーマンスオーバーヘッドを追加することに注意してください。このフラグは、可変または壊れたエンコーディングを持つ列から文字列を読み取る最後の手段としてのみ使用してください。</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="sqlalchemy.dialects.oracle.NUMBER">
<em class="property">class </em><code class="descclassname">sqlalchemy.dialects.oracle.</code><code class="descname">NUMBER</code><span class="sig-paren">(</span><em>precision=None</em>, <em>scale=None</em>, <em>asdecimal=None</em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.dialects.oracle.NUMBER" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="../core/type_basics.html#sqlalchemy.types.Numeric" title="sqlalchemy.types.Numeric"><code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.types.Numeric</span></code></a>, <a class="reference internal" href="../core/type_basics.html#sqlalchemy.types.Integer" title="sqlalchemy.types.Integer"><code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.types.Integer</span></code></a></p>
<dl class="method">
<dt id="sqlalchemy.dialects.oracle.NUMBER.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><em>precision=None</em>, <em>scale=None</em>, <em>asdecimal=None</em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.dialects.oracle.NUMBER.__init__" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>Construct a Numeric.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">パラメータ:</th><td class="field-body"><ul class="first last simple">
<li><span class="target" id="sqlalchemy.dialects.oracle.NUMBER.params.precision"></span><strong>precision</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.dialects.oracle.NUMBER.params.precision">¶</a> -- `` CREATE TABLE`` DDLで使用する数値精度。</li>
<li><span class="target" id="sqlalchemy.dialects.oracle.NUMBER.params.scale"></span><strong>scale</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.dialects.oracle.NUMBER.params.scale">¶</a> -- the numeric scale for use in DDL <code class="docutils literal notranslate"><span class="pre">CREATE</span> <span class="pre">TABLE</span></code>.</li>
<li><span class="target" id="sqlalchemy.dialects.oracle.NUMBER.params.asdecimal"></span><strong>asdecimal</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.dialects.oracle.NUMBER.params.asdecimal">¶</a> -- default True.  Return whether or not
values should be sent as Python Decimal objects, or
as floats.   Different DBAPIs send one or the other based on
datatypes - the Numeric type will ensure that return values
are one or the other across DBAPIs consistently.</li>
<li><span class="target" id="sqlalchemy.dialects.oracle.NUMBER.params.decimal_return_scale"></span><strong>decimal_return_scale</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.dialects.oracle.NUMBER.params.decimal_return_scale">¶</a> -- <p>Default scale to use when converting
from floats to Python decimals.  Floating point values will typically
be much longer due to decimal inaccuracy, and most floating point
database types don't have a notion of &quot;scale&quot;, so by default the
float type looks for the first ten decimal places when converting.
Specfiying this value will override that length.  Types which
do include an explicit &quot;.scale&quot; value, such as the base
<a class="reference internal" href="../core/type_basics.html#sqlalchemy.types.Numeric" title="sqlalchemy.types.Numeric"><code class="xref py py-class docutils literal notranslate"><span class="pre">Numeric</span></code></a> as well as the MySQL float types, will use the
value of &quot;.scale&quot; as the default for decimal_return_scale, if not
otherwise specified.</p>
<div class="versionadded">
<p><span class="versionmodified">バージョン 0.9.0 で追加.</span></p>
</div>
</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>When using the <code class="docutils literal notranslate"><span class="pre">Numeric</span></code> type, care should be taken to ensure
that the asdecimal setting is apppropriate for the DBAPI in use -
when Numeric applies a conversion from Decimal-&gt;float or float-&gt;
Decimal, this conversion incurs an additional performance overhead
for all result columns received.</p>
<p>DBAPIs that return Decimal natively (e.g. psycopg2) will have
better accuracy and higher performance with a setting of <code class="docutils literal notranslate"><span class="pre">True</span></code>,
as the native translation to Decimal reduces the amount of floating-
point issues at play, and the Numeric type itself doesn't need
to apply any further conversions.  However, another DBAPI which
returns floats natively <em>will</em> incur an additional conversion
overhead, and is still subject to floating point data loss - in
which case <code class="docutils literal notranslate"><span class="pre">asdecimal=False</span></code> will at least remove the extra
conversion overhead.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="sqlalchemy.dialects.oracle.LONG">
<em class="property">class </em><code class="descclassname">sqlalchemy.dialects.oracle.</code><code class="descname">LONG</code><span class="sig-paren">(</span><em>length=None</em>, <em>collation=None</em>, <em>convert_unicode=False</em>, <em>unicode_error=None</em>, <em>_warn_on_bytestring=False</em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.dialects.oracle.LONG" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="../core/type_basics.html#sqlalchemy.types.Text" title="sqlalchemy.types.Text"><code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.types.Text</span></code></a></p>
<dl class="method">
<dt id="sqlalchemy.dialects.oracle.LONG.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><em>length=None</em>, <em>collation=None</em>, <em>convert_unicode=False</em>, <em>unicode_error=None</em>, <em>_warn_on_bytestring=False</em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.dialects.oracle.LONG.__init__" title="この定義へのパーマリンク">¶</a></dt>
<dd><div class="inherited-member docutils container">
<em>inherited from the</em> <a class="reference internal" href="../core/type_basics.html#sqlalchemy.types.String.__init__" title="sqlalchemy.types.String.__init__"><code class="xref py py-meth docutils literal notranslate"><span class="pre">__init__()</span></code></a> <em>method of</em> <a class="reference internal" href="../core/type_basics.html#sqlalchemy.types.String" title="sqlalchemy.types.String"><code class="xref py py-class docutils literal notranslate"><span class="pre">String</span></code></a></div>
<p>文字列保持型を作成します。</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">パラメータ:</th><td class="field-body"><ul class="first last simple">
<li><span class="target" id="sqlalchemy.dialects.oracle.LONG.params.length"></span><strong>length</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.dialects.oracle.LONG.params.length">¶</a> -- オプションで、DDLおよびCAST式で使用する列の長さ。 `` CREATE TABLE``が発行されない場合は、安全に省略することができます。特定のデータベースでは、DDLで使用するために `` length``が必要な場合があります。長さのない `` VARCHAR``が含まれている場合は、 `` CREATE TABLE`` DDLが発行されると例外が発生します。値がバイトまたは文字として解釈されるかどうかは、データベース固有です。</li>
<li><span class="target" id="sqlalchemy.dialects.oracle.LONG.params.collation"></span><strong>collation</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.dialects.oracle.LONG.params.collation">¶</a> -- オプションで、DDLおよびCAST式で使用する列レベルの照合。 SQLite、MySQL、PostgreSQLでサポートされているCOLLATEキーワードを使用してレンダリングします。 SELECT CAST（：param_1 AS VARCHAR COLLATE utf8）ASを使用する場合は、次のように入力します。 anon_1 .. versionadded :: 0.8すべての文字列型に対するCOLLATEのサポートが追加されました。</li>
<li><span class="target" id="sqlalchemy.dialects.oracle.LONG.params.convert_unicode"></span><strong>convert_unicode</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.dialects.oracle.LONG.params.convert_unicode">¶</a> -- `` True``に設定すると、：class： <cite>.String`型は入力がPythonの</cite> <cite>unicode``オブジェクトとして渡され、結果がPythonの</cite> <cite>unicode``オブジェクトとして返されると想定します。使用しているDBAPIがPython unicodeをサポートしていない場合（最近はこれよりも少ない）、SQLAlchemyは：func： `.create_engine`に渡された</cite> <cite>encoding``パラメータの値を使用して値をエンコード/デコードしますエンコーディング。 PythonのUnicodeオブジェクトをネイティブにサポートするDBAPIを使用する場合、このフラグは一般に設定する必要はありません。非ASCIIデータを明示的に格納するカラムの場合、：class： `.Unicode`または：class：</cite> .UnicodeText`型は、 `` convert_unicode``と同じ動作をしますが、 `` NVARCHAR``のような、Unicodeを直接サポートする基底のカラム型です。非常にまれにPython `` unicode``がPython `` unicode``をネイティブにサポートするバックエンドでSQLAlchemyによってエンコード/デコードされることになっている場合、 `` force``をここに渡すとSQLAlchemyのエンコードが行われます/無条件に使用されるサービスをデコードします。</li>
<li><span class="target" id="sqlalchemy.dialects.oracle.LONG.params.unicode_error"></span><strong>unicode_error</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.dialects.oracle.LONG.params.unicode_error">¶</a> -- オプションで、Unicode変換エラーの処理に使用するメソッド。標準ライブラリの `` string.decode（） <a href="#id1"><span class="problematic" id="id2">``</span></a>関数の `` errors``キーワード引数のように動作します。このフラグは、 `` convert_unicode``が `` force``に設定されている必要があります。そうでなければ、SQLAlchemyはUnicode変換のタスクを処理することは保証されていません。このフラグは、ユニコードオブジェクトをネイティブに返すバックエンド（ほとんどのDBAPIが行う）の行取得操作に大きなパフォーマンスオーバーヘッドを追加することに注意してください。このフラグは、可変または壊れたエンコーディングを持つ列から文字列を読み取る最後の手段としてのみ使用してください。</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="sqlalchemy.dialects.oracle.RAW">
<em class="property">class </em><code class="descclassname">sqlalchemy.dialects.oracle.</code><code class="descname">RAW</code><span class="sig-paren">(</span><em>length=None</em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.dialects.oracle.RAW" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.types._Binary</span></code></p>
<dl class="method">
<dt id="sqlalchemy.dialects.oracle.RAW.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><em>length=None</em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.dialects.oracle.RAW.__init__" title="この定義へのパーマリンク">¶</a></dt>
<dd><div class="inherited-member docutils container">
<em>inherited from the</em> <code class="xref py py-meth docutils literal notranslate"><span class="pre">__init__()</span></code> <em>method of</em> <code class="xref py py-class docutils literal notranslate"><span class="pre">_Binary</span></code></div>
<p>Initialize self.  See help(type(self)) for accurate signature.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-sqlalchemy.dialects.oracle.cx_oracle">
<span id="cx-oracle"></span><h2>cx_Oracle<a class="headerlink" href="#module-sqlalchemy.dialects.oracle.cx_oracle" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>Support for the Oracle database via the cx-Oracle driver.</p>
<div class="section" id="dialect-oracle-cx_oracle-url">
<h3>DBAPI<a class="headerlink" href="#dialect-oracle-cx_oracle-url" title="このヘッドラインへのパーマリンク">¶</a></h3>
<p>Documentation and download information (if applicable) for cx-Oracle is available at:
<a class="reference external" href="http://cx-oracle.sourceforge.net/">http://cx-oracle.sourceforge.net/</a></p>
</div>
<div class="section" id="dialect-oracle-cx_oracle-connect">
<h3>Connecting<a class="headerlink" href="#dialect-oracle-cx_oracle-connect" title="このヘッドラインへのパーマリンク">¶</a></h3>
<p>Connect String:<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>oracle+cx_oracle://user:pass@host:port/dbname[?key=value&amp;key=value...]</pre></div>
</div>
</p>
</div>
<div class="section" id="additional-connect-arguments">
<h3>追加の接続引数<a class="headerlink" href="#additional-connect-arguments" title="このヘッドラインへのパーマリンク">¶</a></h3>
<p>`` dbname``で接続すると、cx_oracle `` makedsn（） <a href="#id1"><span class="problematic" id="id2">``</span></a>関数を使用して、ホスト、ポート、およびdbnameトークンがTNS名に変換されます。それ以外の場合、ホストトークンはTNS名として直接取得されます。</p>
<p>追加の引数は、URL上のクエリ文字列引数として、または：func： <a href="#id1"><span class="problematic" id="id2">`</span></a>.create_engine（）`のキーワード引数として指定することができます：</p>
<ul>
<li><p class="first">`` arraysize``  - カーソルのcx_oracle.arraysizeの値を50に設定します。この設定は、LOBオブジェクトの内容が&amp;quot;ライブ&amp;quot;行（例えば、50行のバッチ内でのみ読み込み可能）であるため、cx_Oracleで重要です。 ）。</p>
</li>
<li><p class="first">`` auto_convert_lobs``  - デフォルトはTrueです。参照：ref： <a href="#id1"><span class="problematic" id="id2">`</span></a>cx_oracle_lob`を参照してください。</p>
</li>
<li><p class="first">`` coerce_to_unicode``  - 詳細はref： <a href="#id1"><span class="problematic" id="id2">`</span></a>cx_oracle_unicode`を参照してください。</p>
</li>
<li><p class="first">`` coerce_to_decimal``  - 詳細はref： <a href="#id1"><span class="problematic" id="id2">`</span></a>cx_oracle_numeric`を参照してください。</p>
</li>
<li><p class="first">`` mode``  - これにはSYSDBAまたはSYSOPERの文字列値、あるいは整数値が与えられます。この値は、URLクエリ文字列引数としてのみ使用できます。</p>
</li>
<li><p class="first">`` threaded``  -  cx_oracle接続へのマルチスレッドアクセスを可能にします。デフォルトは `` True``です。これは、cx_Oracle DBAPI自体の反対のデフォルトであることに注意してください。</p>
</li>
<li><p class="first">`` service_name``  -  `` SID``ではなく `` SERVICE_NAME``で接続文字列（DSN）を使うオプションです。 `` database``部分が与えられたときに渡すことはできません。たとえば、oracle + cx_oracle：// scott：tiger &#64; host：1521 /？service_name = hr``は有効なURLです。この値は、URLクエリ文字列引数としてのみ使用できます。</p>
<div class="versionadded">
<p><span class="versionmodified">バージョン 1.0.0 で追加.</span></p>
</div>
</li>
</ul>
</div>
<div class="section" id="unicode">
<span id="cx-oracle-unicode"></span><h3>Unicode<a class="headerlink" href="#unicode" title="このヘッドラインへのパーマリンク">¶</a></h3>
<p>バージョン5のcx_Oracle DBAPIは、Unicodeを完全にサポートしており、文字列結果をPython Unicodeオブジェクトとしてネイティブに返すことができます。</p>
<p>明示的なUnicodeのサポートは：class： <cite>.Unicode`データ型とSQLAlchemy Core式言語を使用して、：class：</cite> .UnicodeText`データ型を使用することで利用できます。これらの型は、デフォルトでVARCHAR2およびCLOBのOracleデータ型に対応します。 Unicodeデータでこれらのデータ型を使用する場合、OracleデータベースはUnicode対応のキャラクタ・セットで構成され、環境変数「NLS_LANG」が適切に設定され、VARCHAR2およびCLOBデータ型に対応できるようになりますデータ。</p>
<p>OracleデータベースがUnicode文字セットで構成されていない場合、2つのオプションは：class： <cite>.oracle.NCHAR`と：class：</cite> .oracle.NCLOB`データ型を明示的に使用するか、またはフラグを渡すことです：use_nchar_for_unicode = True``を：func： <cite>.create_engine`とすると、VARCHAR / CLOBではなくclass：</cite> .Unicode` /：class： <a href="#id1"><span class="problematic" id="id2">`</span></a>.UnicodeText`データ型に対してSQLAlchemyダイアレクトがNCHAR / NCLOBを使用します。 。</p>
<div class="versionchanged">
<p><span class="versionmodified">バージョン 1.3 で変更: </span>：class： <cite>.Unicode`と：class：</cite> .UnicodeText`データ型は、次のときにuse_nchar_for_unicode = True``が方言に渡されない限り、 `` VARCHAR2``と `` CLOB``のOracleデータ型に対応するようになりました： func： <a href="#id1"><span class="problematic" id="id2">`</span></a>.create_engine`が呼び出されます。</p>
</div>
<p>結果セットが文字列を含むものをフェッチすると、Python 3ではcx_Oracle DBAPIはすべての文字列をPython Unicodeオブジェクトとして返します。Python 3はUnicode文字列型しか持たないからです。これは、VARCHAR2、CHAR、CLOB、NCHAR、NCLOBなどのデータ型からフェッチされたデータに対して発生します。Python 2の下で相互互換性を提供するために、SQLAlchemy cx_Oracle方言はPython 2の下でもUnicode変換を文字列データに追加します。これまでは、これはcx_Oracleによって提供されたものの、パフォーマンスの良いものではないコンバータが使用されていました。 SQLAlchemy独自のコンバータは、Python 2の文字列からUnicodeへの変換に使用されます。VARCHAR2、CHAR、およびCLOBのPython 2 Unicode変換を無効にするには、フラグ `` coerce_to_unicode = False``をfunc： <cite>.create_engine</cite> 。</p>
<div class="versionchanged">
<p><span class="versionmodified">バージョン 1.3 で変更: </span>Unicode変換は、デフォルトではすべての文字列値に適用されます（Python 2の場合）。 `` coerce_to_unicode``はデフォルトでTrueに設定され、VARCHAR2 / CHAR / CLOBデータとして渡される文字列のUnicodeコーディングを無効にするにはFalseに設定できます。</p>
</div>
</div>
<div class="section" id="fine-grained-control-over-cx-oracle-data-binding-and-performance-with-setinputsizes">
<span id="cx-oracle-setinputsizes"></span><h3>cx_Oracleデータバインディングとsetinputsizesによるパフォーマンスの詳細な制御<a class="headerlink" href="#fine-grained-control-over-cx-oracle-data-binding-and-performance-with-setinputsizes" title="このヘッドラインへのパーマリンク">¶</a></h3>
<p>cx_Oracle DBAPIは、DBAPIの `` setinputsizes（） <a href="#id1"><span class="problematic" id="id2">``</span></a>コールの使用に深く根本的に依存しています。この呼び出しの目的は、パラメータとして渡されるPython値のSQL文にバインドされたデータ型を確立することです。 cx_Oracle DBAPIは、setinputsizes（）の呼び出しに他のDBAPIを使用することは事実上ありませんが、Oracleクライアントインターフェイスとのやりとりに大きく依存しています。また、SQLAlchemyでは、いくつかの設定では、タイプ強制動作を同時に変更しながら、大幅に異なるパフォーマンス特性を引き起こす可能性があるため、バインドする必要があります。</p>
<p>cx_Oracleの方言のユーザーは、http：//cx-oracle.readthedocs.io/ja/latest/module.html#typesにあるcx_Oracleの組み込みデータ型シンボルのリストを読み出すことを強くお勧めします。場合によっては、これらの型を使用しない場合、特に `` cx_Oracle.CLOB``を指定する場合に、パフォーマンスの低下が顕著になることに注意してください。</p>
<p>SQLAlchemy側では、：meth： <cite>.DialectEvents.do_setinputsizes`イベントは、setinputsizesステップのランタイム可視性（例えばロギング）と、</cite> <cite>setinputsizes（）</cite> <a href="#id1"><span class="problematic" id="id2">`</span></a>がどのように使用されるかを完全に制御するために使用できます記述ベース。</p>
<div class="versionadded">
<p><span class="versionmodified">バージョン 1.2.9 で追加: </span>追加：meth： <cite>.DialectEvents.setinputsizes</cite></p>
</div>
<div class="section" id="example-1-logging-all-setinputsizes-calls">
<h4>例1  - すべてのsetinputsizes呼び出しを記録する<a class="headerlink" href="#example-1-logging-all-setinputsizes-calls" title="このヘッドラインへのパーマリンク">¶</a></h4>
<p>次の例は、中間の値を生の `` setinputsizes（） <a href="#id1"><span class="problematic" id="id2">``</span></a>パラメータ辞書に変換する前にSQLAlchemyパースペクティブからログ出力する方法を示しています。辞書のキーは、 `` .key``属性と `` .type``属性を持つclass： <a href="#id3"><span class="problematic" id="id4">`</span></a>.BindParameter`オブジェクトです:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">sqlalchemy</span> <span class="k">import</span> <span class="n">create_engine</span><span class="p">,</span> <span class="n">event</span>

<span class="n">engine</span> <span class="o">=</span> <span class="n">create_engine</span><span class="p">(</span><span class="s2">&quot;oracle+cx_oracle://scott:tiger@host/xe&quot;</span><span class="p">)</span>

<span class="nd">@event</span><span class="o">.</span><span class="n">listens_for</span><span class="p">(</span><span class="n">engine</span><span class="p">,</span> <span class="s2">&quot;do_setinputsizes&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">_log_setinputsizes</span><span class="p">(</span><span class="n">inputsizes</span><span class="p">,</span> <span class="n">cursor</span><span class="p">,</span> <span class="n">statement</span><span class="p">,</span> <span class="n">parameters</span><span class="p">,</span> <span class="n">context</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">bindparam</span><span class="p">,</span> <span class="n">dbapitype</span> <span class="ow">in</span> <span class="n">inputsizes</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
                <span class="s2">&quot;Bound parameter name: </span><span class="si">%s</span><span class="s2">  SQLAlchemy type: </span><span class="si">%r</span><span class="s2">  &quot;</span>
                <span class="s2">&quot;DBAPI object: </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span>
                <span class="n">bindparam</span><span class="o">.</span><span class="n">key</span><span class="p">,</span> <span class="n">bindparam</span><span class="o">.</span><span class="n">type</span><span class="p">,</span> <span class="n">dbapitype</span><span class="p">)</span></pre></div>
</div>
</div>
<div class="section" id="example-2-remove-all-bindings-to-clob">
<h4>例2  - すべてのバインディングをCLOBに削除する<a class="headerlink" href="#example-2-remove-all-bindings-to-clob" title="このヘッドラインへのパーマリンク">¶</a></h4>
<p>cx_Oracleの `` CLOB``データ型は、かなりのパフォーマンスオーバーヘッドを招きますが、SQLAlchemy 1.2シリーズ内の `` Text``型のためにデフォルトで設定されています。この設定は次のように変更できます:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">sqlalchemy</span> <span class="k">import</span> <span class="n">create_engine</span><span class="p">,</span> <span class="n">event</span>
<span class="kn">from</span> <span class="nn">cx_Oracle</span> <span class="k">import</span> <span class="n">CLOB</span>

<span class="n">engine</span> <span class="o">=</span> <span class="n">create_engine</span><span class="p">(</span><span class="s2">&quot;oracle+cx_oracle://scott:tiger@host/xe&quot;</span><span class="p">)</span>

<span class="nd">@event</span><span class="o">.</span><span class="n">listens_for</span><span class="p">(</span><span class="n">engine</span><span class="p">,</span> <span class="s2">&quot;do_setinputsizes&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">_remove_clob</span><span class="p">(</span><span class="n">inputsizes</span><span class="p">,</span> <span class="n">cursor</span><span class="p">,</span> <span class="n">statement</span><span class="p">,</span> <span class="n">parameters</span><span class="p">,</span> <span class="n">context</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">bindparam</span><span class="p">,</span> <span class="n">dbapitype</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="n">inputsizes</span><span class="o">.</span><span class="n">items</span><span class="p">()):</span>
        <span class="k">if</span> <span class="n">dbapitype</span> <span class="ow">is</span> <span class="n">CLOB</span><span class="p">:</span>
            <span class="k">del</span> <span class="n">inputsizes</span><span class="p">[</span><span class="n">bindparam</span><span class="p">]</span></pre></div>
</div>
</div>
</div>
<div class="section" id="cx-oracle-returning">
<span id="id2"></span><h3>戻り値のサポート<a class="headerlink" href="#cx-oracle-returning" title="このヘッドラインへのパーマリンク">¶</a></h3>
<p>cx_Oracleダイアレクトは、OUTパラメータを使用してRETURNINGを実装します。方言は完全にRETURNINGをサポートしていますが、cx_Oracle 6は完全サポートを推奨します。</p>
</div>
<div class="section" id="lob-objects">
<span id="cx-oracle-lob"></span><h3>LOBオブジェクト<a class="headerlink" href="#lob-objects" title="このヘッドラインへのパーマリンク">¶</a></h3>
<p>cx_oracleは、cx_oracle.LOBオブジェクトを使用してoracle LOBを戻します。 SQLAlchemyはこれらを文字列に変換して、バイナリ型のインタフェースがcx_Oracle出力型ハンドラ内で行われる他のバックエンドのインタフェースと一貫性を保つようにします。</p>
<p>バージョン6より前のcx_Oracleでは、 `` cursor.arraysize``で指定された行の新しいバッチを読み取る前にLOBオブジェクトを読み取る必要があります。 6シリーズ以降、この制限は解除されました。それにもかかわらず、SQLAlchemyはこれらのLOBを先読みするため、この問題は回避されます。</p>
<p>方言のauto &amp;quot;read（）&amp;quot;機能を無効にするには、フラグ `` auto_convert_lobs = False``をfunc： <a href="#id1"><span class="problematic" id="id2">`</span></a>.create_engine`に渡すことができます。 cx_Oracle 5シリーズの下では、このフラグをオフにすると、フェッチされたときに読み取られないと失効したLOBオブジェクトから読み取る可能性があります。 cx_Oracle 6では、この問題は解決されています。</p>
<div class="versionchanged">
<p><span class="versionmodified">バージョン 1.2 で変更: </span>LOB処理システムは、出力タイプ・ハンドラを使用するために内部的に大幅に簡素化されており、もはや代替の &amp;quot;バッファリングされた&amp;quot;結果セット・オブジェクトを使用しません。</p>
</div>
</div>
<div class="section" id="two-phase-transactions-not-supported">
<h3>サポートされていない2フェーズトランザクション<a class="headerlink" href="#two-phase-transactions-not-supported" title="このヘッドラインへのパーマリンク">¶</a></h3>
<p>** cx_Oracleの下では、ドライバーのサポートが貧弱なため、2フェーズトランザクションは**サポートされません**。 cx_Oracle 6.0b1以降、2フェーズ・トランザクションのインタフェースは、より少ない自動化で基礎となるOCIレイヤーへのダイレクト・パススルーに変更されました。このシステムをサポートする追加ロジックは、SQLAlchemyでは実装されていません。</p>
</div>
<div class="section" id="precision-numerics">
<span id="cx-oracle-numeric"></span><h3>精密数値<a class="headerlink" href="#precision-numerics" title="このヘッドラインへのパーマリンク">¶</a></h3>
<p>SQLAlchemyの数値型は、PythonのDecimalオブジェクトやfloatオブジェクトとして値を受け取ったり返したりすることができます。 ：class： <cite>.Numeric`オブジェクト、または：class：</cite> .Float`、：class： <cite>.oracle.DOUBLE_PRECISION`などのサブクラスが使用されている場合、：paramref：</cite> .Numeric.asdecimal`フラグ返り値を `` Decimal``に強制するか、floatオブジェクトとして返すべきかを決定します。 Oracleの場合、問題を複雑にするために、Oracleの `` NUMBER``型は、&amp;quot;scale &amp;quot;がゼロの場合は整数値を表すことができるので、Oracle固有の：class： <a href="#id1"><span class="problematic" id="id2">`</span></a>.oracle.NUMBER`型はこれをよく</p>
<p>cx_Oracle方言は、要求されたように数値を強制するために、接続レベルとカーソルレベルの&amp;quot;outputtypehandler &amp;quot;呼び出しを大量に使用します。これらの呼び出しは、使用中のclass： <a href="#id1"><span class="problematic" id="id2">`</span></a>.Numeric`とSQLAlchemy型指定オブジェクトが存在しない場合の特定のフレーバーに固有のものです。 Oracleが複数のレベルの副問合せの下に埋もれている問合せなど、返される数値型に関する不完全またはあいまいな情報をOracleが送信する場合があります。タイプハンドラは、すべての場合において適切な決定を下すために最善を尽くし、ドライバが最良の決定を下すことができるすべてのケースについて基礎となるcx_Oracle DBAPIを延期します。</p>
<p>プレーンなSQL文字列を実行するときのように、型指定オブジェクトが存在しないときには、一般に精度と位取りを指定する数値をPythonの `` Decimal``オブジェクトとして返すデフォルトの&amp;quot;outputtypehandler &amp;quot;が存在します。パフォーマンス上の理由からこの強制変換を10進数で無効にするには、フラグ `` coerce_to_decimal = False``を：func： <cite>.create_engine</cite> ::に渡します。</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">engine</span> <span class="o">=</span> <span class="n">create_engine</span><span class="p">(</span><span class="s2">&quot;oracle+cx_oracle://dsn&quot;</span><span class="p">,</span> <span class="n">coerce_to_decimal</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></pre></div>
</div>
<p>`` coerce_to_decimal``フラグは他の点では：class： <cite>.Numeric</cite> SQLAlchemy型（またはそのようなサブクラス）に関連していない普通の文字列SQLステージメントの結果にのみ影響します。</p>
<div class="versionchanged">
<p><span class="versionmodified">バージョン 1.2 で変更: </span>cx_Oracleの数値処理システムは、最新のcx_Oracle機能を利用し、さらには出力タイプハンドラの統合を改善するために改訂されました。</p>
</div>
</div>
</div>
<div class="section" id="module-sqlalchemy.dialects.oracle.zxjdbc">
<span id="zxjdbc"></span><h2>zxjdbc<a class="headerlink" href="#module-sqlalchemy.dialects.oracle.zxjdbc" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>Support for the Oracle database via the zxJDBC for Jython driver.<div class="admonition note">
<p class="first admonition-title">注釈</p>
<p class="last">Jython is not supported by current versions of SQLAlchemy.  The
zxjdbc dialect should be considered as experimental.</p>
</div>
</p>
<div class="section" id="dialect-oracle-zxjdbc-url">
<h3>DBAPI<a class="headerlink" href="#dialect-oracle-zxjdbc-url" title="このヘッドラインへのパーマリンク">¶</a></h3>
<p>Drivers for this database are available at:
<a class="reference external" href="http://www.oracle.com/technetwork/database/features/jdbc/index-091264.html">http://www.oracle.com/technetwork/database/features/jdbc/index-091264.html</a></p>
</div>
<div class="section" id="dialect-oracle-zxjdbc-connect">
<h3>Connecting<a class="headerlink" href="#dialect-oracle-zxjdbc-connect" title="このヘッドラインへのパーマリンク">¶</a></h3>
<p>Connect String:<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">oracle</span><span class="o">+</span><span class="n">zxjdbc</span><span class="p">:</span><span class="o">//</span><span class="n">user</span><span class="p">:</span><span class="k">pass</span><span class="nd">@host</span><span class="o">/</span><span class="n">dbname</span></pre></div>
</div>
</p>
</div>
</div>
</div>

    </div>

</div>

<div id="docs-bottom-navigation" class="docs-navigation-links, withsidebar">
        Previous:
        <a href="mysql.html" title="previous chapter">MySQL</a>
        Next:
        <a href="postgresql.html" title="next chapter">PostgreSQL</a>

    <div id="docs-copyright">
        &copy; <a href="../copyright.html">Copyright</a> 2007-2018, the SQLAlchemy authors and contributors.
        Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.8.1.
    </div>
</div>

</div>



        
        

    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
          URL_ROOT:    '../',
          VERSION:     '1.3.0b1',
          COLLAPSE_MODINDEX: false,
          FILE_SUFFIX: '.html'
      };
    </script>

    <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>

    <!-- begin iterate through sphinx environment script_files -->
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script type="text/javascript" src="../_static/translations.js"></script>
        <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <!-- end iterate through sphinx environment script_files -->

    <script type="text/javascript" src="../_static/detectmobile.js"></script>
    <script type="text/javascript" src="../_static/init.js"></script>


    </body>
</html>


