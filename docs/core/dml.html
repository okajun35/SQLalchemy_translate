<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">



<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        
        <title>
            
    
    挿入、更新、削除
 &mdash;
    SQLAlchemy 1.3 Documentation

        </title>

        
            <!-- begin iterate through site-imported + sphinx environment css_files -->
                <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
                <link rel="stylesheet" href="../_static/docs.css" type="text/css" />
                <link rel="stylesheet" href="../_static/changelog.css" type="text/css" />
                <link rel="stylesheet" href="../_static/sphinx_paramlinks.css" type="text/css" />
            <!-- end iterate through site-imported + sphinx environment css_files -->
        

        

    

    <!-- begin layout.mako headers -->

    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
        <link rel="copyright" title="Copyright" href="../copyright.html" />
    <link rel="top" title="SQLAlchemy 1.3 Documentation" href="../index.html" />
        <link rel="up" title="SQL Statements and Expressions API(SQL文とAPI式)" href="expression_api.html" />
        <link rel="next" title="SQLと汎用関数" href="functions.html" />
        <link rel="prev" title="選択可能オブジェクト、テーブル、FROMオブジェクト" href="selectable.html" />
    <!-- end layout.mako headers -->


    </head>
    <body>
        
















<div id="docs-container">





<div id="docs-top-navigation-container" class="body-background">
<div id="docs-header">
    <div id="docs-version-header">
        Release: <span class="version-num">1.3.0b1</span>


        | Release Date: unreleased

    </div>

    <h1>SQLAlchemy 1.3 Documentation</h1>

</div>
</div>

<div id="docs-body-container">

    <div id="fixed-sidebar" class="withsidebar">


        <div id="docs-sidebar-popout">
            <h3><a href="../index.html">SQLAlchemy 1.3 Documentation</a></h3>
            <p id="sidebar-topnav">
                <a href="../contents.html">Contents</a> |
                <a href="../genindex.html">Index</a>
            </p>

            <div id="sidebar-search">
                <form class="search" action="../search.html" method="get">
                  <label>
                  Search terms:
                  <input type="text" placeholder="search..." name="q" size="12" />
                  </label>
                  <input type="hidden" name="check_keywords" value="yes" />
                  <input type="hidden" name="area" value="default" />
                </form>
            </div>

        </div>

        <div id="docs-sidebar">

        <div id="sidebar-banner">
            
        </div>

        <div id="docs-sidebar-inner">

        
        <h3>
            <a href="index.html" title="SQLAlchemyコア">SQLAlchemyコア</a>
        </h3>

        <ul>
<li><span class="link-container first"><a class="reference external" href="tutorial.html">SQL式言語チュートリアル</a></span></li>
<li><span class="link-container first"><a class="reference external" href="expression_api.html">SQL Statements and Expressions API(SQL文とAPI式)</a></span><ul>
<li><span class="link-container first"><a class="reference external" href="sqlelement.html">列要素と式</a></span></li>
<li><span class="link-container first"><a class="reference external" href="selectable.html">選択可能オブジェクト、テーブル、FROMオブジェクト</a></span></li>
<li class="selected"><span class="link-container first"><strong>挿入、更新、削除</strong><a class="paramlink headerlink reference internal" href="#">¶</a></span></li>
<li><span class="link-container first"><a class="reference external" href="functions.html">SQLと汎用関数</a></span></li>
<li><span class="link-container first"><a class="reference external" href="compiler.html">カスタムSQLコンストラクトとコンパイル拡張</a></span></li>
<li><span class="link-container first"><a class="reference external" href="serializer.html">式シリアライザ拡張</a></span></li>
</ul>
</li>
<li><span class="link-container first"><a class="reference external" href="schema.html">スキーマ定義言語</a></span></li>
<li><span class="link-container first"><a class="reference external" href="types.html">列とデータ型</a></span></li>
<li><span class="link-container first"><a class="reference external" href="engines_connections.html">エンジンと接続の使用</a></span></li>
<li><span class="link-container first"><a class="reference external" href="api_basics.html">コアAPIの基礎</a></span></li>
</ul>



        </div>

        </div>

    </div>

    

    <div id="docs-body" class="withsidebar" >
        
<div class="section" id="insert-updates-deletes">
<h1>挿入、更新、削除<a class="headerlink" href="#insert-updates-deletes" title="このヘッドラインへのパーマリンク">¶</a></h1>
<p>INSERT文、UPDATE文、DELETE文は、class： <cite>.UpdateBase`で始まる階層構造に基づいています。 ：class： `.Insert`と：class：</cite> .Update`の構文は中間：class： <a href="#id1"><span class="problematic" id="id2">`</span></a>.ValuesBase`に基づいています。</p>
<span class="target" id="module-sqlalchemy.sql.expression"></span><dl class="function">
<dt id="sqlalchemy.sql.expression.delete">
<code class="descclassname">sqlalchemy.sql.expression.</code><code class="descname">delete</code><span class="sig-paren">(</span><em>table</em>, <em>whereclause=None</em>, <em>bind=None</em>, <em>returning=None</em>, <em>prefixes=None</em>, <em>**dialect_kw</em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.delete" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>コンストラクト：class： <a href="#id1"><span class="problematic" id="id2">`</span></a>.Delete`オブジェクトです。</p>
<p>同様の機能が：class： <cite>〜.schema.Table`の：meth：</cite>〜.TableClause.delete`メソッドで利用できます。</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">パラメータ:</th><td class="field-body"><ul class="first last simple">
<li><span class="target" id="sqlalchemy.sql.expression.delete.params.table"></span><strong>table</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.delete.params.table">¶</a> -- 行を削除するテーブル。</li>
<li><span class="target" id="sqlalchemy.sql.expression.delete.params.whereclause"></span><strong>whereclause</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.delete.params.whereclause">¶</a> -- A：class： `` DELETE``文の `` WHERE``条件を記述する <cite>.ClauseElement`です。代わりに：meth： `〜Delete.where（）`生成メソッドを使用することができます。 WHERE句は複数のテーブルを参照できます。これをサポートするデータベースでは、 `</cite> DELETE..USING``または同様の節が生成されます。この文は、複数表の削除文をサポートしていないデータベースでは失敗します。 WHERE句で追加のテーブルを参照するSQL標準の方法は、相関サブクエリ:: users.delete（）を使用することです。where（users.c.name == select（[addresses.c.email_address]）。where（ addresses.c.user_id == users.c.id）。as_scalar（））.. versionchanged :: 1.2.0 DELETEのWHERE句は複数のテーブルを参照できます。</li>
</ul>
</td>
</tr>
</tbody>
</table>
<div class="admonition seealso">
<p class="first admonition-title">参考</p>
<p class="last">：ref： <cite>deletes</cite>  -  SQL式チュートリアル</p>
</div>
</dd></dl>

<dl class="function">
<dt id="sqlalchemy.sql.expression.insert">
<code class="descclassname">sqlalchemy.sql.expression.</code><code class="descname">insert</code><span class="sig-paren">(</span><em>table</em>, <em>values=None</em>, <em>inline=False</em>, <em>bind=None</em>, <em>prefixes=None</em>, <em>returning=None</em>, <em>return_defaults=False</em>, <em>**dialect_kw</em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.insert" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>：class： <a href="#id1"><span class="problematic" id="id2">`</span></a>.Insert`オブジェクトを作成します。</p>
<p>同様の機能が：class： <cite>〜.schema.Table`の：meth：</cite>〜.TableClause.insert`メソッドで利用できます。</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">パラメータ:</th><td class="field-body"><ul class="first last simple">
<li><span class="target" id="sqlalchemy.sql.expression.insert.params.table"></span><strong>table</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.insert.params.table">¶</a> -- ：クラス： <a href="#id1"><span class="problematic" id="id2">`</span></a>.TableClause`は挿入の対象です。</li>
<li><span class="target" id="sqlalchemy.sql.expression.insert.params.values"></span><strong>values</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.insert.params.values">¶</a> -- 挿入される値の集合。ここで許可される書式の説明については：meth： <cite>.Insert.values`を参照してください。完全に省略することができます。 a：class： `.Insert`コンストラクトは：meth：</cite> .Connection.execute`に渡されるパラメータに基づいて、実行時にVALUES句を動的にレンダリングします。</li>
<li><span class="target" id="sqlalchemy.sql.expression.insert.params.inline"></span><strong>inline</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.insert.params.inline">¶</a> -- Trueの場合、ステートメント内で提供されるSQL生成のデフォルト値を取得する試みは行われません。特に、これにより、事前にSQL文を事前に実行する必要はなく、SQL式を文内で「インライン」でレンダリングすることができます。 &amp;quot;返す&amp;quot;をサポートするバックエンドでは、この文の&amp;quot;暗黙的な復帰&amp;quot;機能が無効になります。</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p><cite>values`とコンパイル時バインドパラメタの両方が存在する場合、コンパイル時バインドパラメタはキー単位で</cite> values`で指定された情報をオーバーライドします。</p>
<p><cite>values`内のキーは、class：</cite>〜sqlalchemy.schema.Column`オブジェクトまたはその文字列識別子のいずれかです。各キーは、次のいずれかを参照します。</p>
<ul class="simple">
<li>リテラルデータ値（すなわち、文字列、数字など）。</li>
<li>Columnオブジェクト。</li>
<li>SELECTステートメント</li>
</ul>
<p>この `` INSERT``文のテーブルを参照する `` SELECT``文が指定されている場合、その文は `` INSERT``文と関連づけられます。</p>
<div class="admonition seealso">
<p class="first admonition-title">参考</p>
<p>：ref： <cite>coretutorial_insert_expressions</cite>  -  SQL式チュートリアル</p>
<p class="last">：ref： <cite>inserts_and_updates</cite>  -  SQL式チュートリアル</p>
</div>
</dd></dl>

<dl class="function">
<dt id="sqlalchemy.sql.expression.update">
<code class="descclassname">sqlalchemy.sql.expression.</code><code class="descname">update</code><span class="sig-paren">(</span><em>table</em>, <em>whereclause=None</em>, <em>values=None</em>, <em>inline=False</em>, <em>bind=None</em>, <em>prefixes=None</em>, <em>returning=None</em>, <em>return_defaults=False</em>, <em>preserve_parameter_order=False</em>, <em>**dialect_kw</em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.update" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>：class： <a href="#id1"><span class="problematic" id="id2">`</span></a>.Update`オブジェクトを作成します。</p>
<p>例えば：：</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">sqlalchemy</span> <span class="k">import</span> <span class="n">update</span>

<span class="n">stmt</span> <span class="o">=</span> <span class="n">update</span><span class="p">(</span><span class="n">users</span><span class="p">)</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">users</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">id</span><span class="o">==</span><span class="mi">5</span><span class="p">)</span><span class="o">.</span>\
        <span class="n">values</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;user #5&#39;</span><span class="p">)</span></pre></div>
</div>
<p>同様の機能が、：meth： <cite>〜.TableClause.update`メソッドで利用できます：class：</cite> .Table`：</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">stmt</span> <span class="o">=</span> <span class="n">users</span><span class="o">.</span><span class="n">update</span><span class="p">()</span><span class="o">.</span>\
            <span class="n">where</span><span class="p">(</span><span class="n">users</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">id</span><span class="o">==</span><span class="mi">5</span><span class="p">)</span><span class="o">.</span>\
            <span class="n">values</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;user #5&#39;</span><span class="p">)</span></pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">パラメータ:</th><td class="field-body"><ul class="first last simple">
<li><span class="target" id="sqlalchemy.sql.expression.update.params.table"></span><strong>table</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.update.params.table">¶</a> -- A：class：更新されるデータベーステーブルを表す <a href="#id1"><span class="problematic" id="id2">`</span></a>.Table`オブジェクトです。</li>
<li><span class="target" id="sqlalchemy.sql.expression.update.params.whereclause"></span><strong>whereclause</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.update.params.whereclause">¶</a> -- `` UPDATE``文の `` WHERE``条件を記述するオプションのSQL式です。最近のアプリケーションでは、生成する：meth： <cite>〜Update.where（）`メソッドを使用して `</cite> WHERE``節を指定する方が好きかもしれません。 WHERE句は複数のテーブルを参照できます。これをサポートするデータベースでは、 `` UPDATE FROM``節が生成されるか、MySQLの複数のテーブルの更新が生成されます。マルチテーブル更新ステートメントをサポートしていないデータベースでは、ステートメントは失敗します。 WHERE句で追加のテーブルを参照するSQL標準の方法は、相関サブクエリ:: users.update（）。values（name = &amp;#39;ed&amp;#39;）を使用することです。where（users.c.name == select（[addresses .changemail_address]）。where（addresses.c.user_id == users.c.id）。as_scalar（））.. versionchanged :: 0.7.4 UPDATEのWHERE節は複数のテーブルを参照できます。</li>
<li><span class="target" id="sqlalchemy.sql.expression.update.params.values"></span><strong>values</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.update.params.values">¶</a> -- `` UPDATE``の `` SET``条件を指定するオプションの辞書です。 `` None``のままにした場合、 `` SET``条件は、文の実行やコンパイル中に文に渡されるパラメータから決定されます。パラメータなしでスタンドアロンでコンパイルされると、 `` SET``節がすべての列に対して生成されます。最近のアプリケーションでは、generate：meth： <a href="#id1"><span class="problematic" id="id2">`</span></a>.Update.values`メソッドを使用してUPDATEステートメントの値を設定する方が好きかもしれません。</li>
<li><span class="target" id="sqlalchemy.sql.expression.update.params.inline"></span><strong>inline</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.update.params.inline">¶</a> -- Trueの場合、SQL defaults on：class： <cite>.Column`オブジェクトは、</cite> <a href="#id1"><span class="problematic" id="id2">`</span></a>default``キーワードを介してステートメント内に &amp;#39;インライン&amp;#39;でコンパイルされ、事前実行されません。これは、それらの値が：meth： <a href="#id3"><span class="problematic" id="id4">`</span></a>.ResultProxy.last_updated_pa​​rams`から返された辞書で利用できないことを意味します。</li>
<li><span class="target" id="sqlalchemy.sql.expression.update.params.preserve_parameter_order"></span><strong>preserve_parameter_order</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.update.params.preserve_parameter_order">¶</a> -- Trueの場合、更新ステートメントは：meth： <cite>.Update.values`メソッドを介して** only **パラメータを受け取ることが期待され、それらは2タプルのPython</cite> <cite>list``として渡されなければなりません。レンダリングされたUPDATEステートメントは、この順序を維持している参照される列ごとにSET句を発行します。 .. version.10ded .. 1.0.10 .. seealso :: ref： `updates_order_parameters</cite>  - 完全な例：paramref：<a href="#id1"><span class="problematic" id="id2">`</span></a>〜sqlalchemy.sql.expression.update.preserve_parameter_order`フラグ</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>`` values``とコンパイル時バインドパラメタの両方が存在する場合、コンパイル時バインドパラメタは `` values``で指定された情報をキー単位でオーバーライドします。</p>
<p>`` values``内のキーは：class： <cite>.Column`オブジェクトまたはその文字列識別子（特に：class：</cite> .Column`の&amp;quot;key &amp;quot;、通常は必ずしも&amp;quot;。名&amp;quot;）。通常は、ここで使用される：class： <cite>.Column`オブジェクトは、更新されるテーブルであるtarget：class：</cite> .Table`の一部であると予想されます。しかし、MySQLを使用する場合、複数テーブルのUPDATEステートメントは、WHERE句で参照されているテーブルのいずれかのカラムを参照できます。</p>
<p>`` values``で参照される値は、典型的には：</p>
<ul class="simple">
<li>リテラルデータ値（すなわち、文字列、数字など）</li>
<li>関連：class： <cite>.Column</cite>、スカラー返り：func：` .select`などのSQL式です。</li>
</ul>
<p>：func： <cite>.select`を：func：</cite> .update`構文のvalues節の中で組み立てるとき、：func： <a href="#id1"><span class="problematic" id="id2">`</span></a>.select`で表されるサブクエリは、親テーブルに*関連付ける*サブクエリ内のテーブルを更新中の外部テーブルにリンクする基準を提供する:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">users</span><span class="o">.</span><span class="n">update</span><span class="p">()</span><span class="o">.</span><span class="n">values</span><span class="p">(</span>
        <span class="n">name</span><span class="o">=</span><span class="n">select</span><span class="p">([</span><span class="n">addresses</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">email_address</span><span class="p">])</span><span class="o">.</span>\
                <span class="n">where</span><span class="p">(</span><span class="n">addresses</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">user_id</span><span class="o">==</span><span class="n">users</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">id</span><span class="p">)</span><span class="o">.</span>\
                <span class="n">as_scalar</span><span class="p">()</span>
    <span class="p">)</span></pre></div>
</div>
<div class="admonition seealso">
<p class="first admonition-title">参考</p>
<p class="last">：ref： <cite>inserts_and_updates</cite>  -  SQL式言語チュートリアル</p>
</div>
</dd></dl>

<dl class="class">
<dt id="sqlalchemy.sql.expression.Delete">
<em class="property">class </em><code class="descclassname">sqlalchemy.sql.expression.</code><code class="descname">Delete</code><span class="sig-paren">(</span><em>table</em>, <em>whereclause=None</em>, <em>bind=None</em>, <em>returning=None</em>, <em>prefixes=None</em>, <em>**dialect_kw</em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.Delete" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#sqlalchemy.sql.expression.UpdateBase" title="sqlalchemy.sql.expression.UpdateBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.UpdateBase</span></code></a></p>
<p>DELETE構文を表します。</p>
<p>：class： <cite>.Delete`オブジェクトは、：func：</cite> delete（） <a href="#id1"><span class="problematic" id="id2">`</span></a>関数を使って作成されます。</p>
<dl class="attribute">
<dt id="sqlalchemy.sql.expression.Delete.__eq__">
<code class="descname">__eq__</code><a class="headerlink" href="#sqlalchemy.sql.expression.Delete.__eq__" title="この定義へのパーマリンク">¶</a></dt>
<dd><div class="inherited-member docutils container">
<em>inherited from the</em> <code class="xref py py-attr docutils literal notranslate"><span class="pre">__eq__</span></code> <em>attribute of</em> <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></div>
<p>Return self==value.</p>
</dd></dl>

<dl class="method">
<dt id="sqlalchemy.sql.expression.Delete.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><em>table</em>, <em>whereclause=None</em>, <em>bind=None</em>, <em>returning=None</em>, <em>prefixes=None</em>, <em>**dialect_kw</em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.Delete.__init__" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>Construct a new <a class="reference internal" href="#sqlalchemy.sql.expression.Delete" title="sqlalchemy.sql.expression.Delete"><code class="xref py py-class docutils literal notranslate"><span class="pre">Delete</span></code></a> object.</p>
<p>This constructor is mirrored as a public API function; see <a class="reference internal" href="#sqlalchemy.sql.expression.delete" title="sqlalchemy.sql.expression.delete"><code class="xref py py-func docutils literal notranslate"><span class="pre">delete()</span></code></a> for a full usage and argument description.</p>
</dd></dl>

<dl class="attribute">
<dt id="sqlalchemy.sql.expression.Delete.__le__">
<code class="descname">__le__</code><a class="headerlink" href="#sqlalchemy.sql.expression.Delete.__le__" title="この定義へのパーマリンク">¶</a></dt>
<dd><div class="inherited-member docutils container">
<em>inherited from the</em> <code class="xref py py-attr docutils literal notranslate"><span class="pre">__le__</span></code> <em>attribute of</em> <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></div>
<p>Return self&lt;=value.</p>
</dd></dl>

<dl class="attribute">
<dt id="sqlalchemy.sql.expression.Delete.__lt__">
<code class="descname">__lt__</code><a class="headerlink" href="#sqlalchemy.sql.expression.Delete.__lt__" title="この定義へのパーマリンク">¶</a></dt>
<dd><div class="inherited-member docutils container">
<em>inherited from the</em> <code class="xref py py-attr docutils literal notranslate"><span class="pre">__lt__</span></code> <em>attribute of</em> <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></div>
<p>Return self&lt;value.</p>
</dd></dl>

<dl class="attribute">
<dt id="sqlalchemy.sql.expression.Delete.__ne__">
<code class="descname">__ne__</code><a class="headerlink" href="#sqlalchemy.sql.expression.Delete.__ne__" title="この定義へのパーマリンク">¶</a></dt>
<dd><div class="inherited-member docutils container">
<em>inherited from the</em> <code class="xref py py-attr docutils literal notranslate"><span class="pre">__ne__</span></code> <em>attribute of</em> <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></div>
<p>Return self!=value.</p>
</dd></dl>

<dl class="classmethod">
<dt id="sqlalchemy.sql.expression.Delete.argument_for">
<em class="property">classmethod </em><code class="descname">argument_for</code><span class="sig-paren">(</span><em>dialect_name</em>, <em>argument_name</em>, <em>default</em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.Delete.argument_for" title="この定義へのパーマリンク">¶</a></dt>
<dd><div class="inherited-member docutils container">
<em>inherited from the</em> <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.base.DialectKWArgs.argument_for" title="sqlalchemy.sql.base.DialectKWArgs.argument_for"><code class="xref py py-meth docutils literal notranslate"><span class="pre">argument_for()</span></code></a> <em>method of</em> <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.base.DialectKWArgs" title="sqlalchemy.sql.base.DialectKWArgs"><code class="xref py py-class docutils literal notranslate"><span class="pre">DialectKWArgs</span></code></a></div>
<p>このクラスの新しい種類の方言固有のキーワード引数を追加します。</p>
<p>例えば：：</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Index</span><span class="o">.</span><span class="n">argument_for</span><span class="p">(</span><span class="s2">&quot;mydialect&quot;</span><span class="p">,</span> <span class="s2">&quot;length&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>

<span class="n">some_index</span> <span class="o">=</span> <span class="n">Index</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="n">mydialect_length</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span></pre></div>
</div>
<p>：meth： <cite>.DialectKWArgs.argument_for`メソッドは：attr：</cite> .DefaultDialect.construct_arguments`ディクショナリに余分な引数を追加する引数ごとの方法です。この辞書は、方言に代わってさまざまなスキーマレベルの構造によって受け入れられる引数名のリストを提供します。</p>
<p>新しい方言は通常、この辞書を一度に方言クラスのデータメンバーとして指定する必要があります。引数名のアドホックな追加のユースケースは、通常、追加の引数を消費するカスタムコンパイルスキームも使用するエンドユーザーコード用です。</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">パラメータ:</th><td class="field-body"><ul class="first last simple">
<li><span class="target" id="sqlalchemy.sql.expression.Delete.argument_for.params.dialect_name"></span><strong>dialect_name</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.Delete.argument_for.params.dialect_name">¶</a> -- 方言の名前。方言はlocatableでなければなりません。さもなければ：class： <cite>.NoSuchModuleError`が送出されます。ダイアレクトには、既存の：attr： `.DefaultDialect.construct_arguments`コレクションも含まれていなければなりません。これはキーワード引数の検証とデフォルトシステムに参加していることを示します。それ以外の場合は：class：</cite> .ArgumentError`が送出されます。方言にこのコレクションが含まれていない場合は、既にこの方言の代わりにキーワード引数を指定できます。 SQLAlchemy内にパッケージ化されたすべての方言にはこのコレクションが含まれていますが、サードパーティの方言ではサポートが異なる場合があります。</li>
<li><span class="target" id="sqlalchemy.sql.expression.Delete.argument_for.params.argument_name"></span><strong>argument_name</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.Delete.argument_for.params.argument_name">¶</a> -- パラメータの名前。</li>
<li><span class="target" id="sqlalchemy.sql.expression.Delete.argument_for.params.default"></span><strong>default</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.Delete.argument_for.params.default">¶</a> -- パラメータのデフォルト値。</li>
</ul>
</td>
</tr>
</tbody>
</table>
<div class="versionadded">
<p><span class="versionmodified">バージョン 0.9.4 で追加.</span></p>
</div>
</dd></dl>

<dl class="attribute">
<dt id="sqlalchemy.sql.expression.Delete.bind">
<code class="descname">bind</code><a class="headerlink" href="#sqlalchemy.sql.expression.Delete.bind" title="この定義へのパーマリンク">¶</a></dt>
<dd><div class="inherited-member docutils container">
<em>inherited from the</em> <a class="reference internal" href="#sqlalchemy.sql.expression.UpdateBase.bind" title="sqlalchemy.sql.expression.UpdateBase.bind"><code class="xref py py-attr docutils literal notranslate"><span class="pre">bind</span></code></a> <em>attribute of</em> <a class="reference internal" href="#sqlalchemy.sql.expression.UpdateBase" title="sqlalchemy.sql.expression.UpdateBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">UpdateBase</span></code></a></div>
<p>this：class： <cite>.UpdateBase`またはそれに関連するa：class：</cite> .Table`にリンクされた &amp;#39;bind&amp;#39;を返します。</p>
</dd></dl>

<dl class="method">
<dt id="sqlalchemy.sql.expression.Delete.compare">
<code class="descname">compare</code><span class="sig-paren">(</span><em>other</em>, <em>**kw</em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.Delete.compare" title="この定義へのパーマリンク">¶</a></dt>
<dd><div class="inherited-member docutils container">
<em>inherited from the</em> <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.ClauseElement.compare" title="sqlalchemy.sql.expression.ClauseElement.compare"><code class="xref py py-meth docutils literal notranslate"><span class="pre">compare()</span></code></a> <em>method of</em> <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.ClauseElement" title="sqlalchemy.sql.expression.ClauseElement"><code class="xref py py-class docutils literal notranslate"><span class="pre">ClauseElement</span></code></a></div>
<p>このClauseElementと指定されたClauseElementを比較します。</p>
<p>サブクラスはデフォルトの動作を上書きする必要があります。</p>
<p>** kwは、サブクラスのcompare（）メソッドによって消費される引数であり、比較の基準を変更するために使用されます。 （：class： <a href="#id1"><span class="problematic" id="id2">`</span></a>.ColumnElement`を参照してください）</p>
</dd></dl>

<dl class="method">
<dt id="sqlalchemy.sql.expression.Delete.compile">
<code class="descname">compile</code><span class="sig-paren">(</span><em>default</em>, <em>bind=None</em>, <em>dialect=None</em>, <em>**kw</em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.Delete.compile" title="この定義へのパーマリンク">¶</a></dt>
<dd><div class="inherited-member docutils container">
<em>inherited from the</em> <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.ClauseElement.compile" title="sqlalchemy.sql.expression.ClauseElement.compile"><code class="xref py py-meth docutils literal notranslate"><span class="pre">compile()</span></code></a> <em>method of</em> <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.ClauseElement" title="sqlalchemy.sql.expression.ClauseElement"><code class="xref py py-class docutils literal notranslate"><span class="pre">ClauseElement</span></code></a></div>
<p>このSQL式をコンパイルします。</p>
<p>戻り値は：class： <cite>〜.Compiled`オブジェクトです。返された値に対して `</cite> str（） <a href="#id1"><span class="problematic" id="id2">``</span></a>または `` unicode（） <a href="#id3"><span class="problematic" id="id4">``</span></a>を呼び出すと結果の文字列表現が返されます。 ：class： <cite>〜.Compiled`オブジェクトは、</cite> <a href="#id5"><span class="problematic" id="id6">`</span></a>params``アクセサを使ってバインドパラメータの名前と値の辞書を返すこともできます。</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">パラメータ:</th><td class="field-body"><ul class="first last simple">
<li><span class="target" id="sqlalchemy.sql.expression.Delete.compile.params.bind"></span><strong>bind</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.Delete.compile.params.bind">¶</a> -- `` Engine``または `` Connection``から `` Compiled``を取得します。この引数はこれよりも優先されます：class： <a href="#id1"><span class="problematic" id="id2">`</span></a>.ClauseElement`のバウンドエンジン（もしあれば）。</li>
<li><span class="target" id="sqlalchemy.sql.expression.Delete.compile.params.column_keys"></span><strong>column_keys</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.Delete.compile.params.column_keys">¶</a> -- INSERTおよびUPDATEステートメントに使用され、コンパイルされたステートメントのVALUES節に存在する列名のリスト。 `` None``の場合、ターゲットテーブルオブジェクトのすべての列がレンダリングされます。</li>
<li><span class="target" id="sqlalchemy.sql.expression.Delete.compile.params.dialect"></span><strong>dialect</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.Delete.compile.params.dialect">¶</a> -- `` Dialect``インスタンスで、 `` Compiled``を取得します。この引数は、 <cite>bind`引数だけでなく、class：</cite> .ClauseElement`のバウンドエンジン（存在する場合）も優先します。</li>
<li><span class="target" id="sqlalchemy.sql.expression.Delete.compile.params.inline"></span><strong>inline</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.Delete.compile.params.inline">¶</a> -- 新しく生成された主キー列のインライン検索をサポートしていない方言のINSERTステートメントでは、INSERTステートメントのVALUES句内で新しい主キー値の作成式を強制的にインラインで表示します。これは、通常、シーケンスの実行を参照するが、主キー「列」に関連付けられた任意のサーバー側デフォルト生成関数を参照することもできる。</li>
<li><span class="target" id="sqlalchemy.sql.expression.Delete.compile.params.compile_kwargs"></span><strong>compile_kwargs</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.Delete.compile.params.compile_kwargs">¶</a> -- すべての&amp;quot;visit &amp;quot;メソッド内でコンパイラに渡される追加パラメータのオプション辞書。これにより、任意のカスタムフラグをカスタムコンパイル構成に渡すことができます。また、 `` literal_binds``フラグを:: sqlalchemy.sqlから渡す場合にも使用されます。import table、column、select t = table（ &amp;#39;t&amp;#39;、column（ &amp;#39;x&amp;#39;））s = select（[t ]））。ここで、（tcx == 5）は、s.compile（compile_kwargs = {&amp;quot;literal_binds &amp;quot;：True）を出力します）.. versionadded :: 0.9.0</li>
</ul>
</td>
</tr>
</tbody>
</table>
<div class="admonition seealso">
<p class="first admonition-title">参考</p>
<p class="last">：ref： <cite>faq_sql_expression_string</cite></p>
</div>
</dd></dl>

<dl class="method">
<dt id="sqlalchemy.sql.expression.Delete.cte">
<code class="descname">cte</code><span class="sig-paren">(</span><em>name=None</em>, <em>recursive=False</em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.Delete.cte" title="この定義へのパーマリンク">¶</a></dt>
<dd><div class="inherited-member docutils container">
<em>inherited from the</em> <a class="reference internal" href="selectable.html#sqlalchemy.sql.expression.HasCTE.cte" title="sqlalchemy.sql.expression.HasCTE.cte"><code class="xref py py-meth docutils literal notranslate"><span class="pre">cte()</span></code></a> <em>method of</em> <a class="reference internal" href="selectable.html#sqlalchemy.sql.expression.HasCTE" title="sqlalchemy.sql.expression.HasCTE"><code class="xref py py-class docutils literal notranslate"><span class="pre">HasCTE</span></code></a></div>
<p>新しい：class： <a href="#id1"><span class="problematic" id="id2">`</span></a>.CTE`またはCommon Table Expressionインスタンスを返します。</p>
<p>共通テーブル式はSQL標準であり、SELECTステートメントは&amp;quot;WITH &amp;quot;という句を使用してプライマリステートメントとともに指定された2次ステートメントを引き出すことができます。 SELECT文が以前に選択された行のセットを引き出すことができる「再帰的な」問合せを可能にするために、UNIONに関する特別なセマンティクスを使用することもできます。</p>
<p>CTEは、RTEURNINGと組み合わされたときのCTE行のソースとしても、CTE行のコンシューマとしても、一部のデータベースのDML構成UPDATE、INSERTおよびDELETEに適用できます。</p>
<p>SQLAlchemyは、：class： <cite>.Alias`オブジェクトと同様に扱われる：class：</cite> .CTE`オブジェクトを検出します。これは、文のFROM句にも、ステートメント。</p>
<div class="versionchanged">
<p><span class="versionmodified">バージョン 1.1 で変更: </span>CTEとしてUPDATE / INSERT / DELETE、UPDATE / INSERT / DELETEにCTEが追加されました。</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">パラメータ:</th><td class="field-body"><ul class="first last simple">
<li><span class="target" id="sqlalchemy.sql.expression.Delete.cte.params.name"></span><strong>name</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.Delete.cte.params.name">¶</a> -- 共通テーブル式に与えられた名前。 ：meth： <cite>._FromClause.alias`のように、名前は</cite> <a href="#id1"><span class="problematic" id="id2">`</span></a>None``のままにすることができます。この場合、クエリコンパイル時に匿名シンボルが使用されます。</li>
<li><span class="target" id="sqlalchemy.sql.expression.Delete.cte.params.recursive"></span><strong>recursive</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.Delete.cte.params.recursive">¶</a> -- `` True``なら `` WITH RECURSIVE``を返します。再帰的共通表式は、既に選択されている行から行を派生させるために、UNION ALLと一緒に使用することを意図しています。</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>次の例には、PostgreSQLのドキュメント（<a class="reference external" href="http://www.postgresql.org/docs/current/static/queries-with.html">http://www.postgresql.org/docs/current/static/queries-with.html</a>）の2つの例と追加の例が含まれています。</p>
<p>例1、非再帰:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">sqlalchemy</span> <span class="k">import</span> <span class="p">(</span><span class="n">Table</span><span class="p">,</span> <span class="n">Column</span><span class="p">,</span> <span class="n">String</span><span class="p">,</span> <span class="n">Integer</span><span class="p">,</span>
                        <span class="n">MetaData</span><span class="p">,</span> <span class="n">select</span><span class="p">,</span> <span class="n">func</span><span class="p">)</span>

<span class="n">metadata</span> <span class="o">=</span> <span class="n">MetaData</span><span class="p">()</span>

<span class="n">orders</span> <span class="o">=</span> <span class="n">Table</span><span class="p">(</span><span class="s1">&#39;orders&#39;</span><span class="p">,</span> <span class="n">metadata</span><span class="p">,</span>
    <span class="n">Column</span><span class="p">(</span><span class="s1">&#39;region&#39;</span><span class="p">,</span> <span class="n">String</span><span class="p">),</span>
    <span class="n">Column</span><span class="p">(</span><span class="s1">&#39;amount&#39;</span><span class="p">,</span> <span class="n">Integer</span><span class="p">),</span>
    <span class="n">Column</span><span class="p">(</span><span class="s1">&#39;product&#39;</span><span class="p">,</span> <span class="n">String</span><span class="p">),</span>
    <span class="n">Column</span><span class="p">(</span><span class="s1">&#39;quantity&#39;</span><span class="p">,</span> <span class="n">Integer</span><span class="p">)</span>
<span class="p">)</span>

<span class="n">regional_sales</span> <span class="o">=</span> <span class="n">select</span><span class="p">([</span>
                    <span class="n">orders</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">region</span><span class="p">,</span>
                    <span class="n">func</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">orders</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">amount</span><span class="p">)</span><span class="o">.</span><span class="n">label</span><span class="p">(</span><span class="s1">&#39;total_sales&#39;</span><span class="p">)</span>
                <span class="p">])</span><span class="o">.</span><span class="n">group_by</span><span class="p">(</span><span class="n">orders</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">region</span><span class="p">)</span><span class="o">.</span><span class="n">cte</span><span class="p">(</span><span class="s2">&quot;regional_sales&quot;</span><span class="p">)</span>


<span class="n">top_regions</span> <span class="o">=</span> <span class="n">select</span><span class="p">([</span><span class="n">regional_sales</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">region</span><span class="p">])</span><span class="o">.</span>\
        <span class="n">where</span><span class="p">(</span>
            <span class="n">regional_sales</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">total_sales</span> <span class="o">&gt;</span>
            <span class="n">select</span><span class="p">([</span>
                <span class="n">func</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">regional_sales</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">total_sales</span><span class="p">)</span><span class="o">/</span><span class="mi">10</span>
            <span class="p">])</span>
        <span class="p">)</span><span class="o">.</span><span class="n">cte</span><span class="p">(</span><span class="s2">&quot;top_regions&quot;</span><span class="p">)</span>

<span class="n">statement</span> <span class="o">=</span> <span class="n">select</span><span class="p">([</span>
            <span class="n">orders</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">region</span><span class="p">,</span>
            <span class="n">orders</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">product</span><span class="p">,</span>
            <span class="n">func</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">orders</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">quantity</span><span class="p">)</span><span class="o">.</span><span class="n">label</span><span class="p">(</span><span class="s2">&quot;product_units&quot;</span><span class="p">),</span>
            <span class="n">func</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">orders</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">amount</span><span class="p">)</span><span class="o">.</span><span class="n">label</span><span class="p">(</span><span class="s2">&quot;product_sales&quot;</span><span class="p">)</span>
    <span class="p">])</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">orders</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">region</span><span class="o">.</span><span class="n">in_</span><span class="p">(</span>
        <span class="n">select</span><span class="p">([</span><span class="n">top_regions</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">region</span><span class="p">])</span>
    <span class="p">))</span><span class="o">.</span><span class="n">group_by</span><span class="p">(</span><span class="n">orders</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">region</span><span class="p">,</span> <span class="n">orders</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">product</span><span class="p">)</span>

<span class="n">result</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">statement</span><span class="p">)</span><span class="o">.</span><span class="n">fetchall</span><span class="p">()</span></pre></div>
</div>
<p>例2、RECURSIVE</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">sqlalchemy</span> <span class="k">import</span> <span class="p">(</span><span class="n">Table</span><span class="p">,</span> <span class="n">Column</span><span class="p">,</span> <span class="n">String</span><span class="p">,</span> <span class="n">Integer</span><span class="p">,</span>
                        <span class="n">MetaData</span><span class="p">,</span> <span class="n">select</span><span class="p">,</span> <span class="n">func</span><span class="p">)</span>

<span class="n">metadata</span> <span class="o">=</span> <span class="n">MetaData</span><span class="p">()</span>

<span class="n">parts</span> <span class="o">=</span> <span class="n">Table</span><span class="p">(</span><span class="s1">&#39;parts&#39;</span><span class="p">,</span> <span class="n">metadata</span><span class="p">,</span>
    <span class="n">Column</span><span class="p">(</span><span class="s1">&#39;part&#39;</span><span class="p">,</span> <span class="n">String</span><span class="p">),</span>
    <span class="n">Column</span><span class="p">(</span><span class="s1">&#39;sub_part&#39;</span><span class="p">,</span> <span class="n">String</span><span class="p">),</span>
    <span class="n">Column</span><span class="p">(</span><span class="s1">&#39;quantity&#39;</span><span class="p">,</span> <span class="n">Integer</span><span class="p">),</span>
<span class="p">)</span>

<span class="n">included_parts</span> <span class="o">=</span> <span class="n">select</span><span class="p">([</span>
                    <span class="n">parts</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">sub_part</span><span class="p">,</span>
                    <span class="n">parts</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">part</span><span class="p">,</span>
                    <span class="n">parts</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">quantity</span><span class="p">])</span><span class="o">.</span>\
                    <span class="n">where</span><span class="p">(</span><span class="n">parts</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">part</span><span class="o">==</span><span class="s1">&#39;our part&#39;</span><span class="p">)</span><span class="o">.</span>\
                    <span class="n">cte</span><span class="p">(</span><span class="n">recursive</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>


<span class="n">incl_alias</span> <span class="o">=</span> <span class="n">included_parts</span><span class="o">.</span><span class="n">alias</span><span class="p">()</span>
<span class="n">parts_alias</span> <span class="o">=</span> <span class="n">parts</span><span class="o">.</span><span class="n">alias</span><span class="p">()</span>
<span class="n">included_parts</span> <span class="o">=</span> <span class="n">included_parts</span><span class="o">.</span><span class="n">union_all</span><span class="p">(</span>
    <span class="n">select</span><span class="p">([</span>
        <span class="n">parts_alias</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">sub_part</span><span class="p">,</span>
        <span class="n">parts_alias</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">part</span><span class="p">,</span>
        <span class="n">parts_alias</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">quantity</span>
    <span class="p">])</span><span class="o">.</span>
        <span class="n">where</span><span class="p">(</span><span class="n">parts_alias</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">part</span><span class="o">==</span><span class="n">incl_alias</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">sub_part</span><span class="p">)</span>
<span class="p">)</span>

<span class="n">statement</span> <span class="o">=</span> <span class="n">select</span><span class="p">([</span>
            <span class="n">included_parts</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">sub_part</span><span class="p">,</span>
            <span class="n">func</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">included_parts</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">quantity</span><span class="p">)</span><span class="o">.</span>
              <span class="n">label</span><span class="p">(</span><span class="s1">&#39;total_quantity&#39;</span><span class="p">)</span>
        <span class="p">])</span><span class="o">.</span>\
        <span class="n">group_by</span><span class="p">(</span><span class="n">included_parts</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">sub_part</span><span class="p">)</span>

<span class="n">result</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">statement</span><span class="p">)</span><span class="o">.</span><span class="n">fetchall</span><span class="p">()</span></pre></div>
</div>
<p>例3、CTEでのUPDATEとINSERTを使用するアップサンプリング:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">datetime</span> <span class="k">import</span> <span class="n">date</span>
<span class="kn">from</span> <span class="nn">sqlalchemy</span> <span class="k">import</span> <span class="p">(</span><span class="n">MetaData</span><span class="p">,</span> <span class="n">Table</span><span class="p">,</span> <span class="n">Column</span><span class="p">,</span> <span class="n">Integer</span><span class="p">,</span>
                        <span class="n">Date</span><span class="p">,</span> <span class="n">select</span><span class="p">,</span> <span class="n">literal</span><span class="p">,</span> <span class="n">and_</span><span class="p">,</span> <span class="n">exists</span><span class="p">)</span>

<span class="n">metadata</span> <span class="o">=</span> <span class="n">MetaData</span><span class="p">()</span>

<span class="n">visitors</span> <span class="o">=</span> <span class="n">Table</span><span class="p">(</span><span class="s1">&#39;visitors&#39;</span><span class="p">,</span> <span class="n">metadata</span><span class="p">,</span>
    <span class="n">Column</span><span class="p">(</span><span class="s1">&#39;product_id&#39;</span><span class="p">,</span> <span class="n">Integer</span><span class="p">,</span> <span class="n">primary_key</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span>
    <span class="n">Column</span><span class="p">(</span><span class="s1">&#39;date&#39;</span><span class="p">,</span> <span class="n">Date</span><span class="p">,</span> <span class="n">primary_key</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span>
    <span class="n">Column</span><span class="p">(</span><span class="s1">&#39;count&#39;</span><span class="p">,</span> <span class="n">Integer</span><span class="p">),</span>
<span class="p">)</span>

<span class="c1"># add 5 visitors for the product_id == 1</span>
<span class="n">product_id</span> <span class="o">=</span> <span class="mi">1</span>
<span class="n">day</span> <span class="o">=</span> <span class="n">date</span><span class="o">.</span><span class="n">today</span><span class="p">()</span>
<span class="n">count</span> <span class="o">=</span> <span class="mi">5</span>

<span class="n">update_cte</span> <span class="o">=</span> <span class="p">(</span>
    <span class="n">visitors</span><span class="o">.</span><span class="n">update</span><span class="p">()</span>
    <span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">and_</span><span class="p">(</span><span class="n">visitors</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">product_id</span> <span class="o">==</span> <span class="n">product_id</span><span class="p">,</span>
                <span class="n">visitors</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">date</span> <span class="o">==</span> <span class="n">day</span><span class="p">))</span>
    <span class="o">.</span><span class="n">values</span><span class="p">(</span><span class="n">count</span><span class="o">=</span><span class="n">visitors</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">count</span> <span class="o">+</span> <span class="n">count</span><span class="p">)</span>
    <span class="o">.</span><span class="n">returning</span><span class="p">(</span><span class="n">literal</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span>
    <span class="o">.</span><span class="n">cte</span><span class="p">(</span><span class="s1">&#39;update_cte&#39;</span><span class="p">)</span>
<span class="p">)</span>

<span class="n">upsert</span> <span class="o">=</span> <span class="n">visitors</span><span class="o">.</span><span class="n">insert</span><span class="p">()</span><span class="o">.</span><span class="n">from_select</span><span class="p">(</span>
    <span class="p">[</span><span class="n">visitors</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">product_id</span><span class="p">,</span> <span class="n">visitors</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">date</span><span class="p">,</span> <span class="n">visitors</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">count</span><span class="p">],</span>
    <span class="n">select</span><span class="p">([</span><span class="n">literal</span><span class="p">(</span><span class="n">product_id</span><span class="p">),</span> <span class="n">literal</span><span class="p">(</span><span class="n">day</span><span class="p">),</span> <span class="n">literal</span><span class="p">(</span><span class="n">count</span><span class="p">)])</span>
        <span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="o">~</span><span class="n">exists</span><span class="p">(</span><span class="n">update_cte</span><span class="o">.</span><span class="n">select</span><span class="p">()))</span>
<span class="p">)</span>

<span class="n">connection</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">upsert</span><span class="p">)</span></pre></div>
</div>
<div class="admonition seealso">
<p class="first admonition-title">参考</p>
<p class="last">：meth： <cite>.orm.query.Query.cte</cite>  -  ORM版の：meth：` .HasCTE.cte`。</p>
</div>
</dd></dl>

<dl class="attribute">
<dt id="sqlalchemy.sql.expression.Delete.dialect_kwargs">
<code class="descname">dialect_kwargs</code><a class="headerlink" href="#sqlalchemy.sql.expression.Delete.dialect_kwargs" title="この定義へのパーマリンク">¶</a></dt>
<dd><div class="inherited-member docutils container">
<em>inherited from the</em> <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.base.DialectKWArgs.dialect_kwargs" title="sqlalchemy.sql.base.DialectKWArgs.dialect_kwargs"><code class="xref py py-attr docutils literal notranslate"><span class="pre">dialect_kwargs</span></code></a> <em>attribute of</em> <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.base.DialectKWArgs" title="sqlalchemy.sql.base.DialectKWArgs"><code class="xref py py-class docutils literal notranslate"><span class="pre">DialectKWArgs</span></code></a></div>
<p>この構文に対してダイアレクト固有のオプションとして指定されたキーワード引数の集合。</p>
<p>これらの議論は、 &lt;dialect&gt; _ &lt;kwarg&gt; <a href="#id1"><span class="problematic" id="id2">``</span></a>フォーマット。実際に渡された引数のみが含まれます。 ：attr： <a href="#id3"><span class="problematic" id="id4">`</span></a>.DialectKWArgs.dialect_options`コレクションと異なり、デフォルトを含むこの方言で知られているすべてのオプションが含まれています。</p>
<p>コレクションは書き込み可能です。キーは `` &lt;dialect&gt; _ &lt;kwarg&gt; <a href="#id1"><span class="problematic" id="id2">``</span></a>は値がオプションのリストに集められる場所です。</p>
<div class="versionadded">
<p><span class="versionmodified">バージョン 0.9.2 で追加.</span></p>
</div>
<div class="versionchanged">
<p><span class="versionmodified">バージョン 0.9.4 で変更: </span>：attr： <a href="#id1"><span class="problematic" id="id2">`</span></a>.DialectKWArgs.dialect_kwargs`コレクションが書き込み可能になりました。</p>
</div>
<div class="admonition seealso">
<p class="first admonition-title">参考</p>
<p class="last">：attr： <cite>.DialectKWArgs.dialect_options</cite>  - ネストされた辞書形式</p>
</div>
</dd></dl>

<dl class="attribute">
<dt id="sqlalchemy.sql.expression.Delete.dialect_options">
<code class="descname">dialect_options</code><a class="headerlink" href="#sqlalchemy.sql.expression.Delete.dialect_options" title="この定義へのパーマリンク">¶</a></dt>
<dd><div class="inherited-member docutils container">
<em>inherited from the</em> <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.base.DialectKWArgs.dialect_options" title="sqlalchemy.sql.base.DialectKWArgs.dialect_options"><code class="xref py py-attr docutils literal notranslate"><span class="pre">dialect_options</span></code></a> <em>attribute of</em> <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.base.DialectKWArgs" title="sqlalchemy.sql.base.DialectKWArgs"><code class="xref py py-class docutils literal notranslate"><span class="pre">DialectKWArgs</span></code></a></div>
<p>この構文に対してダイアレクト固有のオプションとして指定されたキーワード引数の集合。</p>
<p>これは2レベルのネストされたレジストリで、 `` &lt;dialect_name&gt; <a href="#id1"><span class="problematic" id="id2">``</span></a>と `` &lt;argument_name&gt; <a href="#id3"><span class="problematic" id="id4">``</span></a>。たとえば、 `` postgresql_where``引数は:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">arg</span> <span class="o">=</span> <span class="n">my_object</span><span class="o">.</span><span class="n">dialect_options</span><span class="p">[</span><span class="s1">&#39;postgresql&#39;</span><span class="p">][</span><span class="s1">&#39;where&#39;</span><span class="p">]</span></pre></div>
</div>
<div class="versionadded">
<p><span class="versionmodified">バージョン 0.9.2 で追加.</span></p>
</div>
<div class="admonition seealso">
<p class="first admonition-title">参考</p>
<p class="last">：attr： <cite>.DialectKWArgs.dialect_kwargs</cite>  - フラット辞書形式</p>
</div>
</dd></dl>

<dl class="method">
<dt id="sqlalchemy.sql.expression.Delete.execute">
<code class="descname">execute</code><span class="sig-paren">(</span><em>*multiparams</em>, <em>**params</em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.Delete.execute" title="この定義へのパーマリンク">¶</a></dt>
<dd><div class="inherited-member docutils container">
<em>inherited from the</em> <a class="reference internal" href="selectable.html#sqlalchemy.sql.expression.Executable.execute" title="sqlalchemy.sql.expression.Executable.execute"><code class="xref py py-meth docutils literal notranslate"><span class="pre">execute()</span></code></a> <em>method of</em> <a class="reference internal" href="selectable.html#sqlalchemy.sql.expression.Executable" title="sqlalchemy.sql.expression.Executable"><code class="xref py py-class docutils literal notranslate"><span class="pre">Executable</span></code></a></div>
<p>これをコンパイルして実行します：class： <cite>.Executable</cite>。</p>
</dd></dl>

<dl class="method">
<dt id="sqlalchemy.sql.expression.Delete.execution_options">
<code class="descname">execution_options</code><span class="sig-paren">(</span><em>**kw</em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.Delete.execution_options" title="この定義へのパーマリンク">¶</a></dt>
<dd><div class="inherited-member docutils container">
<em>inherited from the</em> <a class="reference internal" href="selectable.html#sqlalchemy.sql.expression.Executable.execution_options" title="sqlalchemy.sql.expression.Executable.execution_options"><code class="xref py py-meth docutils literal notranslate"><span class="pre">execution_options()</span></code></a> <em>method of</em> <a class="reference internal" href="selectable.html#sqlalchemy.sql.expression.Executable" title="sqlalchemy.sql.expression.Executable"><code class="xref py py-class docutils literal notranslate"><span class="pre">Executable</span></code></a></div>
<p>実行中に有効になる文の非SQLオプションを設定します。</p>
<p>実行オプションは、文ごとまたは：class： <cite>.Connection`ベースで設定できます。さらに：class： `.Engine`とORM：class：</cite>〜.orm.query.Query`オブジェクトは実行オプションにアクセスし、実行オプションは接続時に設定します。</p>
<p>：meth： <a href="#id1"><span class="problematic" id="id2">`</span></a>execution_options`メソッドは生成されます。このステートメントの新しいインスタンスが返されます。このインスタンスにはオプション:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">statement</span> <span class="o">=</span> <span class="n">select</span><span class="p">([</span><span class="n">table</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">x</span><span class="p">,</span> <span class="n">table</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">y</span><span class="p">])</span>
<span class="n">statement</span> <span class="o">=</span> <span class="n">statement</span><span class="o">.</span><span class="n">execution_options</span><span class="p">(</span><span class="n">autocommit</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span></pre></div>
</div>
<p>ステートメントには、&amp;quot;自動コミット&amp;quot;と&amp;quot;stream_results &amp;quot;は含めることができますが、&amp;quot;isolation_level &amp;quot;や&amp;quot;compiled_cache &amp;quot;は含めることはできません。可能なオプションの完全なリストについては：meth： <a href="#id1"><span class="problematic" id="id2">`</span></a>.Connection.execution_options`を参照してください。</p>
<div class="admonition seealso">
<p class="first admonition-title">参考</p>
<p>：meth： <cite>.Connection.execution_options（）</cite></p>
<p class="last">：meth： <cite>.Query.execution_options（）</cite></p>
</div>
</dd></dl>

<dl class="method">
<dt id="sqlalchemy.sql.expression.Delete.get_children">
<code class="descname">get_children</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.Delete.get_children" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>this：class： <a href="#id1"><span class="problematic" id="id2">`</span></a>.ClauseElement`の直接の子要素を返します。</p>
<p>訪問トラバーサルに使用されます。</p>
<p>** kwargsには、返されるコレクションを変更するフラグが含まれている可能性があります。たとえば、より大きなトラバーサルを減らすためにアイテムのサブセットを返すか、別のコンテキスト（たとえば、スキーマレベルのコレクション節レベルの）。</p>
</dd></dl>

<dl class="attribute">
<dt id="sqlalchemy.sql.expression.Delete.kwargs">
<code class="descname">kwargs</code><a class="headerlink" href="#sqlalchemy.sql.expression.Delete.kwargs" title="この定義へのパーマリンク">¶</a></dt>
<dd><div class="inherited-member docutils container">
<em>inherited from the</em> <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.base.DialectKWArgs.kwargs" title="sqlalchemy.sql.base.DialectKWArgs.kwargs"><code class="xref py py-attr docutils literal notranslate"><span class="pre">kwargs</span></code></a> <em>attribute of</em> <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.base.DialectKWArgs" title="sqlalchemy.sql.base.DialectKWArgs"><code class="xref py py-class docutils literal notranslate"><span class="pre">DialectKWArgs</span></code></a></div>
<p>attr： <a href="#id1"><span class="problematic" id="id2">`</span></a>.DialectKWArgs.dialect_kwargs`の同義語です。</p>
</dd></dl>

<dl class="method">
<dt id="sqlalchemy.sql.expression.Delete.params">
<code class="descname">params</code><span class="sig-paren">(</span><em>*arg</em>, <em>**kw</em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.Delete.params" title="この定義へのパーマリンク">¶</a></dt>
<dd><div class="inherited-member docutils container">
<em>inherited from the</em> <a class="reference internal" href="#sqlalchemy.sql.expression.UpdateBase.params" title="sqlalchemy.sql.expression.UpdateBase.params"><code class="xref py py-meth docutils literal notranslate"><span class="pre">params()</span></code></a> <em>method of</em> <a class="reference internal" href="#sqlalchemy.sql.expression.UpdateBase" title="sqlalchemy.sql.expression.UpdateBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">UpdateBase</span></code></a></div>
<p>ステートメントのパラメーターを設定します。</p>
<p>このメソッドは、基本クラスで `` NotImplementedError``を発生させ、UPDATEとINSERTのSET / VALUES節を提供するために：class： <a href="#id1"><span class="problematic" id="id2">`</span></a>.ValuesBase`によってオーバーライドされます。</p>
</dd></dl>

<dl class="method">
<dt id="sqlalchemy.sql.expression.Delete.prefix_with">
<code class="descname">prefix_with</code><span class="sig-paren">(</span><em>*expr</em>, <em>**kw</em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.Delete.prefix_with" title="この定義へのパーマリンク">¶</a></dt>
<dd><div class="inherited-member docutils container">
<em>inherited from the</em> <a class="reference internal" href="selectable.html#sqlalchemy.sql.expression.HasPrefixes.prefix_with" title="sqlalchemy.sql.expression.HasPrefixes.prefix_with"><code class="xref py py-meth docutils literal notranslate"><span class="pre">prefix_with()</span></code></a> <em>method of</em> <a class="reference internal" href="selectable.html#sqlalchemy.sql.expression.HasPrefixes" title="sqlalchemy.sql.expression.HasPrefixes"><code class="xref py py-class docutils literal notranslate"><span class="pre">HasPrefixes</span></code></a></div>
<p>ステートメントキーワードに続く1つ以上の式、つまりSELECT、INSERT、UPDATE、またはDELETEを追加します。 Generative。</p>
<p>これは、MySQLが提供するようなバックエンド固有のプレフィックスキーワードをサポートするために使用されます。</p>
<p>例えば：：</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">stmt</span> <span class="o">=</span> <span class="n">table</span><span class="o">.</span><span class="n">insert</span><span class="p">()</span><span class="o">.</span><span class="n">prefix_with</span><span class="p">(</span><span class="s2">&quot;LOW_PRIORITY&quot;</span><span class="p">,</span> <span class="n">dialect</span><span class="o">=</span><span class="s2">&quot;mysql&quot;</span><span class="p">)</span></pre></div>
</div>
<p>複数の接頭辞は：meth： <a href="#id1"><span class="problematic" id="id2">`</span></a>.prefix_with`を複数回呼び出すことで指定できます。</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">パラメータ:</th><td class="field-body"><ul class="first last simple">
<li><span class="target" id="sqlalchemy.sql.expression.Delete.prefix_with.params.*expr"></span><strong>*expr</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.Delete.prefix_with.params.*expr">¶</a> -- text：or：class： <a href="#id1"><span class="problematic" id="id2">`</span></a>.ClauseElement`構文で、INSERT、UPDATE、またはDELETEキーワードの後に​​表示されます。</li>
<li><span class="target" id="sqlalchemy.sql.expression.Delete.prefix_with.params.**kw"></span><strong>**kw</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.Delete.prefix_with.params.**kw">¶</a> -- 単一のキーワード「方言」が受け入れられます。これは省略可能な文字列の名前であり、この接頭辞のその方言へのレンダリングを制限します。</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="sqlalchemy.sql.expression.Delete.returning">
<code class="descname">returning</code><span class="sig-paren">(</span><em>*cols</em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.Delete.returning" title="この定義へのパーマリンク">¶</a></dt>
<dd><div class="inherited-member docutils container">
<em>inherited from the</em> <a class="reference internal" href="#sqlalchemy.sql.expression.UpdateBase.returning" title="sqlalchemy.sql.expression.UpdateBase.returning"><code class="xref py py-meth docutils literal notranslate"><span class="pre">returning()</span></code></a> <em>method of</em> <a class="reference internal" href="#sqlalchemy.sql.expression.UpdateBase" title="sqlalchemy.sql.expression.UpdateBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">UpdateBase</span></code></a></div>
<p>この文にa：term： <a href="#id1"><span class="problematic" id="id2">`</span></a>RETURNING`または同等の句を追加します。</p>
<p>例えば：：</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">stmt</span> <span class="o">=</span> <span class="n">table</span><span class="o">.</span><span class="n">update</span><span class="p">()</span><span class="o">.</span>\
          <span class="n">where</span><span class="p">(</span><span class="n">table</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">data</span> <span class="o">==</span> <span class="s1">&#39;value&#39;</span><span class="p">)</span><span class="o">.</span>\
          <span class="n">values</span><span class="p">(</span><span class="n">status</span><span class="o">=</span><span class="s1">&#39;X&#39;</span><span class="p">)</span><span class="o">.</span>\
          <span class="n">returning</span><span class="p">(</span><span class="n">table</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">server_flag</span><span class="p">,</span>
                    <span class="n">table</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">updated_timestamp</span><span class="p">)</span>

<span class="k">for</span> <span class="n">server_flag</span><span class="p">,</span> <span class="n">updated_timestamp</span> <span class="ow">in</span> <span class="n">connection</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">stmt</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">server_flag</span><span class="p">,</span> <span class="n">updated_timestamp</span><span class="p">)</span></pre></div>
</div>
<p>指定された列式のコレクションは、INSERT、UPDATEまたはDELETEのターゲットである表から派生する必要があります。 while：class： <a href="#id1"><span class="problematic" id="id2">`</span></a>.Column`オブジェクトは典型的ですが、要素は式でもあります:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">stmt</span> <span class="o">=</span> <span class="n">table</span><span class="o">.</span><span class="n">insert</span><span class="p">()</span><span class="o">.</span><span class="n">returning</span><span class="p">(</span>
    <span class="p">(</span><span class="n">table</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">first_name</span> <span class="o">+</span> <span class="s2">&quot; &quot;</span> <span class="o">+</span> <span class="n">table</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">last_name</span><span class="p">)</span><span class="o">.</span>
    <span class="n">label</span><span class="p">(</span><span class="s1">&#39;fullname&#39;</span><span class="p">))</span></pre></div>
</div>
<p>コンパイル時には、RETURNING句、またはそれに相当するデータベースがステートメント内でレンダリングされます。 INSERTとUPDATEの場合、値は新しく挿入/更新された値です。 DELETEの場合、値は削除された行の値です。</p>
<p>実行時に、返される列の値は結果セットを介して利用可能になり、：meth： <a href="#id1"><span class="problematic" id="id2">`</span></a>.ResultProxy.fetchone`などを使用して反復することができます。戻り値（つまりcx_oracle）をネイティブにサポートしていないDBAPIの場合、SQLAlchemyは結果のレベルでこの動作を近似し、妥当な量の中立性が提供されます。</p>
<p>すべてのデータベース/ DBAPIがRETURNINGをサポートしているわけではないことに注意してください。サポートされていないバックエンドの場合、コンパイルおよび/または実行時に例外が発生します。 executemany（）の制限や複数の行を返すその他のステートメントなど、バックエンドの機能は大きく異なります。 RETURNINGの可用性を判断するには、使用中のデータベースのドキュメントを参照してください。</p>
<div class="admonition seealso">
<p class="first admonition-title">参考</p>
<p class="last">：meth： <cite>.ValuesBase.return_defaults</cite>  - 単一行のINSERTやUPDATEのためのサーバサイドのデフォルトとトリガを効率的にフェッチするための代替メソッドです。</p>
</div>
</dd></dl>

<dl class="method">
<dt id="sqlalchemy.sql.expression.Delete.scalar">
<code class="descname">scalar</code><span class="sig-paren">(</span><em>*multiparams</em>, <em>**params</em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.Delete.scalar" title="この定義へのパーマリンク">¶</a></dt>
<dd><div class="inherited-member docutils container">
<em>inherited from the</em> <a class="reference internal" href="selectable.html#sqlalchemy.sql.expression.Executable.scalar" title="sqlalchemy.sql.expression.Executable.scalar"><code class="xref py py-meth docutils literal notranslate"><span class="pre">scalar()</span></code></a> <em>method of</em> <a class="reference internal" href="selectable.html#sqlalchemy.sql.expression.Executable" title="sqlalchemy.sql.expression.Executable"><code class="xref py py-class docutils literal notranslate"><span class="pre">Executable</span></code></a></div>
<p>これをコンパイルして実行します：class： <cite>.Executable</cite>、結果のスカラ表現を返します。</p>
</dd></dl>

<dl class="method">
<dt id="sqlalchemy.sql.expression.Delete.self_group">
<code class="descname">self_group</code><span class="sig-paren">(</span><em>against=None</em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.Delete.self_group" title="この定義へのパーマリンク">¶</a></dt>
<dd><div class="inherited-member docutils container">
<em>inherited from the</em> <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.ClauseElement.self_group" title="sqlalchemy.sql.expression.ClauseElement.self_group"><code class="xref py py-meth docutils literal notranslate"><span class="pre">self_group()</span></code></a> <em>method of</em> <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.ClauseElement" title="sqlalchemy.sql.expression.ClauseElement"><code class="xref py py-class docutils literal notranslate"><span class="pre">ClauseElement</span></code></a></div>
<p>これに &amp;#39;grouping&amp;#39;を適用します：class： <cite>.ClauseElement</cite>。</p>
<p>このメソッドはサブクラスによってオーバーライドされ、&amp;quot;グループ化&amp;quot;構造体、つまり括弧を返します。特に、大規模な式に置かれたときには、自分自身の周りにグループ化を提供するために、&amp;quot;バイナリ&amp;quot;式で使用されます。func： <cite>.select`は、別のFROM句に配置されたときに構築されます。func：</cite> .select <a href="#id1"><span class="problematic" id="id2">`</span></a>。 （サブクエリは、通常は：meth： <a href="#id3"><span class="problematic" id="id4">`</span></a>.Select.alias`メソッドを使用して作成する必要があります。これは、多くのプラットフォームでネストされたSELECT文の名前を付ける必要があるためです）。</p>
<p>式が一緒に構成されるとき、：meth： <cite>self_group`のアプリケーションは自動です - エンドユーザコードはこのメソッドを直接使う必要はありません。 SQLAlchemyの節構文は演算子の優先順位を考慮していることに注意してください。たとえば、 `</cite> x OR（y AND z） <a href="#id1"><span class="problematic" id="id2">``</span></a>のような式のようにかっこは必要ないかもしれません。</p>
<p>base：meth： <cite>self_group`メソッドの：class：</cite> .ClauseElement`はselfを返します。</p>
</dd></dl>

<dl class="method">
<dt id="sqlalchemy.sql.expression.Delete.unique_params">
<code class="descname">unique_params</code><span class="sig-paren">(</span><em>*optionaldict</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.Delete.unique_params" title="この定義へのパーマリンク">¶</a></dt>
<dd><div class="inherited-member docutils container">
<em>inherited from the</em> <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.ClauseElement.unique_params" title="sqlalchemy.sql.expression.ClauseElement.unique_params"><code class="xref py py-meth docutils literal notranslate"><span class="pre">unique_params()</span></code></a> <em>method of</em> <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.ClauseElement" title="sqlalchemy.sql.expression.ClauseElement"><code class="xref py py-class docutils literal notranslate"><span class="pre">ClauseElement</span></code></a></div>
<p>func： <a href="#id1"><span class="problematic" id="id2">`</span></a>bindparam（）`要素を置き換えてコピーを返します。</p>
<p>複数のステートメントを使用できるように、影響を受けるバインドパラメータに <cite>unique = True`を追加する点を除いて、</cite> <cite>params（）</cite> <a href="#id1"><span class="problematic" id="id2">`</span></a>と同じ機能です。</p>
</dd></dl>

<dl class="method">
<dt id="sqlalchemy.sql.expression.Delete.where">
<code class="descname">where</code><span class="sig-paren">(</span><em>whereclause</em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.Delete.where" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>指定したWHERE句を新しく返された削除構文に追加します。</p>
</dd></dl>

<dl class="method">
<dt id="sqlalchemy.sql.expression.Delete.with_hint">
<code class="descname">with_hint</code><span class="sig-paren">(</span><em>text</em>, <em>selectable=None</em>, <em>dialect_name='*'</em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.Delete.with_hint" title="この定義へのパーマリンク">¶</a></dt>
<dd><div class="inherited-member docutils container">
<em>inherited from the</em> <a class="reference internal" href="#sqlalchemy.sql.expression.UpdateBase.with_hint" title="sqlalchemy.sql.expression.UpdateBase.with_hint"><code class="xref py py-meth docutils literal notranslate"><span class="pre">with_hint()</span></code></a> <em>method of</em> <a class="reference internal" href="#sqlalchemy.sql.expression.UpdateBase" title="sqlalchemy.sql.expression.UpdateBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">UpdateBase</span></code></a></div>
<p>このINSERT / UPDATE / DELETEステートメントに単一テーブルのテーブルヒントを追加します。</p>
<div class="admonition note">
<p class="first admonition-title">注釈</p>
<p class="last">：meth： <a href="#id1"><span class="problematic" id="id2">`</span></a>.UpdateBase.with_hint`は現在、Microsoft SQL Serverにのみ適用されます。 MySQLのINSERT / UPDATE / DELETEヒントについては、：meth： <a href="#id3"><span class="problematic" id="id4">`</span></a>.UpdateBase.prefix_with`を使用してください。</p>
</div>
<p>ヒントのテキストは、使用中のデータベースバックエンドの適切な場所にレンダリングされます。これは、このステートメントの主題である：class： <cite>.Table`を基準にして、または任意で：class：</cite> .Table` `` selectable``引数として渡されました。</p>
<p>`` dialect_name``オプションは、特定のヒントを特定のバックエンドにレンダリングすることを制限します。のような、SQL Serverにのみ有効なヒントを追加する:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">mytable</span><span class="o">.</span><span class="n">insert</span><span class="p">()</span><span class="o">.</span><span class="n">with_hint</span><span class="p">(</span><span class="s2">&quot;WITH (PAGLOCK)&quot;</span><span class="p">,</span> <span class="n">dialect_name</span><span class="o">=</span><span class="s2">&quot;mssql&quot;</span><span class="p">)</span></pre></div>
</div>
<div class="versionadded">
<p><span class="versionmodified">バージョン 0.7.6 で追加.</span></p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">パラメータ:</th><td class="field-body"><ul class="first last simple">
<li><span class="target" id="sqlalchemy.sql.expression.Delete.with_hint.params.text"></span><strong>text</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.Delete.with_hint.params.text">¶</a> -- ヒントのテキスト。</li>
<li><span class="target" id="sqlalchemy.sql.expression.Delete.with_hint.params.selectable"></span><strong>selectable</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.Delete.with_hint.params.selectable">¶</a> -- オプション：クラス：ヒントの対象となるUPDATEまたはDELETE内のFROM句の要素を指定する <cite>.Table</cite>  - 特定のバックエンドのみに適用されます。</li>
<li><span class="target" id="sqlalchemy.sql.expression.Delete.with_hint.params.dialect_name"></span><strong>dialect_name</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.Delete.with_hint.params.dialect_name">¶</a> -- デフォルトで `` * <a href="#id1"><span class="problematic" id="id2">``</span></a>は、特定の方言の名前として指定された場合、その方言が使用されている場合にのみ、これらのヒントを適用します。</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="sqlalchemy.sql.expression.Insert">
<em class="property">class </em><code class="descclassname">sqlalchemy.sql.expression.</code><code class="descname">Insert</code><span class="sig-paren">(</span><em>table</em>, <em>values=None</em>, <em>inline=False</em>, <em>bind=None</em>, <em>prefixes=None</em>, <em>returning=None</em>, <em>return_defaults=False</em>, <em>**dialect_kw</em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.Insert" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#sqlalchemy.sql.expression.ValuesBase" title="sqlalchemy.sql.expression.ValuesBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.ValuesBase</span></code></a></p>
<p>INSERT構文を表します。</p>
<p>：class： <cite>.Insert`オブジェクトは、：func：</cite>〜.expression.insert（） <a href="#id1"><span class="problematic" id="id2">`</span></a>関数を使って作成されます。</p>
<div class="admonition seealso">
<p class="first admonition-title">参考</p>
<p class="last">：ref： <cite>coretutorial_insert_expressions</cite></p>
</div>
<dl class="attribute">
<dt id="sqlalchemy.sql.expression.Insert.__eq__">
<code class="descname">__eq__</code><a class="headerlink" href="#sqlalchemy.sql.expression.Insert.__eq__" title="この定義へのパーマリンク">¶</a></dt>
<dd><div class="inherited-member docutils container">
<em>inherited from the</em> <code class="xref py py-attr docutils literal notranslate"><span class="pre">__eq__</span></code> <em>attribute of</em> <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></div>
<p>Return self==value.</p>
</dd></dl>

<dl class="method">
<dt id="sqlalchemy.sql.expression.Insert.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><em>table</em>, <em>values=None</em>, <em>inline=False</em>, <em>bind=None</em>, <em>prefixes=None</em>, <em>returning=None</em>, <em>return_defaults=False</em>, <em>**dialect_kw</em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.Insert.__init__" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>Construct a new <a class="reference internal" href="#sqlalchemy.sql.expression.Insert" title="sqlalchemy.sql.expression.Insert"><code class="xref py py-class docutils literal notranslate"><span class="pre">Insert</span></code></a> object.</p>
<p>This constructor is mirrored as a public API function; see <a class="reference internal" href="#sqlalchemy.sql.expression.insert" title="sqlalchemy.sql.expression.insert"><code class="xref py py-func docutils literal notranslate"><span class="pre">insert()</span></code></a> for a full usage and argument description.</p>
</dd></dl>

<dl class="attribute">
<dt id="sqlalchemy.sql.expression.Insert.__le__">
<code class="descname">__le__</code><a class="headerlink" href="#sqlalchemy.sql.expression.Insert.__le__" title="この定義へのパーマリンク">¶</a></dt>
<dd><div class="inherited-member docutils container">
<em>inherited from the</em> <code class="xref py py-attr docutils literal notranslate"><span class="pre">__le__</span></code> <em>attribute of</em> <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></div>
<p>Return self&lt;=value.</p>
</dd></dl>

<dl class="attribute">
<dt id="sqlalchemy.sql.expression.Insert.__lt__">
<code class="descname">__lt__</code><a class="headerlink" href="#sqlalchemy.sql.expression.Insert.__lt__" title="この定義へのパーマリンク">¶</a></dt>
<dd><div class="inherited-member docutils container">
<em>inherited from the</em> <code class="xref py py-attr docutils literal notranslate"><span class="pre">__lt__</span></code> <em>attribute of</em> <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></div>
<p>Return self&lt;value.</p>
</dd></dl>

<dl class="attribute">
<dt id="sqlalchemy.sql.expression.Insert.__ne__">
<code class="descname">__ne__</code><a class="headerlink" href="#sqlalchemy.sql.expression.Insert.__ne__" title="この定義へのパーマリンク">¶</a></dt>
<dd><div class="inherited-member docutils container">
<em>inherited from the</em> <code class="xref py py-attr docutils literal notranslate"><span class="pre">__ne__</span></code> <em>attribute of</em> <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></div>
<p>Return self!=value.</p>
</dd></dl>

<dl class="classmethod">
<dt id="sqlalchemy.sql.expression.Insert.argument_for">
<em class="property">classmethod </em><code class="descname">argument_for</code><span class="sig-paren">(</span><em>dialect_name</em>, <em>argument_name</em>, <em>default</em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.Insert.argument_for" title="この定義へのパーマリンク">¶</a></dt>
<dd><div class="inherited-member docutils container">
<em>inherited from the</em> <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.base.DialectKWArgs.argument_for" title="sqlalchemy.sql.base.DialectKWArgs.argument_for"><code class="xref py py-meth docutils literal notranslate"><span class="pre">argument_for()</span></code></a> <em>method of</em> <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.base.DialectKWArgs" title="sqlalchemy.sql.base.DialectKWArgs"><code class="xref py py-class docutils literal notranslate"><span class="pre">DialectKWArgs</span></code></a></div>
<p>このクラスの新しい種類の方言固有のキーワード引数を追加します。</p>
<p>例えば：：</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Index</span><span class="o">.</span><span class="n">argument_for</span><span class="p">(</span><span class="s2">&quot;mydialect&quot;</span><span class="p">,</span> <span class="s2">&quot;length&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>

<span class="n">some_index</span> <span class="o">=</span> <span class="n">Index</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="n">mydialect_length</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span></pre></div>
</div>
<p>：meth： <cite>.DialectKWArgs.argument_for`メソッドは：attr：</cite> .DefaultDialect.construct_arguments`ディクショナリに余分な引数を追加する引数ごとの方法です。この辞書は、方言に代わってさまざまなスキーマレベルの構造によって受け入れられる引数名のリストを提供します。</p>
<p>新しい方言は通常、この辞書を一度に方言クラスのデータメンバーとして指定する必要があります。引数名のアドホックな追加のユースケースは、通常、追加の引数を消費するカスタムコンパイルスキームも使用するエンドユーザーコード用です。</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">パラメータ:</th><td class="field-body"><ul class="first last simple">
<li><span class="target" id="sqlalchemy.sql.expression.Insert.argument_for.params.dialect_name"></span><strong>dialect_name</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.Insert.argument_for.params.dialect_name">¶</a> -- 方言の名前。方言はlocatableでなければなりません。さもなければ：class： <cite>.NoSuchModuleError`が送出されます。ダイアレクトには、既存の：attr： `.DefaultDialect.construct_arguments`コレクションも含まれていなければなりません。これはキーワード引数の検証とデフォルトシステムに参加していることを示します。それ以外の場合は：class：</cite> .ArgumentError`が送出されます。方言にこのコレクションが含まれていない場合は、既にこの方言の代わりにキーワード引数を指定できます。 SQLAlchemy内にパッケージ化されたすべての方言にはこのコレクションが含まれていますが、サードパーティの方言ではサポートが異なる場合があります。</li>
<li><span class="target" id="sqlalchemy.sql.expression.Insert.argument_for.params.argument_name"></span><strong>argument_name</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.Insert.argument_for.params.argument_name">¶</a> -- パラメータの名前。</li>
<li><span class="target" id="sqlalchemy.sql.expression.Insert.argument_for.params.default"></span><strong>default</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.Insert.argument_for.params.default">¶</a> -- パラメータのデフォルト値。</li>
</ul>
</td>
</tr>
</tbody>
</table>
<div class="versionadded">
<p><span class="versionmodified">バージョン 0.9.4 で追加.</span></p>
</div>
</dd></dl>

<dl class="attribute">
<dt id="sqlalchemy.sql.expression.Insert.bind">
<code class="descname">bind</code><a class="headerlink" href="#sqlalchemy.sql.expression.Insert.bind" title="この定義へのパーマリンク">¶</a></dt>
<dd><div class="inherited-member docutils container">
<em>inherited from the</em> <a class="reference internal" href="#sqlalchemy.sql.expression.UpdateBase.bind" title="sqlalchemy.sql.expression.UpdateBase.bind"><code class="xref py py-attr docutils literal notranslate"><span class="pre">bind</span></code></a> <em>attribute of</em> <a class="reference internal" href="#sqlalchemy.sql.expression.UpdateBase" title="sqlalchemy.sql.expression.UpdateBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">UpdateBase</span></code></a></div>
<p>this：class： <cite>.UpdateBase`またはそれに関連するa：class：</cite> .Table`にリンクされた &amp;#39;bind&amp;#39;を返します。</p>
</dd></dl>

<dl class="method">
<dt id="sqlalchemy.sql.expression.Insert.compare">
<code class="descname">compare</code><span class="sig-paren">(</span><em>other</em>, <em>**kw</em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.Insert.compare" title="この定義へのパーマリンク">¶</a></dt>
<dd><div class="inherited-member docutils container">
<em>inherited from the</em> <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.ClauseElement.compare" title="sqlalchemy.sql.expression.ClauseElement.compare"><code class="xref py py-meth docutils literal notranslate"><span class="pre">compare()</span></code></a> <em>method of</em> <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.ClauseElement" title="sqlalchemy.sql.expression.ClauseElement"><code class="xref py py-class docutils literal notranslate"><span class="pre">ClauseElement</span></code></a></div>
<p>このClauseElementと指定されたClauseElementを比較します。</p>
<p>サブクラスはデフォルトの動作を上書きする必要があります。</p>
<p>** kwは、サブクラスのcompare（）メソッドによって消費される引数であり、比較の基準を変更するために使用されます。 （：class： <a href="#id1"><span class="problematic" id="id2">`</span></a>.ColumnElement`を参照してください）</p>
</dd></dl>

<dl class="method">
<dt id="sqlalchemy.sql.expression.Insert.compile">
<code class="descname">compile</code><span class="sig-paren">(</span><em>default</em>, <em>bind=None</em>, <em>dialect=None</em>, <em>**kw</em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.Insert.compile" title="この定義へのパーマリンク">¶</a></dt>
<dd><div class="inherited-member docutils container">
<em>inherited from the</em> <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.ClauseElement.compile" title="sqlalchemy.sql.expression.ClauseElement.compile"><code class="xref py py-meth docutils literal notranslate"><span class="pre">compile()</span></code></a> <em>method of</em> <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.ClauseElement" title="sqlalchemy.sql.expression.ClauseElement"><code class="xref py py-class docutils literal notranslate"><span class="pre">ClauseElement</span></code></a></div>
<p>このSQL式をコンパイルします。</p>
<p>戻り値は：class： <cite>〜.Compiled`オブジェクトです。返された値に対して `</cite> str（） <a href="#id1"><span class="problematic" id="id2">``</span></a>または `` unicode（） <a href="#id3"><span class="problematic" id="id4">``</span></a>を呼び出すと結果の文字列表現が返されます。 ：class： <cite>〜.Compiled`オブジェクトは、</cite> <a href="#id5"><span class="problematic" id="id6">`</span></a>params``アクセサを使ってバインドパラメータの名前と値の辞書を返すこともできます。</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">パラメータ:</th><td class="field-body"><ul class="first last simple">
<li><span class="target" id="sqlalchemy.sql.expression.Insert.compile.params.bind"></span><strong>bind</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.Insert.compile.params.bind">¶</a> -- `` Engine``または `` Connection``から `` Compiled``を取得します。この引数はこれよりも優先されます：class： <a href="#id1"><span class="problematic" id="id2">`</span></a>.ClauseElement`のバウンドエンジン（もしあれば）。</li>
<li><span class="target" id="sqlalchemy.sql.expression.Insert.compile.params.column_keys"></span><strong>column_keys</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.Insert.compile.params.column_keys">¶</a> -- INSERTおよびUPDATEステートメントに使用され、コンパイルされたステートメントのVALUES節に存在する列名のリスト。 `` None``の場合、ターゲットテーブルオブジェクトのすべての列がレンダリングされます。</li>
<li><span class="target" id="sqlalchemy.sql.expression.Insert.compile.params.dialect"></span><strong>dialect</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.Insert.compile.params.dialect">¶</a> -- `` Dialect``インスタンスで、 `` Compiled``を取得します。この引数は、 <cite>bind`引数だけでなく、class：</cite> .ClauseElement`のバウンドエンジン（存在する場合）も優先します。</li>
<li><span class="target" id="sqlalchemy.sql.expression.Insert.compile.params.inline"></span><strong>inline</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.Insert.compile.params.inline">¶</a> -- 新しく生成された主キー列のインライン検索をサポートしていない方言のINSERTステートメントでは、INSERTステートメントのVALUES句内で新しい主キー値の作成式を強制的にインラインで表示します。これは、通常、シーケンスの実行を参照するが、主キー「列」に関連付けられた任意のサーバー側デフォルト生成関数を参照することもできる。</li>
<li><span class="target" id="sqlalchemy.sql.expression.Insert.compile.params.compile_kwargs"></span><strong>compile_kwargs</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.Insert.compile.params.compile_kwargs">¶</a> -- すべての&amp;quot;visit &amp;quot;メソッド内でコンパイラに渡される追加パラメータのオプション辞書。これにより、任意のカスタムフラグをカスタムコンパイル構成に渡すことができます。また、 `` literal_binds``フラグを:: sqlalchemy.sqlから渡す場合にも使用されます。import table、column、select t = table（ &amp;#39;t&amp;#39;、column（ &amp;#39;x&amp;#39;））s = select（[t ]））。ここで、（tcx == 5）は、s.compile（compile_kwargs = {&amp;quot;literal_binds &amp;quot;：True）を出力します）.. versionadded :: 0.9.0</li>
</ul>
</td>
</tr>
</tbody>
</table>
<div class="admonition seealso">
<p class="first admonition-title">参考</p>
<p class="last">：ref： <cite>faq_sql_expression_string</cite></p>
</div>
</dd></dl>

<dl class="method">
<dt id="sqlalchemy.sql.expression.Insert.cte">
<code class="descname">cte</code><span class="sig-paren">(</span><em>name=None</em>, <em>recursive=False</em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.Insert.cte" title="この定義へのパーマリンク">¶</a></dt>
<dd><div class="inherited-member docutils container">
<em>inherited from the</em> <a class="reference internal" href="selectable.html#sqlalchemy.sql.expression.HasCTE.cte" title="sqlalchemy.sql.expression.HasCTE.cte"><code class="xref py py-meth docutils literal notranslate"><span class="pre">cte()</span></code></a> <em>method of</em> <a class="reference internal" href="selectable.html#sqlalchemy.sql.expression.HasCTE" title="sqlalchemy.sql.expression.HasCTE"><code class="xref py py-class docutils literal notranslate"><span class="pre">HasCTE</span></code></a></div>
<p>新しい：class： <a href="#id1"><span class="problematic" id="id2">`</span></a>.CTE`またはCommon Table Expressionインスタンスを返します。</p>
<p>共通テーブル式はSQL標準であり、SELECTステートメントは&amp;quot;WITH &amp;quot;という句を使用してプライマリステートメントとともに指定された2次ステートメントを引き出すことができます。 SELECT文が以前に選択された行のセットを引き出すことができる「再帰的な」問合せを可能にするために、UNIONに関する特別なセマンティクスを使用することもできます。</p>
<p>CTEは、RTEURNINGと組み合わされたときのCTE行のソースとしても、CTE行のコンシューマとしても、一部のデータベースのDML構成UPDATE、INSERTおよびDELETEに適用できます。</p>
<p>SQLAlchemyは、：class： <cite>.Alias`オブジェクトと同様に扱われる：class：</cite> .CTE`オブジェクトを検出します。これは、文のFROM句にも、ステートメント。</p>
<div class="versionchanged">
<p><span class="versionmodified">バージョン 1.1 で変更: </span>CTEとしてUPDATE / INSERT / DELETE、UPDATE / INSERT / DELETEにCTEが追加されました。</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">パラメータ:</th><td class="field-body"><ul class="first last simple">
<li><span class="target" id="sqlalchemy.sql.expression.Insert.cte.params.name"></span><strong>name</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.Insert.cte.params.name">¶</a> -- 共通テーブル式に与えられた名前。 ：meth： <cite>._FromClause.alias`のように、名前は</cite> <a href="#id1"><span class="problematic" id="id2">`</span></a>None``のままにすることができます。この場合、クエリコンパイル時に匿名シンボルが使用されます。</li>
<li><span class="target" id="sqlalchemy.sql.expression.Insert.cte.params.recursive"></span><strong>recursive</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.Insert.cte.params.recursive">¶</a> -- `` True``なら `` WITH RECURSIVE``を返します。再帰的共通表式は、既に選択されている行から行を派生させるために、UNION ALLと一緒に使用することを意図しています。</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>次の例には、PostgreSQLのドキュメント（<a class="reference external" href="http://www.postgresql.org/docs/current/static/queries-with.html">http://www.postgresql.org/docs/current/static/queries-with.html</a>）の2つの例と追加の例が含まれています。</p>
<p>例1、非再帰:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">sqlalchemy</span> <span class="k">import</span> <span class="p">(</span><span class="n">Table</span><span class="p">,</span> <span class="n">Column</span><span class="p">,</span> <span class="n">String</span><span class="p">,</span> <span class="n">Integer</span><span class="p">,</span>
                        <span class="n">MetaData</span><span class="p">,</span> <span class="n">select</span><span class="p">,</span> <span class="n">func</span><span class="p">)</span>

<span class="n">metadata</span> <span class="o">=</span> <span class="n">MetaData</span><span class="p">()</span>

<span class="n">orders</span> <span class="o">=</span> <span class="n">Table</span><span class="p">(</span><span class="s1">&#39;orders&#39;</span><span class="p">,</span> <span class="n">metadata</span><span class="p">,</span>
    <span class="n">Column</span><span class="p">(</span><span class="s1">&#39;region&#39;</span><span class="p">,</span> <span class="n">String</span><span class="p">),</span>
    <span class="n">Column</span><span class="p">(</span><span class="s1">&#39;amount&#39;</span><span class="p">,</span> <span class="n">Integer</span><span class="p">),</span>
    <span class="n">Column</span><span class="p">(</span><span class="s1">&#39;product&#39;</span><span class="p">,</span> <span class="n">String</span><span class="p">),</span>
    <span class="n">Column</span><span class="p">(</span><span class="s1">&#39;quantity&#39;</span><span class="p">,</span> <span class="n">Integer</span><span class="p">)</span>
<span class="p">)</span>

<span class="n">regional_sales</span> <span class="o">=</span> <span class="n">select</span><span class="p">([</span>
                    <span class="n">orders</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">region</span><span class="p">,</span>
                    <span class="n">func</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">orders</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">amount</span><span class="p">)</span><span class="o">.</span><span class="n">label</span><span class="p">(</span><span class="s1">&#39;total_sales&#39;</span><span class="p">)</span>
                <span class="p">])</span><span class="o">.</span><span class="n">group_by</span><span class="p">(</span><span class="n">orders</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">region</span><span class="p">)</span><span class="o">.</span><span class="n">cte</span><span class="p">(</span><span class="s2">&quot;regional_sales&quot;</span><span class="p">)</span>


<span class="n">top_regions</span> <span class="o">=</span> <span class="n">select</span><span class="p">([</span><span class="n">regional_sales</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">region</span><span class="p">])</span><span class="o">.</span>\
        <span class="n">where</span><span class="p">(</span>
            <span class="n">regional_sales</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">total_sales</span> <span class="o">&gt;</span>
            <span class="n">select</span><span class="p">([</span>
                <span class="n">func</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">regional_sales</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">total_sales</span><span class="p">)</span><span class="o">/</span><span class="mi">10</span>
            <span class="p">])</span>
        <span class="p">)</span><span class="o">.</span><span class="n">cte</span><span class="p">(</span><span class="s2">&quot;top_regions&quot;</span><span class="p">)</span>

<span class="n">statement</span> <span class="o">=</span> <span class="n">select</span><span class="p">([</span>
            <span class="n">orders</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">region</span><span class="p">,</span>
            <span class="n">orders</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">product</span><span class="p">,</span>
            <span class="n">func</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">orders</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">quantity</span><span class="p">)</span><span class="o">.</span><span class="n">label</span><span class="p">(</span><span class="s2">&quot;product_units&quot;</span><span class="p">),</span>
            <span class="n">func</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">orders</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">amount</span><span class="p">)</span><span class="o">.</span><span class="n">label</span><span class="p">(</span><span class="s2">&quot;product_sales&quot;</span><span class="p">)</span>
    <span class="p">])</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">orders</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">region</span><span class="o">.</span><span class="n">in_</span><span class="p">(</span>
        <span class="n">select</span><span class="p">([</span><span class="n">top_regions</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">region</span><span class="p">])</span>
    <span class="p">))</span><span class="o">.</span><span class="n">group_by</span><span class="p">(</span><span class="n">orders</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">region</span><span class="p">,</span> <span class="n">orders</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">product</span><span class="p">)</span>

<span class="n">result</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">statement</span><span class="p">)</span><span class="o">.</span><span class="n">fetchall</span><span class="p">()</span></pre></div>
</div>
<p>例2、RECURSIVE</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">sqlalchemy</span> <span class="k">import</span> <span class="p">(</span><span class="n">Table</span><span class="p">,</span> <span class="n">Column</span><span class="p">,</span> <span class="n">String</span><span class="p">,</span> <span class="n">Integer</span><span class="p">,</span>
                        <span class="n">MetaData</span><span class="p">,</span> <span class="n">select</span><span class="p">,</span> <span class="n">func</span><span class="p">)</span>

<span class="n">metadata</span> <span class="o">=</span> <span class="n">MetaData</span><span class="p">()</span>

<span class="n">parts</span> <span class="o">=</span> <span class="n">Table</span><span class="p">(</span><span class="s1">&#39;parts&#39;</span><span class="p">,</span> <span class="n">metadata</span><span class="p">,</span>
    <span class="n">Column</span><span class="p">(</span><span class="s1">&#39;part&#39;</span><span class="p">,</span> <span class="n">String</span><span class="p">),</span>
    <span class="n">Column</span><span class="p">(</span><span class="s1">&#39;sub_part&#39;</span><span class="p">,</span> <span class="n">String</span><span class="p">),</span>
    <span class="n">Column</span><span class="p">(</span><span class="s1">&#39;quantity&#39;</span><span class="p">,</span> <span class="n">Integer</span><span class="p">),</span>
<span class="p">)</span>

<span class="n">included_parts</span> <span class="o">=</span> <span class="n">select</span><span class="p">([</span>
                    <span class="n">parts</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">sub_part</span><span class="p">,</span>
                    <span class="n">parts</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">part</span><span class="p">,</span>
                    <span class="n">parts</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">quantity</span><span class="p">])</span><span class="o">.</span>\
                    <span class="n">where</span><span class="p">(</span><span class="n">parts</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">part</span><span class="o">==</span><span class="s1">&#39;our part&#39;</span><span class="p">)</span><span class="o">.</span>\
                    <span class="n">cte</span><span class="p">(</span><span class="n">recursive</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>


<span class="n">incl_alias</span> <span class="o">=</span> <span class="n">included_parts</span><span class="o">.</span><span class="n">alias</span><span class="p">()</span>
<span class="n">parts_alias</span> <span class="o">=</span> <span class="n">parts</span><span class="o">.</span><span class="n">alias</span><span class="p">()</span>
<span class="n">included_parts</span> <span class="o">=</span> <span class="n">included_parts</span><span class="o">.</span><span class="n">union_all</span><span class="p">(</span>
    <span class="n">select</span><span class="p">([</span>
        <span class="n">parts_alias</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">sub_part</span><span class="p">,</span>
        <span class="n">parts_alias</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">part</span><span class="p">,</span>
        <span class="n">parts_alias</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">quantity</span>
    <span class="p">])</span><span class="o">.</span>
        <span class="n">where</span><span class="p">(</span><span class="n">parts_alias</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">part</span><span class="o">==</span><span class="n">incl_alias</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">sub_part</span><span class="p">)</span>
<span class="p">)</span>

<span class="n">statement</span> <span class="o">=</span> <span class="n">select</span><span class="p">([</span>
            <span class="n">included_parts</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">sub_part</span><span class="p">,</span>
            <span class="n">func</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">included_parts</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">quantity</span><span class="p">)</span><span class="o">.</span>
              <span class="n">label</span><span class="p">(</span><span class="s1">&#39;total_quantity&#39;</span><span class="p">)</span>
        <span class="p">])</span><span class="o">.</span>\
        <span class="n">group_by</span><span class="p">(</span><span class="n">included_parts</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">sub_part</span><span class="p">)</span>

<span class="n">result</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">statement</span><span class="p">)</span><span class="o">.</span><span class="n">fetchall</span><span class="p">()</span></pre></div>
</div>
<p>例3、CTEでのUPDATEとINSERTを使用するアップサンプリング:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">datetime</span> <span class="k">import</span> <span class="n">date</span>
<span class="kn">from</span> <span class="nn">sqlalchemy</span> <span class="k">import</span> <span class="p">(</span><span class="n">MetaData</span><span class="p">,</span> <span class="n">Table</span><span class="p">,</span> <span class="n">Column</span><span class="p">,</span> <span class="n">Integer</span><span class="p">,</span>
                        <span class="n">Date</span><span class="p">,</span> <span class="n">select</span><span class="p">,</span> <span class="n">literal</span><span class="p">,</span> <span class="n">and_</span><span class="p">,</span> <span class="n">exists</span><span class="p">)</span>

<span class="n">metadata</span> <span class="o">=</span> <span class="n">MetaData</span><span class="p">()</span>

<span class="n">visitors</span> <span class="o">=</span> <span class="n">Table</span><span class="p">(</span><span class="s1">&#39;visitors&#39;</span><span class="p">,</span> <span class="n">metadata</span><span class="p">,</span>
    <span class="n">Column</span><span class="p">(</span><span class="s1">&#39;product_id&#39;</span><span class="p">,</span> <span class="n">Integer</span><span class="p">,</span> <span class="n">primary_key</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span>
    <span class="n">Column</span><span class="p">(</span><span class="s1">&#39;date&#39;</span><span class="p">,</span> <span class="n">Date</span><span class="p">,</span> <span class="n">primary_key</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span>
    <span class="n">Column</span><span class="p">(</span><span class="s1">&#39;count&#39;</span><span class="p">,</span> <span class="n">Integer</span><span class="p">),</span>
<span class="p">)</span>

<span class="c1"># add 5 visitors for the product_id == 1</span>
<span class="n">product_id</span> <span class="o">=</span> <span class="mi">1</span>
<span class="n">day</span> <span class="o">=</span> <span class="n">date</span><span class="o">.</span><span class="n">today</span><span class="p">()</span>
<span class="n">count</span> <span class="o">=</span> <span class="mi">5</span>

<span class="n">update_cte</span> <span class="o">=</span> <span class="p">(</span>
    <span class="n">visitors</span><span class="o">.</span><span class="n">update</span><span class="p">()</span>
    <span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">and_</span><span class="p">(</span><span class="n">visitors</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">product_id</span> <span class="o">==</span> <span class="n">product_id</span><span class="p">,</span>
                <span class="n">visitors</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">date</span> <span class="o">==</span> <span class="n">day</span><span class="p">))</span>
    <span class="o">.</span><span class="n">values</span><span class="p">(</span><span class="n">count</span><span class="o">=</span><span class="n">visitors</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">count</span> <span class="o">+</span> <span class="n">count</span><span class="p">)</span>
    <span class="o">.</span><span class="n">returning</span><span class="p">(</span><span class="n">literal</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span>
    <span class="o">.</span><span class="n">cte</span><span class="p">(</span><span class="s1">&#39;update_cte&#39;</span><span class="p">)</span>
<span class="p">)</span>

<span class="n">upsert</span> <span class="o">=</span> <span class="n">visitors</span><span class="o">.</span><span class="n">insert</span><span class="p">()</span><span class="o">.</span><span class="n">from_select</span><span class="p">(</span>
    <span class="p">[</span><span class="n">visitors</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">product_id</span><span class="p">,</span> <span class="n">visitors</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">date</span><span class="p">,</span> <span class="n">visitors</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">count</span><span class="p">],</span>
    <span class="n">select</span><span class="p">([</span><span class="n">literal</span><span class="p">(</span><span class="n">product_id</span><span class="p">),</span> <span class="n">literal</span><span class="p">(</span><span class="n">day</span><span class="p">),</span> <span class="n">literal</span><span class="p">(</span><span class="n">count</span><span class="p">)])</span>
        <span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="o">~</span><span class="n">exists</span><span class="p">(</span><span class="n">update_cte</span><span class="o">.</span><span class="n">select</span><span class="p">()))</span>
<span class="p">)</span>

<span class="n">connection</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">upsert</span><span class="p">)</span></pre></div>
</div>
<div class="admonition seealso">
<p class="first admonition-title">参考</p>
<p class="last">：meth： <cite>.orm.query.Query.cte</cite>  -  ORM版の：meth：` .HasCTE.cte`。</p>
</div>
</dd></dl>

<dl class="attribute">
<dt id="sqlalchemy.sql.expression.Insert.dialect_kwargs">
<code class="descname">dialect_kwargs</code><a class="headerlink" href="#sqlalchemy.sql.expression.Insert.dialect_kwargs" title="この定義へのパーマリンク">¶</a></dt>
<dd><div class="inherited-member docutils container">
<em>inherited from the</em> <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.base.DialectKWArgs.dialect_kwargs" title="sqlalchemy.sql.base.DialectKWArgs.dialect_kwargs"><code class="xref py py-attr docutils literal notranslate"><span class="pre">dialect_kwargs</span></code></a> <em>attribute of</em> <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.base.DialectKWArgs" title="sqlalchemy.sql.base.DialectKWArgs"><code class="xref py py-class docutils literal notranslate"><span class="pre">DialectKWArgs</span></code></a></div>
<p>この構文に対してダイアレクト固有のオプションとして指定されたキーワード引数の集合。</p>
<p>これらの議論は、 &lt;dialect&gt; _ &lt;kwarg&gt; <a href="#id1"><span class="problematic" id="id2">``</span></a>フォーマット。実際に渡された引数のみが含まれます。 ：attr： <a href="#id3"><span class="problematic" id="id4">`</span></a>.DialectKWArgs.dialect_options`コレクションと異なり、デフォルトを含むこの方言で知られているすべてのオプションが含まれています。</p>
<p>コレクションは書き込み可能です。キーは `` &lt;dialect&gt; _ &lt;kwarg&gt; <a href="#id1"><span class="problematic" id="id2">``</span></a>は値がオプションのリストに集められる場所です。</p>
<div class="versionadded">
<p><span class="versionmodified">バージョン 0.9.2 で追加.</span></p>
</div>
<div class="versionchanged">
<p><span class="versionmodified">バージョン 0.9.4 で変更: </span>：attr： <a href="#id1"><span class="problematic" id="id2">`</span></a>.DialectKWArgs.dialect_kwargs`コレクションが書き込み可能になりました。</p>
</div>
<div class="admonition seealso">
<p class="first admonition-title">参考</p>
<p class="last">：attr： <cite>.DialectKWArgs.dialect_options</cite>  - ネストされた辞書形式</p>
</div>
</dd></dl>

<dl class="attribute">
<dt id="sqlalchemy.sql.expression.Insert.dialect_options">
<code class="descname">dialect_options</code><a class="headerlink" href="#sqlalchemy.sql.expression.Insert.dialect_options" title="この定義へのパーマリンク">¶</a></dt>
<dd><div class="inherited-member docutils container">
<em>inherited from the</em> <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.base.DialectKWArgs.dialect_options" title="sqlalchemy.sql.base.DialectKWArgs.dialect_options"><code class="xref py py-attr docutils literal notranslate"><span class="pre">dialect_options</span></code></a> <em>attribute of</em> <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.base.DialectKWArgs" title="sqlalchemy.sql.base.DialectKWArgs"><code class="xref py py-class docutils literal notranslate"><span class="pre">DialectKWArgs</span></code></a></div>
<p>この構文に対してダイアレクト固有のオプションとして指定されたキーワード引数の集合。</p>
<p>これは2レベルのネストされたレジストリで、 `` &lt;dialect_name&gt; <a href="#id1"><span class="problematic" id="id2">``</span></a>と `` &lt;argument_name&gt; <a href="#id3"><span class="problematic" id="id4">``</span></a>。たとえば、 `` postgresql_where``引数は:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">arg</span> <span class="o">=</span> <span class="n">my_object</span><span class="o">.</span><span class="n">dialect_options</span><span class="p">[</span><span class="s1">&#39;postgresql&#39;</span><span class="p">][</span><span class="s1">&#39;where&#39;</span><span class="p">]</span></pre></div>
</div>
<div class="versionadded">
<p><span class="versionmodified">バージョン 0.9.2 で追加.</span></p>
</div>
<div class="admonition seealso">
<p class="first admonition-title">参考</p>
<p class="last">：attr： <cite>.DialectKWArgs.dialect_kwargs</cite>  - フラット辞書形式</p>
</div>
</dd></dl>

<dl class="method">
<dt id="sqlalchemy.sql.expression.Insert.execute">
<code class="descname">execute</code><span class="sig-paren">(</span><em>*multiparams</em>, <em>**params</em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.Insert.execute" title="この定義へのパーマリンク">¶</a></dt>
<dd><div class="inherited-member docutils container">
<em>inherited from the</em> <a class="reference internal" href="selectable.html#sqlalchemy.sql.expression.Executable.execute" title="sqlalchemy.sql.expression.Executable.execute"><code class="xref py py-meth docutils literal notranslate"><span class="pre">execute()</span></code></a> <em>method of</em> <a class="reference internal" href="selectable.html#sqlalchemy.sql.expression.Executable" title="sqlalchemy.sql.expression.Executable"><code class="xref py py-class docutils literal notranslate"><span class="pre">Executable</span></code></a></div>
<p>これをコンパイルして実行します：class： <cite>.Executable</cite>。</p>
</dd></dl>

<dl class="method">
<dt id="sqlalchemy.sql.expression.Insert.execution_options">
<code class="descname">execution_options</code><span class="sig-paren">(</span><em>**kw</em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.Insert.execution_options" title="この定義へのパーマリンク">¶</a></dt>
<dd><div class="inherited-member docutils container">
<em>inherited from the</em> <a class="reference internal" href="selectable.html#sqlalchemy.sql.expression.Executable.execution_options" title="sqlalchemy.sql.expression.Executable.execution_options"><code class="xref py py-meth docutils literal notranslate"><span class="pre">execution_options()</span></code></a> <em>method of</em> <a class="reference internal" href="selectable.html#sqlalchemy.sql.expression.Executable" title="sqlalchemy.sql.expression.Executable"><code class="xref py py-class docutils literal notranslate"><span class="pre">Executable</span></code></a></div>
<p>実行中に有効になる文の非SQLオプションを設定します。</p>
<p>実行オプションは、文ごとまたは：class： <cite>.Connection`ベースで設定できます。さらに：class： `.Engine`とORM：class：</cite>〜.orm.query.Query`オブジェクトは実行オプションにアクセスし、実行オプションは接続時に設定します。</p>
<p>：meth： <a href="#id1"><span class="problematic" id="id2">`</span></a>execution_options`メソッドは生成されます。このステートメントの新しいインスタンスが返されます。このインスタンスにはオプション:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">statement</span> <span class="o">=</span> <span class="n">select</span><span class="p">([</span><span class="n">table</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">x</span><span class="p">,</span> <span class="n">table</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">y</span><span class="p">])</span>
<span class="n">statement</span> <span class="o">=</span> <span class="n">statement</span><span class="o">.</span><span class="n">execution_options</span><span class="p">(</span><span class="n">autocommit</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span></pre></div>
</div>
<p>ステートメントには、&amp;quot;自動コミット&amp;quot;と&amp;quot;stream_results &amp;quot;は含めることができますが、&amp;quot;isolation_level &amp;quot;や&amp;quot;compiled_cache &amp;quot;は含めることはできません。可能なオプションの完全なリストについては：meth： <a href="#id1"><span class="problematic" id="id2">`</span></a>.Connection.execution_options`を参照してください。</p>
<div class="admonition seealso">
<p class="first admonition-title">参考</p>
<p>：meth： <cite>.Connection.execution_options（）</cite></p>
<p class="last">：meth： <cite>.Query.execution_options（）</cite></p>
</div>
</dd></dl>

<dl class="method">
<dt id="sqlalchemy.sql.expression.Insert.from_select">
<code class="descname">from_select</code><span class="sig-paren">(</span><em>names</em>, <em>select</em>, <em>include_defaults=True</em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.Insert.from_select" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>INSERT ... FROM SELECT`文を表す新しい：class： <a href="#id1"><span class="problematic" id="id2">`</span></a>.Insert`構文を返します。</p>
<p>例えば：：</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sel</span> <span class="o">=</span> <span class="n">select</span><span class="p">([</span><span class="n">table1</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">a</span><span class="p">,</span> <span class="n">table1</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">b</span><span class="p">])</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">table1</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">c</span> <span class="o">&gt;</span> <span class="mi">5</span><span class="p">)</span>
<span class="n">ins</span> <span class="o">=</span> <span class="n">table2</span><span class="o">.</span><span class="n">insert</span><span class="p">()</span><span class="o">.</span><span class="n">from_select</span><span class="p">([</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">],</span> <span class="n">sel</span><span class="p">)</span></pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">パラメータ:</th><td class="field-body"><ul class="first last simple">
<li><span class="target" id="sqlalchemy.sql.expression.Insert.from_select.params.names"></span><strong>names</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.Insert.from_select.params.names">¶</a> -- 文字列の列名のシーケンス、またはターゲット列を表す：class： <a href="#id1"><span class="problematic" id="id2">`</span></a>.Column`オブジェクト。</li>
<li><span class="target" id="sqlalchemy.sql.expression.Insert.from_select.params.select"></span><strong>select</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.Insert.from_select.params.select">¶</a> -- a：func： <cite>.select`構造体、：class：</cite> .FromClause`、または：class： <cite>.FromClause`に解決する他の構造体、例えばORM：class：</cite> .Query`オブジェクトなどです。このFROM句から返される列は、 `` names``パラメータとして送信される列の順序に対応する必要があります。これはデータベースに渡される前にチェックされませんが、データベースは通常、これらの列リストが一致しない場合に例外を発生させます。</li>
<li><span class="target" id="sqlalchemy.sql.expression.Insert.from_select.params.include_defaults"></span><strong>include_defaults</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.Insert.from_select.params.include_defaults">¶</a> -- Trueの場合、名前のリストに別途指定されていない：class： <cite>.Column`オブジェクト（：ref：</cite> metadata_defaults_toplevel`に記載されています）で指定されたサーバ以外のデフォルト値とSQL式は、INSERT文とSELECT文に表示されますこれらの値は、挿入されるデータにも含まれる。 .. note :: Python呼び出し可能関数を使用するPython側のデフォルトは、文全体に対して一度**、行ごとには**だけ呼び出されます。 .. versionadded :: 1.0.0  - ：meth： <a href="#id1"><span class="problematic" id="id2">`</span></a>.Insert.from_select`はPython側を表現し、SQL式の列は、カラム名のリストに含まれていないカラムのSELECT文にデフォルトで設定されるようになりました。</li>
</ul>
</td>
</tr>
</tbody>
</table>
<div class="versionchanged">
<p><span class="versionmodified">バージョン 1.0.0 で変更: </span>FROM SELECTを使用するINSERTは、：paramref： <a href="#id1"><span class="problematic" id="id2">`</span></a>.insert.inline`フラグがTrueに設定されていることを意味し、ステートメントが&amp;quot;最後に挿入された主キー&amp;quot;または他のデフォルト値をフェッチしないことを示します。ステートメントは任意の数の行を処理するため、：attr： <a href="#id3"><span class="problematic" id="id4">`</span></a>.ResultProxy.inserted_primary_key`アクセサは適用されません。</p>
</div>
<div class="versionadded">
<p><span class="versionmodified">バージョン 0.8.3 で追加.</span></p>
</div>
</dd></dl>

<dl class="method">
<dt id="sqlalchemy.sql.expression.Insert.get_children">
<code class="descname">get_children</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.Insert.get_children" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>this：class： <a href="#id1"><span class="problematic" id="id2">`</span></a>.ClauseElement`の直接の子要素を返します。</p>
<p>訪問トラバーサルに使用されます。</p>
<p>** kwargsには、返されるコレクションを変更するフラグが含まれている可能性があります。たとえば、より大きなトラバーサルを減らすためにアイテムのサブセットを返すか、別のコンテキスト（たとえば、スキーマレベルのコレクション節レベルの）。</p>
</dd></dl>

<dl class="attribute">
<dt id="sqlalchemy.sql.expression.Insert.kwargs">
<code class="descname">kwargs</code><a class="headerlink" href="#sqlalchemy.sql.expression.Insert.kwargs" title="この定義へのパーマリンク">¶</a></dt>
<dd><div class="inherited-member docutils container">
<em>inherited from the</em> <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.base.DialectKWArgs.kwargs" title="sqlalchemy.sql.base.DialectKWArgs.kwargs"><code class="xref py py-attr docutils literal notranslate"><span class="pre">kwargs</span></code></a> <em>attribute of</em> <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.base.DialectKWArgs" title="sqlalchemy.sql.base.DialectKWArgs"><code class="xref py py-class docutils literal notranslate"><span class="pre">DialectKWArgs</span></code></a></div>
<p>attr： <a href="#id1"><span class="problematic" id="id2">`</span></a>.DialectKWArgs.dialect_kwargs`の同義語です。</p>
</dd></dl>

<dl class="method">
<dt id="sqlalchemy.sql.expression.Insert.params">
<code class="descname">params</code><span class="sig-paren">(</span><em>*arg</em>, <em>**kw</em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.Insert.params" title="この定義へのパーマリンク">¶</a></dt>
<dd><div class="inherited-member docutils container">
<em>inherited from the</em> <a class="reference internal" href="#sqlalchemy.sql.expression.UpdateBase.params" title="sqlalchemy.sql.expression.UpdateBase.params"><code class="xref py py-meth docutils literal notranslate"><span class="pre">params()</span></code></a> <em>method of</em> <a class="reference internal" href="#sqlalchemy.sql.expression.UpdateBase" title="sqlalchemy.sql.expression.UpdateBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">UpdateBase</span></code></a></div>
<p>ステートメントのパラメーターを設定します。</p>
<p>このメソッドは、基本クラスで `` NotImplementedError``を発生させ、UPDATEとINSERTのSET / VALUES節を提供するために：class： <a href="#id1"><span class="problematic" id="id2">`</span></a>.ValuesBase`によってオーバーライドされます。</p>
</dd></dl>

<dl class="method">
<dt id="sqlalchemy.sql.expression.Insert.prefix_with">
<code class="descname">prefix_with</code><span class="sig-paren">(</span><em>*expr</em>, <em>**kw</em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.Insert.prefix_with" title="この定義へのパーマリンク">¶</a></dt>
<dd><div class="inherited-member docutils container">
<em>inherited from the</em> <a class="reference internal" href="selectable.html#sqlalchemy.sql.expression.HasPrefixes.prefix_with" title="sqlalchemy.sql.expression.HasPrefixes.prefix_with"><code class="xref py py-meth docutils literal notranslate"><span class="pre">prefix_with()</span></code></a> <em>method of</em> <a class="reference internal" href="selectable.html#sqlalchemy.sql.expression.HasPrefixes" title="sqlalchemy.sql.expression.HasPrefixes"><code class="xref py py-class docutils literal notranslate"><span class="pre">HasPrefixes</span></code></a></div>
<p>ステートメントキーワードに続く1つ以上の式、つまりSELECT、INSERT、UPDATE、またはDELETEを追加します。 Generative。</p>
<p>これは、MySQLが提供するようなバックエンド固有のプレフィックスキーワードをサポートするために使用されます。</p>
<p>例えば：：</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">stmt</span> <span class="o">=</span> <span class="n">table</span><span class="o">.</span><span class="n">insert</span><span class="p">()</span><span class="o">.</span><span class="n">prefix_with</span><span class="p">(</span><span class="s2">&quot;LOW_PRIORITY&quot;</span><span class="p">,</span> <span class="n">dialect</span><span class="o">=</span><span class="s2">&quot;mysql&quot;</span><span class="p">)</span></pre></div>
</div>
<p>複数の接頭辞は：meth： <a href="#id1"><span class="problematic" id="id2">`</span></a>.prefix_with`を複数回呼び出すことで指定できます。</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">パラメータ:</th><td class="field-body"><ul class="first last simple">
<li><span class="target" id="sqlalchemy.sql.expression.Insert.prefix_with.params.*expr"></span><strong>*expr</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.Insert.prefix_with.params.*expr">¶</a> -- text：or：class： <a href="#id1"><span class="problematic" id="id2">`</span></a>.ClauseElement`構文で、INSERT、UPDATE、またはDELETEキーワードの後に​​表示されます。</li>
<li><span class="target" id="sqlalchemy.sql.expression.Insert.prefix_with.params.**kw"></span><strong>**kw</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.Insert.prefix_with.params.**kw">¶</a> -- 単一のキーワード「方言」が受け入れられます。これは省略可能な文字列の名前であり、この接頭辞のその方言へのレンダリングを制限します。</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="sqlalchemy.sql.expression.Insert.return_defaults">
<code class="descname">return_defaults</code><span class="sig-paren">(</span><em>*cols</em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.Insert.return_defaults" title="この定義へのパーマリンク">¶</a></dt>
<dd><div class="inherited-member docutils container">
<em>inherited from the</em> <a class="reference internal" href="#sqlalchemy.sql.expression.ValuesBase.return_defaults" title="sqlalchemy.sql.expression.ValuesBase.return_defaults"><code class="xref py py-meth docutils literal notranslate"><span class="pre">return_defaults()</span></code></a> <em>method of</em> <a class="reference internal" href="#sqlalchemy.sql.expression.ValuesBase" title="sqlalchemy.sql.expression.ValuesBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">ValuesBase</span></code></a></div>
<p>サーバー側の式とデフォルトを取得するために、：term： <a href="#id1"><span class="problematic" id="id2">`</span></a>RETURNING`節を使用してください。</p>
<p>例えば：：</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">stmt</span> <span class="o">=</span> <span class="n">table</span><span class="o">.</span><span class="n">insert</span><span class="p">()</span><span class="o">.</span><span class="n">values</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="s1">&#39;newdata&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">return_defaults</span><span class="p">()</span>

<span class="n">result</span> <span class="o">=</span> <span class="n">connection</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">stmt</span><span class="p">)</span>

<span class="n">server_created_at</span> <span class="o">=</span> <span class="n">result</span><span class="o">.</span><span class="n">returned_defaults</span><span class="p">[</span><span class="s1">&#39;created_at&#39;</span><span class="p">]</span></pre></div>
</div>
<p>RETURNINGをサポートするバックエンドに対して使用すると、SQL式またはサーバー側のデフォルトによって生成されたすべての列の値は、既存のRETURNING句に追加されます。ただし、：meth： <cite>.UpdateBase.returning`は同時に使用されません。次に、：attr： `.ResultProxy.returned_defaults`アクセサをディクショナリとして使用して、：class：</cite> .Column`オブジェクトとその `` .key``オブジェクトにキー入力された値を参照して、カラム値を結果で利用できます。</p>
<p>このメソッドは、以下の点で：meth： <a href="#id1"><span class="problematic" id="id2">`</span></a>.UpdateBase.returning`と異なります。</p>
<ol class="arabic simple">
<li>：meth： <a href="#id1"><span class="problematic" id="id2">`</span></a>.ValuesBase.return_defaults`は、ちょうど1つの行と一致するINSERT文またはUPDATE文での使用を意図しています。一般的な意味でのRETURNING構文は、複数行のUPDATEまたはDELETE文、または複数の行を返すINSERTの特別な場合（SELECTからのINSERT、複数値のVALUES句）の複数の行をサポートしますが、：meth： <a href="#id3"><span class="problematic" id="id4">`</span></a>.ValuesBase .return_defaults`は&amp;quot;ORMスタイル&amp;quot;の単一行のINSERT / UPDATE文だけを対象としています。ステートメントによって返された行は、：meth： <a href="#id5"><span class="problematic" id="id6">`</span></a>.ValuesBase.return_defaults`が使用されたときに暗黙的に消費されます。対照的に、：meth： <a href="#id7"><span class="problematic" id="id8">`</span></a>.UpdateBase.returning`は、RETURNING結果セットをそのままの数の行のコレクションで残します。</li>
<li>既存のロジックと互換性があり、自動的に生成されたプライマリキー値を取得します。これは&amp;quot;暗黙的な戻り値&amp;quot;とも呼ばれます。 RETURNINGをサポートするバックエンドは、新しく生成された主キーの値を取得するために自動的にRETURNINGを使用します。 ：meth： <cite>.UpdateBase.returning`メソッドはこの動作を回避しますが、：meth：</cite> .ValuesBase.return_defaults`はそのまま残します。</li>
<li>バックエンドに対して呼び出すことができます。 RETURNINGをサポートしていないバックエンドは、例外を発生させるのではなく、その機能の使用をスキップします。 ：attr： <cite>.ResultProxy.returned_defaults`の戻り値は</cite> <a href="#id1"><span class="problematic" id="id2">`</span></a>None``になります。</li>
</ol>
<p>：meth： <cite>.ValuesBase.return_defaults`は：func：</cite> .mapper`の `` eager_defaults``機能の効率的な実装を提供するためにORMによって使用されます。</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">パラメータ:</th><td class="field-body"><span class="target" id="sqlalchemy.sql.expression.Insert.return_defaults.params.cols"></span><strong>cols</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.Insert.return_defaults.params.cols">¶</a> -- 列キー名または：class： <a href="#id1"><span class="problematic" id="id2">`</span></a>.Column`オブジェクトのオプションリスト。省略すると、サーバー上で評価されたすべての列式が戻りリストに追加されます。</td>
</tr>
</tbody>
</table>
<div class="versionadded">
<p><span class="versionmodified">バージョン 0.9.0 で追加.</span></p>
</div>
<div class="admonition seealso">
<p class="first admonition-title">参考</p>
<p>：meth： <cite>.UpdateBase.returning</cite></p>
<p class="last">：attr： <cite>.ResultProxy.returned_defaults</cite></p>
</div>
</dd></dl>

<dl class="method">
<dt id="sqlalchemy.sql.expression.Insert.returning">
<code class="descname">returning</code><span class="sig-paren">(</span><em>*cols</em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.Insert.returning" title="この定義へのパーマリンク">¶</a></dt>
<dd><div class="inherited-member docutils container">
<em>inherited from the</em> <a class="reference internal" href="#sqlalchemy.sql.expression.UpdateBase.returning" title="sqlalchemy.sql.expression.UpdateBase.returning"><code class="xref py py-meth docutils literal notranslate"><span class="pre">returning()</span></code></a> <em>method of</em> <a class="reference internal" href="#sqlalchemy.sql.expression.UpdateBase" title="sqlalchemy.sql.expression.UpdateBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">UpdateBase</span></code></a></div>
<p>この文にa：term： <a href="#id1"><span class="problematic" id="id2">`</span></a>RETURNING`または同等の句を追加します。</p>
<p>例えば：：</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">stmt</span> <span class="o">=</span> <span class="n">table</span><span class="o">.</span><span class="n">update</span><span class="p">()</span><span class="o">.</span>\
          <span class="n">where</span><span class="p">(</span><span class="n">table</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">data</span> <span class="o">==</span> <span class="s1">&#39;value&#39;</span><span class="p">)</span><span class="o">.</span>\
          <span class="n">values</span><span class="p">(</span><span class="n">status</span><span class="o">=</span><span class="s1">&#39;X&#39;</span><span class="p">)</span><span class="o">.</span>\
          <span class="n">returning</span><span class="p">(</span><span class="n">table</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">server_flag</span><span class="p">,</span>
                    <span class="n">table</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">updated_timestamp</span><span class="p">)</span>

<span class="k">for</span> <span class="n">server_flag</span><span class="p">,</span> <span class="n">updated_timestamp</span> <span class="ow">in</span> <span class="n">connection</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">stmt</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">server_flag</span><span class="p">,</span> <span class="n">updated_timestamp</span><span class="p">)</span></pre></div>
</div>
<p>指定された列式のコレクションは、INSERT、UPDATEまたはDELETEのターゲットである表から派生する必要があります。 while：class： <a href="#id1"><span class="problematic" id="id2">`</span></a>.Column`オブジェクトは典型的ですが、要素は式でもあります:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">stmt</span> <span class="o">=</span> <span class="n">table</span><span class="o">.</span><span class="n">insert</span><span class="p">()</span><span class="o">.</span><span class="n">returning</span><span class="p">(</span>
    <span class="p">(</span><span class="n">table</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">first_name</span> <span class="o">+</span> <span class="s2">&quot; &quot;</span> <span class="o">+</span> <span class="n">table</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">last_name</span><span class="p">)</span><span class="o">.</span>
    <span class="n">label</span><span class="p">(</span><span class="s1">&#39;fullname&#39;</span><span class="p">))</span></pre></div>
</div>
<p>コンパイル時には、RETURNING句、またはそれに相当するデータベースがステートメント内でレンダリングされます。 INSERTとUPDATEの場合、値は新しく挿入/更新された値です。 DELETEの場合、値は削除された行の値です。</p>
<p>実行時に、返される列の値は結果セットを介して利用可能になり、：meth： <a href="#id1"><span class="problematic" id="id2">`</span></a>.ResultProxy.fetchone`などを使用して反復することができます。戻り値（つまりcx_oracle）をネイティブにサポートしていないDBAPIの場合、SQLAlchemyは結果のレベルでこの動作を近似し、妥当な量の中立性が提供されます。</p>
<p>すべてのデータベース/ DBAPIがRETURNINGをサポートしているわけではないことに注意してください。サポートされていないバックエンドの場合、コンパイルおよび/または実行時に例外が発生します。 executemany（）の制限や複数の行を返すその他のステートメントなど、バックエンドの機能は大きく異なります。 RETURNINGの可用性を判断するには、使用中のデータベースのドキュメントを参照してください。</p>
<div class="admonition seealso">
<p class="first admonition-title">参考</p>
<p class="last">：meth： <cite>.ValuesBase.return_defaults</cite>  - 単一行のINSERTやUPDATEのためのサーバサイドのデフォルトとトリガを効率的にフェッチするための代替メソッドです。</p>
</div>
</dd></dl>

<dl class="method">
<dt id="sqlalchemy.sql.expression.Insert.scalar">
<code class="descname">scalar</code><span class="sig-paren">(</span><em>*multiparams</em>, <em>**params</em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.Insert.scalar" title="この定義へのパーマリンク">¶</a></dt>
<dd><div class="inherited-member docutils container">
<em>inherited from the</em> <a class="reference internal" href="selectable.html#sqlalchemy.sql.expression.Executable.scalar" title="sqlalchemy.sql.expression.Executable.scalar"><code class="xref py py-meth docutils literal notranslate"><span class="pre">scalar()</span></code></a> <em>method of</em> <a class="reference internal" href="selectable.html#sqlalchemy.sql.expression.Executable" title="sqlalchemy.sql.expression.Executable"><code class="xref py py-class docutils literal notranslate"><span class="pre">Executable</span></code></a></div>
<p>これをコンパイルして実行します：class： <cite>.Executable</cite>、結果のスカラ表現を返します。</p>
</dd></dl>

<dl class="method">
<dt id="sqlalchemy.sql.expression.Insert.self_group">
<code class="descname">self_group</code><span class="sig-paren">(</span><em>against=None</em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.Insert.self_group" title="この定義へのパーマリンク">¶</a></dt>
<dd><div class="inherited-member docutils container">
<em>inherited from the</em> <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.ClauseElement.self_group" title="sqlalchemy.sql.expression.ClauseElement.self_group"><code class="xref py py-meth docutils literal notranslate"><span class="pre">self_group()</span></code></a> <em>method of</em> <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.ClauseElement" title="sqlalchemy.sql.expression.ClauseElement"><code class="xref py py-class docutils literal notranslate"><span class="pre">ClauseElement</span></code></a></div>
<p>これに &amp;#39;grouping&amp;#39;を適用します：class： <cite>.ClauseElement</cite>。</p>
<p>このメソッドはサブクラスによってオーバーライドされ、&amp;quot;グループ化&amp;quot;構造体、つまり括弧を返します。特に、大規模な式に置かれたときには、自分自身の周りにグループ化を提供するために、&amp;quot;バイナリ&amp;quot;式で使用されます。func： <cite>.select`は、別のFROM句に配置されたときに構築されます。func：</cite> .select <a href="#id1"><span class="problematic" id="id2">`</span></a>。 （サブクエリは、通常は：meth： <a href="#id3"><span class="problematic" id="id4">`</span></a>.Select.alias`メソッドを使用して作成する必要があります。これは、多くのプラットフォームでネストされたSELECT文の名前を付ける必要があるためです）。</p>
<p>式が一緒に構成されるとき、：meth： <cite>self_group`のアプリケーションは自動です - エンドユーザコードはこのメソッドを直接使う必要はありません。 SQLAlchemyの節構文は演算子の優先順位を考慮していることに注意してください。たとえば、 `</cite> x OR（y AND z） <a href="#id1"><span class="problematic" id="id2">``</span></a>のような式のようにかっこは必要ないかもしれません。</p>
<p>base：meth： <cite>self_group`メソッドの：class：</cite> .ClauseElement`はselfを返します。</p>
</dd></dl>

<dl class="method">
<dt id="sqlalchemy.sql.expression.Insert.unique_params">
<code class="descname">unique_params</code><span class="sig-paren">(</span><em>*optionaldict</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.Insert.unique_params" title="この定義へのパーマリンク">¶</a></dt>
<dd><div class="inherited-member docutils container">
<em>inherited from the</em> <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.ClauseElement.unique_params" title="sqlalchemy.sql.expression.ClauseElement.unique_params"><code class="xref py py-meth docutils literal notranslate"><span class="pre">unique_params()</span></code></a> <em>method of</em> <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.ClauseElement" title="sqlalchemy.sql.expression.ClauseElement"><code class="xref py py-class docutils literal notranslate"><span class="pre">ClauseElement</span></code></a></div>
<p>func： <a href="#id1"><span class="problematic" id="id2">`</span></a>bindparam（）`要素を置き換えてコピーを返します。</p>
<p>複数のステートメントを使用できるように、影響を受けるバインドパラメータに <cite>unique = True`を追加する点を除いて、</cite> <cite>params（）</cite> <a href="#id1"><span class="problematic" id="id2">`</span></a>と同じ機能です。</p>
</dd></dl>

<dl class="method">
<dt id="sqlalchemy.sql.expression.Insert.values">
<code class="descname">values</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.Insert.values" title="この定義へのパーマリンク">¶</a></dt>
<dd><div class="inherited-member docutils container">
<em>inherited from the</em> <a class="reference internal" href="#sqlalchemy.sql.expression.ValuesBase.values" title="sqlalchemy.sql.expression.ValuesBase.values"><code class="xref py py-meth docutils literal notranslate"><span class="pre">values()</span></code></a> <em>method of</em> <a class="reference internal" href="#sqlalchemy.sql.expression.ValuesBase" title="sqlalchemy.sql.expression.ValuesBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">ValuesBase</span></code></a></div>
<p>INSERT文には固定VALUES句を、UPDATEにはSET句を指定します。</p>
<p>：class： <cite>.Insert`と：class：</cite> .Update`は、：meth： <a href="#id1"><span class="problematic" id="id2">`</span></a>.Connection.execute`に渡された引数に基づいて、VALUESおよび/またはSET節の実行時フォーマットをサポートしています。しかし、：meth： <a href="#id3"><span class="problematic" id="id4">`</span></a>.ValuesBase.values`メソッドは、特定のパラメータセットをステートメントに&amp;quot;修正 &amp;quot;するために使用できます。</p>
<p>：meth： <a href="#id1"><span class="problematic" id="id2">`</span></a>.ValuesBase.values`を複数呼び出すと、送信された新しいパラメータを含むようにパラメータリストが変更された新しい構造が生成されます。パラメータの辞書の典型的な例では、新しく渡されたキーは、前の構造の同じキーを置き換えます。リストベースの&amp;quot;複数値&amp;quot;構成の場合、新しい値リストはそれぞれ、既存の値リストに拡張されます。</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">パラメータ:</th><td class="field-body"><ul class="first last simple">
<li><span class="target" id="sqlalchemy.sql.expression.Insert.values.params.**kwargs"></span><strong>**kwargs</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.Insert.values.params.**kwargs">¶</a> -- VALUEESまたはSET句:: users.insert（）。values（name = &amp;quot;some name &amp;quot;）ユーザにレンダリングされる値にマッピングされた：class： <a href="#id1"><span class="problematic" id="id2">`</span></a>.Column`の文字列キーを表すキー値ペア。 update（）。ここで（users.c.id == 5）.values（name = &amp;quot;some name &amp;quot;）</li>
<li><span class="target" id="sqlalchemy.sql.expression.Insert.values.params.*args"></span><strong>*args</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.Insert.values.params.*args">¶</a> -- キー/値パラメーターを渡す代わりに、ステートメントのVALUES節またはSET節を形成するために、辞書、タプル、または辞書またはタプルのリストを単一の位置引数として渡すことができます。受け入れられるフォームは、これが：class： <cite>.Insert`か：class：</cite> .Update`のどちらであるかによって異なります。 ：class： <cite>.Insert`または：class：</cite> .Update`のいずれかの構造体に対しては、kwargs form :: users.insert（）の値と同じ働きをする単一の辞書を渡すことができます。 （名前：&amp;quot;いくつかの新しい名前&amp;quot;））どちらの形式でも、より一般的には：class： <cite>のために。テーブルのすべての列のエントリを含むタプルも受け入れられます:: users.insert（）。values（（5、&amp;quot;some name &amp;quot;））：class： `.Insert`構造サーバ上では、 &amp;quot;多値&amp;quot;というあまり一般的でないSQL構文をレンダリングする、辞書やフルテーブルタプルのリストを渡すことをサポートしています - この構文は、SQLite、PostgreSQL、MySQLなどのバックエンドでサポートされています他人:: users.insert（）。値（[{&amp;quot;名前&amp;quot;：&amp;quot;名前&amp;quot;：&amp;quot;名前&amp;quot;：&amp;quot;他の名前&amp;quot;}上記のフォームは、:: INSERT INTO users（name）VALUES（：name_1）、（：name_2）、（：name_3）と同様の複数のVALUES文をレンダリングします。 **複数の値を渡すことは、従来のexecutemany（）フォーム**を使用するのと同じではないことに注意してください。上記の構文は、通常は使用されない**特別な**構文です。複数の行に対してINSERT文を発行するには、複数の値リストを：meth： `.Connection.execute`メソッドに渡します。これは、すべてのデータベースバックエンドでサポートされています。パラメーター。 .. seealso ::：ref： `execute_multiple</cite>  -  INSERTや他のステートメントに対する複数のパラメータセット呼び出しの伝統的なCoreメソッドの紹介です。 .. versionchanged :: 1.0.0複数のVALUES句を使用するINSERTは、長さが1のリストであっても、：paramref： <cite>.Insert.inline`フラグがTrueに設定されていることを意味します。 &amp;quot;最後に挿入された主キー&amp;quot;または他のデフォルトをフェッチする。ステートメントは任意の数の行を処理するため、：attr： `.ResultProxy.inserted_primary_key`アクセサは適用されません。 .. versionchanged :: 1.0.0 multiple-VALUES INSERTはPython側のデフォルト値と呼び出し可能な列を&amp;quot;executemany &amp;quot;スタイルの呼び出しと同じようにサポートするようになりました。呼び出し可能は各行に対して呼び出されます。その他の詳細は：ref： `bug_3288`を参照してください。 ：class： `.Update`コンストラクトは2タプルのリストである特別な形式をサポートしています。これは：paramref：</cite>〜sqlalchemy.sql.expression.update.preserve_parameter_order`パラメータと一緒に渡す必要があります。この形式では、UPDATE文は、：class： <cite>.Table`で与えられた列の順序ではなく、：meth：</cite> .Update.values`に与えられたパラメータの順序を使用してSET句を表示します。 .. versionadded :: 1.0.10  - ：paramref： <cite>〜sqlalchemy.sql.expression.update.preserve_parameter_order`フラグを介して、パラメータ順のUPDATE文のサポートが追加されました。 .. seealso :: ref： `updates_order_parameters</cite>  - 完全な例：paramref：<a href="#id1"><span class="problematic" id="id2">`</span></a>〜sqlalchemy.sql.expression.update.preserve_parameter_order`フラグ</li>
</ul>
</td>
</tr>
</tbody>
</table>
<div class="admonition seealso">
<p class="first admonition-title">参考</p>
<p>：ref： <cite>inserts_and_updates</cite>  -  SQL式言語チュートリアル</p>
<p>：func： <cite>〜.expression.insert</cite>  - ` <a href="#id1"><span class="problematic" id="id2">`</span></a>INSERT``文を生成します</p>
<p class="last">：func： <cite>〜.expression.update</cite>  - ` <a href="#id1"><span class="problematic" id="id2">`</span></a>UPDATE``文を生成します</p>
</div>
</dd></dl>

<dl class="method">
<dt id="sqlalchemy.sql.expression.Insert.with_hint">
<code class="descname">with_hint</code><span class="sig-paren">(</span><em>text</em>, <em>selectable=None</em>, <em>dialect_name='*'</em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.Insert.with_hint" title="この定義へのパーマリンク">¶</a></dt>
<dd><div class="inherited-member docutils container">
<em>inherited from the</em> <a class="reference internal" href="#sqlalchemy.sql.expression.UpdateBase.with_hint" title="sqlalchemy.sql.expression.UpdateBase.with_hint"><code class="xref py py-meth docutils literal notranslate"><span class="pre">with_hint()</span></code></a> <em>method of</em> <a class="reference internal" href="#sqlalchemy.sql.expression.UpdateBase" title="sqlalchemy.sql.expression.UpdateBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">UpdateBase</span></code></a></div>
<p>このINSERT / UPDATE / DELETEステートメントに単一テーブルのテーブルヒントを追加します。</p>
<div class="admonition note">
<p class="first admonition-title">注釈</p>
<p class="last">：meth： <a href="#id1"><span class="problematic" id="id2">`</span></a>.UpdateBase.with_hint`は現在、Microsoft SQL Serverにのみ適用されます。 MySQLのINSERT / UPDATE / DELETEヒントについては、：meth： <a href="#id3"><span class="problematic" id="id4">`</span></a>.UpdateBase.prefix_with`を使用してください。</p>
</div>
<p>ヒントのテキストは、使用中のデータベースバックエンドの適切な場所にレンダリングされます。これは、このステートメントの主題である：class： <cite>.Table`を基準にして、または任意で：class：</cite> .Table` `` selectable``引数として渡されました。</p>
<p>`` dialect_name``オプションは、特定のヒントを特定のバックエンドにレンダリングすることを制限します。のような、SQL Serverにのみ有効なヒントを追加する:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">mytable</span><span class="o">.</span><span class="n">insert</span><span class="p">()</span><span class="o">.</span><span class="n">with_hint</span><span class="p">(</span><span class="s2">&quot;WITH (PAGLOCK)&quot;</span><span class="p">,</span> <span class="n">dialect_name</span><span class="o">=</span><span class="s2">&quot;mssql&quot;</span><span class="p">)</span></pre></div>
</div>
<div class="versionadded">
<p><span class="versionmodified">バージョン 0.7.6 で追加.</span></p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">パラメータ:</th><td class="field-body"><ul class="first last simple">
<li><span class="target" id="sqlalchemy.sql.expression.Insert.with_hint.params.text"></span><strong>text</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.Insert.with_hint.params.text">¶</a> -- ヒントのテキスト。</li>
<li><span class="target" id="sqlalchemy.sql.expression.Insert.with_hint.params.selectable"></span><strong>selectable</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.Insert.with_hint.params.selectable">¶</a> -- オプション：クラス：ヒントの対象となるUPDATEまたはDELETE内のFROM句の要素を指定する <cite>.Table</cite>  - 特定のバックエンドのみに適用されます。</li>
<li><span class="target" id="sqlalchemy.sql.expression.Insert.with_hint.params.dialect_name"></span><strong>dialect_name</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.Insert.with_hint.params.dialect_name">¶</a> -- デフォルトで `` * <a href="#id1"><span class="problematic" id="id2">``</span></a>は、特定の方言の名前として指定された場合、その方言が使用されている場合にのみ、これらのヒントを適用します。</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="sqlalchemy.sql.expression.Update">
<em class="property">class </em><code class="descclassname">sqlalchemy.sql.expression.</code><code class="descname">Update</code><span class="sig-paren">(</span><em>table</em>, <em>whereclause=None</em>, <em>values=None</em>, <em>inline=False</em>, <em>bind=None</em>, <em>prefixes=None</em>, <em>returning=None</em>, <em>return_defaults=False</em>, <em>preserve_parameter_order=False</em>, <em>**dialect_kw</em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.Update" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#sqlalchemy.sql.expression.ValuesBase" title="sqlalchemy.sql.expression.ValuesBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.ValuesBase</span></code></a></p>
<p>Updateコンストラクトを表します。</p>
<p>：class： <cite>.Update`オブジェクトは、：func：</cite> update（） <a href="#id1"><span class="problematic" id="id2">`</span></a>関数を使って作成されます。</p>
<dl class="attribute">
<dt id="sqlalchemy.sql.expression.Update.__eq__">
<code class="descname">__eq__</code><a class="headerlink" href="#sqlalchemy.sql.expression.Update.__eq__" title="この定義へのパーマリンク">¶</a></dt>
<dd><div class="inherited-member docutils container">
<em>inherited from the</em> <code class="xref py py-attr docutils literal notranslate"><span class="pre">__eq__</span></code> <em>attribute of</em> <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></div>
<p>Return self==value.</p>
</dd></dl>

<dl class="method">
<dt id="sqlalchemy.sql.expression.Update.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><em>table</em>, <em>whereclause=None</em>, <em>values=None</em>, <em>inline=False</em>, <em>bind=None</em>, <em>prefixes=None</em>, <em>returning=None</em>, <em>return_defaults=False</em>, <em>preserve_parameter_order=False</em>, <em>**dialect_kw</em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.Update.__init__" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>Construct a new <a class="reference internal" href="#sqlalchemy.sql.expression.Update" title="sqlalchemy.sql.expression.Update"><code class="xref py py-class docutils literal notranslate"><span class="pre">Update</span></code></a> object.</p>
<p>This constructor is mirrored as a public API function; see <a class="reference internal" href="#sqlalchemy.sql.expression.update" title="sqlalchemy.sql.expression.update"><code class="xref py py-func docutils literal notranslate"><span class="pre">update()</span></code></a> for a full usage and argument description.</p>
</dd></dl>

<dl class="attribute">
<dt id="sqlalchemy.sql.expression.Update.__le__">
<code class="descname">__le__</code><a class="headerlink" href="#sqlalchemy.sql.expression.Update.__le__" title="この定義へのパーマリンク">¶</a></dt>
<dd><div class="inherited-member docutils container">
<em>inherited from the</em> <code class="xref py py-attr docutils literal notranslate"><span class="pre">__le__</span></code> <em>attribute of</em> <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></div>
<p>Return self&lt;=value.</p>
</dd></dl>

<dl class="attribute">
<dt id="sqlalchemy.sql.expression.Update.__lt__">
<code class="descname">__lt__</code><a class="headerlink" href="#sqlalchemy.sql.expression.Update.__lt__" title="この定義へのパーマリンク">¶</a></dt>
<dd><div class="inherited-member docutils container">
<em>inherited from the</em> <code class="xref py py-attr docutils literal notranslate"><span class="pre">__lt__</span></code> <em>attribute of</em> <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></div>
<p>Return self&lt;value.</p>
</dd></dl>

<dl class="attribute">
<dt id="sqlalchemy.sql.expression.Update.__ne__">
<code class="descname">__ne__</code><a class="headerlink" href="#sqlalchemy.sql.expression.Update.__ne__" title="この定義へのパーマリンク">¶</a></dt>
<dd><div class="inherited-member docutils container">
<em>inherited from the</em> <code class="xref py py-attr docutils literal notranslate"><span class="pre">__ne__</span></code> <em>attribute of</em> <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></div>
<p>Return self!=value.</p>
</dd></dl>

<dl class="classmethod">
<dt id="sqlalchemy.sql.expression.Update.argument_for">
<em class="property">classmethod </em><code class="descname">argument_for</code><span class="sig-paren">(</span><em>dialect_name</em>, <em>argument_name</em>, <em>default</em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.Update.argument_for" title="この定義へのパーマリンク">¶</a></dt>
<dd><div class="inherited-member docutils container">
<em>inherited from the</em> <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.base.DialectKWArgs.argument_for" title="sqlalchemy.sql.base.DialectKWArgs.argument_for"><code class="xref py py-meth docutils literal notranslate"><span class="pre">argument_for()</span></code></a> <em>method of</em> <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.base.DialectKWArgs" title="sqlalchemy.sql.base.DialectKWArgs"><code class="xref py py-class docutils literal notranslate"><span class="pre">DialectKWArgs</span></code></a></div>
<p>このクラスの新しい種類の方言固有のキーワード引数を追加します。</p>
<p>例えば：：</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Index</span><span class="o">.</span><span class="n">argument_for</span><span class="p">(</span><span class="s2">&quot;mydialect&quot;</span><span class="p">,</span> <span class="s2">&quot;length&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>

<span class="n">some_index</span> <span class="o">=</span> <span class="n">Index</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="n">mydialect_length</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span></pre></div>
</div>
<p>：meth： <cite>.DialectKWArgs.argument_for`メソッドは：attr：</cite> .DefaultDialect.construct_arguments`ディクショナリに余分な引数を追加する引数ごとの方法です。この辞書は、方言に代わってさまざまなスキーマレベルの構造によって受け入れられる引数名のリストを提供します。</p>
<p>新しい方言は通常、この辞書を一度に方言クラスのデータメンバーとして指定する必要があります。引数名のアドホックな追加のユースケースは、通常、追加の引数を消費するカスタムコンパイルスキームも使用するエンドユーザーコード用です。</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">パラメータ:</th><td class="field-body"><ul class="first last simple">
<li><span class="target" id="sqlalchemy.sql.expression.Update.argument_for.params.dialect_name"></span><strong>dialect_name</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.Update.argument_for.params.dialect_name">¶</a> -- 方言の名前。方言はlocatableでなければなりません。さもなければ：class： <cite>.NoSuchModuleError`が送出されます。ダイアレクトには、既存の：attr： `.DefaultDialect.construct_arguments`コレクションも含まれていなければなりません。これはキーワード引数の検証とデフォルトシステムに参加していることを示します。それ以外の場合は：class：</cite> .ArgumentError`が送出されます。方言にこのコレクションが含まれていない場合は、既にこの方言の代わりにキーワード引数を指定できます。 SQLAlchemy内にパッケージ化されたすべての方言にはこのコレクションが含まれていますが、サードパーティの方言ではサポートが異なる場合があります。</li>
<li><span class="target" id="sqlalchemy.sql.expression.Update.argument_for.params.argument_name"></span><strong>argument_name</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.Update.argument_for.params.argument_name">¶</a> -- パラメータの名前。</li>
<li><span class="target" id="sqlalchemy.sql.expression.Update.argument_for.params.default"></span><strong>default</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.Update.argument_for.params.default">¶</a> -- パラメータのデフォルト値。</li>
</ul>
</td>
</tr>
</tbody>
</table>
<div class="versionadded">
<p><span class="versionmodified">バージョン 0.9.4 で追加.</span></p>
</div>
</dd></dl>

<dl class="attribute">
<dt id="sqlalchemy.sql.expression.Update.bind">
<code class="descname">bind</code><a class="headerlink" href="#sqlalchemy.sql.expression.Update.bind" title="この定義へのパーマリンク">¶</a></dt>
<dd><div class="inherited-member docutils container">
<em>inherited from the</em> <a class="reference internal" href="#sqlalchemy.sql.expression.UpdateBase.bind" title="sqlalchemy.sql.expression.UpdateBase.bind"><code class="xref py py-attr docutils literal notranslate"><span class="pre">bind</span></code></a> <em>attribute of</em> <a class="reference internal" href="#sqlalchemy.sql.expression.UpdateBase" title="sqlalchemy.sql.expression.UpdateBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">UpdateBase</span></code></a></div>
<p>this：class： <cite>.UpdateBase`またはそれに関連するa：class：</cite> .Table`にリンクされた &amp;#39;bind&amp;#39;を返します。</p>
</dd></dl>

<dl class="method">
<dt id="sqlalchemy.sql.expression.Update.compare">
<code class="descname">compare</code><span class="sig-paren">(</span><em>other</em>, <em>**kw</em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.Update.compare" title="この定義へのパーマリンク">¶</a></dt>
<dd><div class="inherited-member docutils container">
<em>inherited from the</em> <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.ClauseElement.compare" title="sqlalchemy.sql.expression.ClauseElement.compare"><code class="xref py py-meth docutils literal notranslate"><span class="pre">compare()</span></code></a> <em>method of</em> <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.ClauseElement" title="sqlalchemy.sql.expression.ClauseElement"><code class="xref py py-class docutils literal notranslate"><span class="pre">ClauseElement</span></code></a></div>
<p>このClauseElementと指定されたClauseElementを比較します。</p>
<p>サブクラスはデフォルトの動作を上書きする必要があります。</p>
<p>** kwは、サブクラスのcompare（）メソッドによって消費される引数であり、比較の基準を変更するために使用されます。 （：class： <a href="#id1"><span class="problematic" id="id2">`</span></a>.ColumnElement`を参照してください）</p>
</dd></dl>

<dl class="method">
<dt id="sqlalchemy.sql.expression.Update.compile">
<code class="descname">compile</code><span class="sig-paren">(</span><em>default</em>, <em>bind=None</em>, <em>dialect=None</em>, <em>**kw</em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.Update.compile" title="この定義へのパーマリンク">¶</a></dt>
<dd><div class="inherited-member docutils container">
<em>inherited from the</em> <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.ClauseElement.compile" title="sqlalchemy.sql.expression.ClauseElement.compile"><code class="xref py py-meth docutils literal notranslate"><span class="pre">compile()</span></code></a> <em>method of</em> <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.ClauseElement" title="sqlalchemy.sql.expression.ClauseElement"><code class="xref py py-class docutils literal notranslate"><span class="pre">ClauseElement</span></code></a></div>
<p>このSQL式をコンパイルします。</p>
<p>戻り値は：class： <cite>〜.Compiled`オブジェクトです。返された値に対して `</cite> str（） <a href="#id1"><span class="problematic" id="id2">``</span></a>または `` unicode（） <a href="#id3"><span class="problematic" id="id4">``</span></a>を呼び出すと結果の文字列表現が返されます。 ：class： <cite>〜.Compiled`オブジェクトは、</cite> <a href="#id5"><span class="problematic" id="id6">`</span></a>params``アクセサを使ってバインドパラメータの名前と値の辞書を返すこともできます。</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">パラメータ:</th><td class="field-body"><ul class="first last simple">
<li><span class="target" id="sqlalchemy.sql.expression.Update.compile.params.bind"></span><strong>bind</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.Update.compile.params.bind">¶</a> -- `` Engine``または `` Connection``から `` Compiled``を取得します。この引数はこれよりも優先されます：class： <a href="#id1"><span class="problematic" id="id2">`</span></a>.ClauseElement`のバウンドエンジン（もしあれば）。</li>
<li><span class="target" id="sqlalchemy.sql.expression.Update.compile.params.column_keys"></span><strong>column_keys</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.Update.compile.params.column_keys">¶</a> -- INSERTおよびUPDATEステートメントに使用され、コンパイルされたステートメントのVALUES節に存在する列名のリスト。 `` None``の場合、ターゲットテーブルオブジェクトのすべての列がレンダリングされます。</li>
<li><span class="target" id="sqlalchemy.sql.expression.Update.compile.params.dialect"></span><strong>dialect</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.Update.compile.params.dialect">¶</a> -- `` Dialect``インスタンスで、 `` Compiled``を取得します。この引数は、 <cite>bind`引数だけでなく、class：</cite> .ClauseElement`のバウンドエンジン（存在する場合）も優先します。</li>
<li><span class="target" id="sqlalchemy.sql.expression.Update.compile.params.inline"></span><strong>inline</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.Update.compile.params.inline">¶</a> -- 新しく生成された主キー列のインライン検索をサポートしていない方言のINSERTステートメントでは、INSERTステートメントのVALUES句内で新しい主キー値の作成式を強制的にインラインで表示します。これは、通常、シーケンスの実行を参照するが、主キー「列」に関連付けられた任意のサーバー側デフォルト生成関数を参照することもできる。</li>
<li><span class="target" id="sqlalchemy.sql.expression.Update.compile.params.compile_kwargs"></span><strong>compile_kwargs</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.Update.compile.params.compile_kwargs">¶</a> -- すべての&amp;quot;visit &amp;quot;メソッド内でコンパイラに渡される追加パラメータのオプション辞書。これにより、任意のカスタムフラグをカスタムコンパイル構成に渡すことができます。また、 `` literal_binds``フラグを:: sqlalchemy.sqlから渡す場合にも使用されます。import table、column、select t = table（ &amp;#39;t&amp;#39;、column（ &amp;#39;x&amp;#39;））s = select（[t ]））。ここで、（tcx == 5）は、s.compile（compile_kwargs = {&amp;quot;literal_binds &amp;quot;：True）を出力します）.. versionadded :: 0.9.0</li>
</ul>
</td>
</tr>
</tbody>
</table>
<div class="admonition seealso">
<p class="first admonition-title">参考</p>
<p class="last">：ref： <cite>faq_sql_expression_string</cite></p>
</div>
</dd></dl>

<dl class="method">
<dt id="sqlalchemy.sql.expression.Update.cte">
<code class="descname">cte</code><span class="sig-paren">(</span><em>name=None</em>, <em>recursive=False</em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.Update.cte" title="この定義へのパーマリンク">¶</a></dt>
<dd><div class="inherited-member docutils container">
<em>inherited from the</em> <a class="reference internal" href="selectable.html#sqlalchemy.sql.expression.HasCTE.cte" title="sqlalchemy.sql.expression.HasCTE.cte"><code class="xref py py-meth docutils literal notranslate"><span class="pre">cte()</span></code></a> <em>method of</em> <a class="reference internal" href="selectable.html#sqlalchemy.sql.expression.HasCTE" title="sqlalchemy.sql.expression.HasCTE"><code class="xref py py-class docutils literal notranslate"><span class="pre">HasCTE</span></code></a></div>
<p>新しい：class： <a href="#id1"><span class="problematic" id="id2">`</span></a>.CTE`またはCommon Table Expressionインスタンスを返します。</p>
<p>共通テーブル式はSQL標準であり、SELECTステートメントは&amp;quot;WITH &amp;quot;という句を使用してプライマリステートメントとともに指定された2次ステートメントを引き出すことができます。 SELECT文が以前に選択された行のセットを引き出すことができる「再帰的な」問合せを可能にするために、UNIONに関する特別なセマンティクスを使用することもできます。</p>
<p>CTEは、RTEURNINGと組み合わされたときのCTE行のソースとしても、CTE行のコンシューマとしても、一部のデータベースのDML構成UPDATE、INSERTおよびDELETEに適用できます。</p>
<p>SQLAlchemyは、：class： <cite>.Alias`オブジェクトと同様に扱われる：class：</cite> .CTE`オブジェクトを検出します。これは、文のFROM句にも、ステートメント。</p>
<div class="versionchanged">
<p><span class="versionmodified">バージョン 1.1 で変更: </span>CTEとしてUPDATE / INSERT / DELETE、UPDATE / INSERT / DELETEにCTEが追加されました。</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">パラメータ:</th><td class="field-body"><ul class="first last simple">
<li><span class="target" id="sqlalchemy.sql.expression.Update.cte.params.name"></span><strong>name</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.Update.cte.params.name">¶</a> -- 共通テーブル式に与えられた名前。 ：meth： <cite>._FromClause.alias`のように、名前は</cite> <a href="#id1"><span class="problematic" id="id2">`</span></a>None``のままにすることができます。この場合、クエリコンパイル時に匿名シンボルが使用されます。</li>
<li><span class="target" id="sqlalchemy.sql.expression.Update.cte.params.recursive"></span><strong>recursive</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.Update.cte.params.recursive">¶</a> -- `` True``なら `` WITH RECURSIVE``を返します。再帰的共通表式は、既に選択されている行から行を派生させるために、UNION ALLと一緒に使用することを意図しています。</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>次の例には、PostgreSQLのドキュメント（<a class="reference external" href="http://www.postgresql.org/docs/current/static/queries-with.html">http://www.postgresql.org/docs/current/static/queries-with.html</a>）の2つの例と追加の例が含まれています。</p>
<p>例1、非再帰:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">sqlalchemy</span> <span class="k">import</span> <span class="p">(</span><span class="n">Table</span><span class="p">,</span> <span class="n">Column</span><span class="p">,</span> <span class="n">String</span><span class="p">,</span> <span class="n">Integer</span><span class="p">,</span>
                        <span class="n">MetaData</span><span class="p">,</span> <span class="n">select</span><span class="p">,</span> <span class="n">func</span><span class="p">)</span>

<span class="n">metadata</span> <span class="o">=</span> <span class="n">MetaData</span><span class="p">()</span>

<span class="n">orders</span> <span class="o">=</span> <span class="n">Table</span><span class="p">(</span><span class="s1">&#39;orders&#39;</span><span class="p">,</span> <span class="n">metadata</span><span class="p">,</span>
    <span class="n">Column</span><span class="p">(</span><span class="s1">&#39;region&#39;</span><span class="p">,</span> <span class="n">String</span><span class="p">),</span>
    <span class="n">Column</span><span class="p">(</span><span class="s1">&#39;amount&#39;</span><span class="p">,</span> <span class="n">Integer</span><span class="p">),</span>
    <span class="n">Column</span><span class="p">(</span><span class="s1">&#39;product&#39;</span><span class="p">,</span> <span class="n">String</span><span class="p">),</span>
    <span class="n">Column</span><span class="p">(</span><span class="s1">&#39;quantity&#39;</span><span class="p">,</span> <span class="n">Integer</span><span class="p">)</span>
<span class="p">)</span>

<span class="n">regional_sales</span> <span class="o">=</span> <span class="n">select</span><span class="p">([</span>
                    <span class="n">orders</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">region</span><span class="p">,</span>
                    <span class="n">func</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">orders</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">amount</span><span class="p">)</span><span class="o">.</span><span class="n">label</span><span class="p">(</span><span class="s1">&#39;total_sales&#39;</span><span class="p">)</span>
                <span class="p">])</span><span class="o">.</span><span class="n">group_by</span><span class="p">(</span><span class="n">orders</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">region</span><span class="p">)</span><span class="o">.</span><span class="n">cte</span><span class="p">(</span><span class="s2">&quot;regional_sales&quot;</span><span class="p">)</span>


<span class="n">top_regions</span> <span class="o">=</span> <span class="n">select</span><span class="p">([</span><span class="n">regional_sales</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">region</span><span class="p">])</span><span class="o">.</span>\
        <span class="n">where</span><span class="p">(</span>
            <span class="n">regional_sales</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">total_sales</span> <span class="o">&gt;</span>
            <span class="n">select</span><span class="p">([</span>
                <span class="n">func</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">regional_sales</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">total_sales</span><span class="p">)</span><span class="o">/</span><span class="mi">10</span>
            <span class="p">])</span>
        <span class="p">)</span><span class="o">.</span><span class="n">cte</span><span class="p">(</span><span class="s2">&quot;top_regions&quot;</span><span class="p">)</span>

<span class="n">statement</span> <span class="o">=</span> <span class="n">select</span><span class="p">([</span>
            <span class="n">orders</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">region</span><span class="p">,</span>
            <span class="n">orders</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">product</span><span class="p">,</span>
            <span class="n">func</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">orders</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">quantity</span><span class="p">)</span><span class="o">.</span><span class="n">label</span><span class="p">(</span><span class="s2">&quot;product_units&quot;</span><span class="p">),</span>
            <span class="n">func</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">orders</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">amount</span><span class="p">)</span><span class="o">.</span><span class="n">label</span><span class="p">(</span><span class="s2">&quot;product_sales&quot;</span><span class="p">)</span>
    <span class="p">])</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">orders</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">region</span><span class="o">.</span><span class="n">in_</span><span class="p">(</span>
        <span class="n">select</span><span class="p">([</span><span class="n">top_regions</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">region</span><span class="p">])</span>
    <span class="p">))</span><span class="o">.</span><span class="n">group_by</span><span class="p">(</span><span class="n">orders</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">region</span><span class="p">,</span> <span class="n">orders</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">product</span><span class="p">)</span>

<span class="n">result</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">statement</span><span class="p">)</span><span class="o">.</span><span class="n">fetchall</span><span class="p">()</span></pre></div>
</div>
<p>例2、RECURSIVE</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">sqlalchemy</span> <span class="k">import</span> <span class="p">(</span><span class="n">Table</span><span class="p">,</span> <span class="n">Column</span><span class="p">,</span> <span class="n">String</span><span class="p">,</span> <span class="n">Integer</span><span class="p">,</span>
                        <span class="n">MetaData</span><span class="p">,</span> <span class="n">select</span><span class="p">,</span> <span class="n">func</span><span class="p">)</span>

<span class="n">metadata</span> <span class="o">=</span> <span class="n">MetaData</span><span class="p">()</span>

<span class="n">parts</span> <span class="o">=</span> <span class="n">Table</span><span class="p">(</span><span class="s1">&#39;parts&#39;</span><span class="p">,</span> <span class="n">metadata</span><span class="p">,</span>
    <span class="n">Column</span><span class="p">(</span><span class="s1">&#39;part&#39;</span><span class="p">,</span> <span class="n">String</span><span class="p">),</span>
    <span class="n">Column</span><span class="p">(</span><span class="s1">&#39;sub_part&#39;</span><span class="p">,</span> <span class="n">String</span><span class="p">),</span>
    <span class="n">Column</span><span class="p">(</span><span class="s1">&#39;quantity&#39;</span><span class="p">,</span> <span class="n">Integer</span><span class="p">),</span>
<span class="p">)</span>

<span class="n">included_parts</span> <span class="o">=</span> <span class="n">select</span><span class="p">([</span>
                    <span class="n">parts</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">sub_part</span><span class="p">,</span>
                    <span class="n">parts</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">part</span><span class="p">,</span>
                    <span class="n">parts</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">quantity</span><span class="p">])</span><span class="o">.</span>\
                    <span class="n">where</span><span class="p">(</span><span class="n">parts</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">part</span><span class="o">==</span><span class="s1">&#39;our part&#39;</span><span class="p">)</span><span class="o">.</span>\
                    <span class="n">cte</span><span class="p">(</span><span class="n">recursive</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>


<span class="n">incl_alias</span> <span class="o">=</span> <span class="n">included_parts</span><span class="o">.</span><span class="n">alias</span><span class="p">()</span>
<span class="n">parts_alias</span> <span class="o">=</span> <span class="n">parts</span><span class="o">.</span><span class="n">alias</span><span class="p">()</span>
<span class="n">included_parts</span> <span class="o">=</span> <span class="n">included_parts</span><span class="o">.</span><span class="n">union_all</span><span class="p">(</span>
    <span class="n">select</span><span class="p">([</span>
        <span class="n">parts_alias</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">sub_part</span><span class="p">,</span>
        <span class="n">parts_alias</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">part</span><span class="p">,</span>
        <span class="n">parts_alias</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">quantity</span>
    <span class="p">])</span><span class="o">.</span>
        <span class="n">where</span><span class="p">(</span><span class="n">parts_alias</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">part</span><span class="o">==</span><span class="n">incl_alias</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">sub_part</span><span class="p">)</span>
<span class="p">)</span>

<span class="n">statement</span> <span class="o">=</span> <span class="n">select</span><span class="p">([</span>
            <span class="n">included_parts</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">sub_part</span><span class="p">,</span>
            <span class="n">func</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">included_parts</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">quantity</span><span class="p">)</span><span class="o">.</span>
              <span class="n">label</span><span class="p">(</span><span class="s1">&#39;total_quantity&#39;</span><span class="p">)</span>
        <span class="p">])</span><span class="o">.</span>\
        <span class="n">group_by</span><span class="p">(</span><span class="n">included_parts</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">sub_part</span><span class="p">)</span>

<span class="n">result</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">statement</span><span class="p">)</span><span class="o">.</span><span class="n">fetchall</span><span class="p">()</span></pre></div>
</div>
<p>例3、CTEでのUPDATEとINSERTを使用するアップサンプリング:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">datetime</span> <span class="k">import</span> <span class="n">date</span>
<span class="kn">from</span> <span class="nn">sqlalchemy</span> <span class="k">import</span> <span class="p">(</span><span class="n">MetaData</span><span class="p">,</span> <span class="n">Table</span><span class="p">,</span> <span class="n">Column</span><span class="p">,</span> <span class="n">Integer</span><span class="p">,</span>
                        <span class="n">Date</span><span class="p">,</span> <span class="n">select</span><span class="p">,</span> <span class="n">literal</span><span class="p">,</span> <span class="n">and_</span><span class="p">,</span> <span class="n">exists</span><span class="p">)</span>

<span class="n">metadata</span> <span class="o">=</span> <span class="n">MetaData</span><span class="p">()</span>

<span class="n">visitors</span> <span class="o">=</span> <span class="n">Table</span><span class="p">(</span><span class="s1">&#39;visitors&#39;</span><span class="p">,</span> <span class="n">metadata</span><span class="p">,</span>
    <span class="n">Column</span><span class="p">(</span><span class="s1">&#39;product_id&#39;</span><span class="p">,</span> <span class="n">Integer</span><span class="p">,</span> <span class="n">primary_key</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span>
    <span class="n">Column</span><span class="p">(</span><span class="s1">&#39;date&#39;</span><span class="p">,</span> <span class="n">Date</span><span class="p">,</span> <span class="n">primary_key</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span>
    <span class="n">Column</span><span class="p">(</span><span class="s1">&#39;count&#39;</span><span class="p">,</span> <span class="n">Integer</span><span class="p">),</span>
<span class="p">)</span>

<span class="c1"># add 5 visitors for the product_id == 1</span>
<span class="n">product_id</span> <span class="o">=</span> <span class="mi">1</span>
<span class="n">day</span> <span class="o">=</span> <span class="n">date</span><span class="o">.</span><span class="n">today</span><span class="p">()</span>
<span class="n">count</span> <span class="o">=</span> <span class="mi">5</span>

<span class="n">update_cte</span> <span class="o">=</span> <span class="p">(</span>
    <span class="n">visitors</span><span class="o">.</span><span class="n">update</span><span class="p">()</span>
    <span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">and_</span><span class="p">(</span><span class="n">visitors</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">product_id</span> <span class="o">==</span> <span class="n">product_id</span><span class="p">,</span>
                <span class="n">visitors</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">date</span> <span class="o">==</span> <span class="n">day</span><span class="p">))</span>
    <span class="o">.</span><span class="n">values</span><span class="p">(</span><span class="n">count</span><span class="o">=</span><span class="n">visitors</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">count</span> <span class="o">+</span> <span class="n">count</span><span class="p">)</span>
    <span class="o">.</span><span class="n">returning</span><span class="p">(</span><span class="n">literal</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span>
    <span class="o">.</span><span class="n">cte</span><span class="p">(</span><span class="s1">&#39;update_cte&#39;</span><span class="p">)</span>
<span class="p">)</span>

<span class="n">upsert</span> <span class="o">=</span> <span class="n">visitors</span><span class="o">.</span><span class="n">insert</span><span class="p">()</span><span class="o">.</span><span class="n">from_select</span><span class="p">(</span>
    <span class="p">[</span><span class="n">visitors</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">product_id</span><span class="p">,</span> <span class="n">visitors</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">date</span><span class="p">,</span> <span class="n">visitors</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">count</span><span class="p">],</span>
    <span class="n">select</span><span class="p">([</span><span class="n">literal</span><span class="p">(</span><span class="n">product_id</span><span class="p">),</span> <span class="n">literal</span><span class="p">(</span><span class="n">day</span><span class="p">),</span> <span class="n">literal</span><span class="p">(</span><span class="n">count</span><span class="p">)])</span>
        <span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="o">~</span><span class="n">exists</span><span class="p">(</span><span class="n">update_cte</span><span class="o">.</span><span class="n">select</span><span class="p">()))</span>
<span class="p">)</span>

<span class="n">connection</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">upsert</span><span class="p">)</span></pre></div>
</div>
<div class="admonition seealso">
<p class="first admonition-title">参考</p>
<p class="last">：meth： <cite>.orm.query.Query.cte</cite>  -  ORM版の：meth：` .HasCTE.cte`。</p>
</div>
</dd></dl>

<dl class="attribute">
<dt id="sqlalchemy.sql.expression.Update.dialect_kwargs">
<code class="descname">dialect_kwargs</code><a class="headerlink" href="#sqlalchemy.sql.expression.Update.dialect_kwargs" title="この定義へのパーマリンク">¶</a></dt>
<dd><div class="inherited-member docutils container">
<em>inherited from the</em> <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.base.DialectKWArgs.dialect_kwargs" title="sqlalchemy.sql.base.DialectKWArgs.dialect_kwargs"><code class="xref py py-attr docutils literal notranslate"><span class="pre">dialect_kwargs</span></code></a> <em>attribute of</em> <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.base.DialectKWArgs" title="sqlalchemy.sql.base.DialectKWArgs"><code class="xref py py-class docutils literal notranslate"><span class="pre">DialectKWArgs</span></code></a></div>
<p>この構文に対してダイアレクト固有のオプションとして指定されたキーワード引数の集合。</p>
<p>これらの議論は、 &lt;dialect&gt; _ &lt;kwarg&gt; <a href="#id1"><span class="problematic" id="id2">``</span></a>フォーマット。実際に渡された引数のみが含まれます。 ：attr： <a href="#id3"><span class="problematic" id="id4">`</span></a>.DialectKWArgs.dialect_options`コレクションと異なり、デフォルトを含むこの方言で知られているすべてのオプションが含まれています。</p>
<p>コレクションは書き込み可能です。キーは `` &lt;dialect&gt; _ &lt;kwarg&gt; <a href="#id1"><span class="problematic" id="id2">``</span></a>は値がオプションのリストに集められる場所です。</p>
<div class="versionadded">
<p><span class="versionmodified">バージョン 0.9.2 で追加.</span></p>
</div>
<div class="versionchanged">
<p><span class="versionmodified">バージョン 0.9.4 で変更: </span>：attr： <a href="#id1"><span class="problematic" id="id2">`</span></a>.DialectKWArgs.dialect_kwargs`コレクションが書き込み可能になりました。</p>
</div>
<div class="admonition seealso">
<p class="first admonition-title">参考</p>
<p class="last">：attr： <cite>.DialectKWArgs.dialect_options</cite>  - ネストされた辞書形式</p>
</div>
</dd></dl>

<dl class="attribute">
<dt id="sqlalchemy.sql.expression.Update.dialect_options">
<code class="descname">dialect_options</code><a class="headerlink" href="#sqlalchemy.sql.expression.Update.dialect_options" title="この定義へのパーマリンク">¶</a></dt>
<dd><div class="inherited-member docutils container">
<em>inherited from the</em> <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.base.DialectKWArgs.dialect_options" title="sqlalchemy.sql.base.DialectKWArgs.dialect_options"><code class="xref py py-attr docutils literal notranslate"><span class="pre">dialect_options</span></code></a> <em>attribute of</em> <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.base.DialectKWArgs" title="sqlalchemy.sql.base.DialectKWArgs"><code class="xref py py-class docutils literal notranslate"><span class="pre">DialectKWArgs</span></code></a></div>
<p>この構文に対してダイアレクト固有のオプションとして指定されたキーワード引数の集合。</p>
<p>これは2レベルのネストされたレジストリで、 `` &lt;dialect_name&gt; <a href="#id1"><span class="problematic" id="id2">``</span></a>と `` &lt;argument_name&gt; <a href="#id3"><span class="problematic" id="id4">``</span></a>。たとえば、 `` postgresql_where``引数は:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">arg</span> <span class="o">=</span> <span class="n">my_object</span><span class="o">.</span><span class="n">dialect_options</span><span class="p">[</span><span class="s1">&#39;postgresql&#39;</span><span class="p">][</span><span class="s1">&#39;where&#39;</span><span class="p">]</span></pre></div>
</div>
<div class="versionadded">
<p><span class="versionmodified">バージョン 0.9.2 で追加.</span></p>
</div>
<div class="admonition seealso">
<p class="first admonition-title">参考</p>
<p class="last">：attr： <cite>.DialectKWArgs.dialect_kwargs</cite>  - フラット辞書形式</p>
</div>
</dd></dl>

<dl class="method">
<dt id="sqlalchemy.sql.expression.Update.execute">
<code class="descname">execute</code><span class="sig-paren">(</span><em>*multiparams</em>, <em>**params</em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.Update.execute" title="この定義へのパーマリンク">¶</a></dt>
<dd><div class="inherited-member docutils container">
<em>inherited from the</em> <a class="reference internal" href="selectable.html#sqlalchemy.sql.expression.Executable.execute" title="sqlalchemy.sql.expression.Executable.execute"><code class="xref py py-meth docutils literal notranslate"><span class="pre">execute()</span></code></a> <em>method of</em> <a class="reference internal" href="selectable.html#sqlalchemy.sql.expression.Executable" title="sqlalchemy.sql.expression.Executable"><code class="xref py py-class docutils literal notranslate"><span class="pre">Executable</span></code></a></div>
<p>これをコンパイルして実行します：class： <cite>.Executable</cite>。</p>
</dd></dl>

<dl class="method">
<dt id="sqlalchemy.sql.expression.Update.execution_options">
<code class="descname">execution_options</code><span class="sig-paren">(</span><em>**kw</em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.Update.execution_options" title="この定義へのパーマリンク">¶</a></dt>
<dd><div class="inherited-member docutils container">
<em>inherited from the</em> <a class="reference internal" href="selectable.html#sqlalchemy.sql.expression.Executable.execution_options" title="sqlalchemy.sql.expression.Executable.execution_options"><code class="xref py py-meth docutils literal notranslate"><span class="pre">execution_options()</span></code></a> <em>method of</em> <a class="reference internal" href="selectable.html#sqlalchemy.sql.expression.Executable" title="sqlalchemy.sql.expression.Executable"><code class="xref py py-class docutils literal notranslate"><span class="pre">Executable</span></code></a></div>
<p>実行中に有効になる文の非SQLオプションを設定します。</p>
<p>実行オプションは、文ごとまたは：class： <cite>.Connection`ベースで設定できます。さらに：class： `.Engine`とORM：class：</cite>〜.orm.query.Query`オブジェクトは実行オプションにアクセスし、実行オプションは接続時に設定します。</p>
<p>：meth： <a href="#id1"><span class="problematic" id="id2">`</span></a>execution_options`メソッドは生成されます。このステートメントの新しいインスタンスが返されます。このインスタンスにはオプション:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">statement</span> <span class="o">=</span> <span class="n">select</span><span class="p">([</span><span class="n">table</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">x</span><span class="p">,</span> <span class="n">table</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">y</span><span class="p">])</span>
<span class="n">statement</span> <span class="o">=</span> <span class="n">statement</span><span class="o">.</span><span class="n">execution_options</span><span class="p">(</span><span class="n">autocommit</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span></pre></div>
</div>
<p>ステートメントには、&amp;quot;自動コミット&amp;quot;と&amp;quot;stream_results &amp;quot;は含めることができますが、&amp;quot;isolation_level &amp;quot;や&amp;quot;compiled_cache &amp;quot;は含めることはできません。可能なオプションの完全なリストについては：meth： <a href="#id1"><span class="problematic" id="id2">`</span></a>.Connection.execution_options`を参照してください。</p>
<div class="admonition seealso">
<p class="first admonition-title">参考</p>
<p>：meth： <cite>.Connection.execution_options（）</cite></p>
<p class="last">：meth： <cite>.Query.execution_options（）</cite></p>
</div>
</dd></dl>

<dl class="method">
<dt id="sqlalchemy.sql.expression.Update.get_children">
<code class="descname">get_children</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.Update.get_children" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>this：class： <a href="#id1"><span class="problematic" id="id2">`</span></a>.ClauseElement`の直接の子要素を返します。</p>
<p>訪問トラバーサルに使用されます。</p>
<p>** kwargsには、返されるコレクションを変更するフラグが含まれている可能性があります。たとえば、より大きなトラバーサルを減らすためにアイテムのサブセットを返すか、別のコンテキスト（たとえば、スキーマレベルのコレクション節レベルの）。</p>
</dd></dl>

<dl class="attribute">
<dt id="sqlalchemy.sql.expression.Update.kwargs">
<code class="descname">kwargs</code><a class="headerlink" href="#sqlalchemy.sql.expression.Update.kwargs" title="この定義へのパーマリンク">¶</a></dt>
<dd><div class="inherited-member docutils container">
<em>inherited from the</em> <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.base.DialectKWArgs.kwargs" title="sqlalchemy.sql.base.DialectKWArgs.kwargs"><code class="xref py py-attr docutils literal notranslate"><span class="pre">kwargs</span></code></a> <em>attribute of</em> <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.base.DialectKWArgs" title="sqlalchemy.sql.base.DialectKWArgs"><code class="xref py py-class docutils literal notranslate"><span class="pre">DialectKWArgs</span></code></a></div>
<p>attr： <a href="#id1"><span class="problematic" id="id2">`</span></a>.DialectKWArgs.dialect_kwargs`の同義語です。</p>
</dd></dl>

<dl class="method">
<dt id="sqlalchemy.sql.expression.Update.params">
<code class="descname">params</code><span class="sig-paren">(</span><em>*arg</em>, <em>**kw</em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.Update.params" title="この定義へのパーマリンク">¶</a></dt>
<dd><div class="inherited-member docutils container">
<em>inherited from the</em> <a class="reference internal" href="#sqlalchemy.sql.expression.UpdateBase.params" title="sqlalchemy.sql.expression.UpdateBase.params"><code class="xref py py-meth docutils literal notranslate"><span class="pre">params()</span></code></a> <em>method of</em> <a class="reference internal" href="#sqlalchemy.sql.expression.UpdateBase" title="sqlalchemy.sql.expression.UpdateBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">UpdateBase</span></code></a></div>
<p>ステートメントのパラメーターを設定します。</p>
<p>このメソッドは、基本クラスで `` NotImplementedError``を発生させ、UPDATEとINSERTのSET / VALUES節を提供するために：class： <a href="#id1"><span class="problematic" id="id2">`</span></a>.ValuesBase`によってオーバーライドされます。</p>
</dd></dl>

<dl class="method">
<dt id="sqlalchemy.sql.expression.Update.prefix_with">
<code class="descname">prefix_with</code><span class="sig-paren">(</span><em>*expr</em>, <em>**kw</em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.Update.prefix_with" title="この定義へのパーマリンク">¶</a></dt>
<dd><div class="inherited-member docutils container">
<em>inherited from the</em> <a class="reference internal" href="selectable.html#sqlalchemy.sql.expression.HasPrefixes.prefix_with" title="sqlalchemy.sql.expression.HasPrefixes.prefix_with"><code class="xref py py-meth docutils literal notranslate"><span class="pre">prefix_with()</span></code></a> <em>method of</em> <a class="reference internal" href="selectable.html#sqlalchemy.sql.expression.HasPrefixes" title="sqlalchemy.sql.expression.HasPrefixes"><code class="xref py py-class docutils literal notranslate"><span class="pre">HasPrefixes</span></code></a></div>
<p>ステートメントキーワードに続く1つ以上の式、つまりSELECT、INSERT、UPDATE、またはDELETEを追加します。 Generative。</p>
<p>これは、MySQLが提供するようなバックエンド固有のプレフィックスキーワードをサポートするために使用されます。</p>
<p>例えば：：</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">stmt</span> <span class="o">=</span> <span class="n">table</span><span class="o">.</span><span class="n">insert</span><span class="p">()</span><span class="o">.</span><span class="n">prefix_with</span><span class="p">(</span><span class="s2">&quot;LOW_PRIORITY&quot;</span><span class="p">,</span> <span class="n">dialect</span><span class="o">=</span><span class="s2">&quot;mysql&quot;</span><span class="p">)</span></pre></div>
</div>
<p>複数の接頭辞は：meth： <a href="#id1"><span class="problematic" id="id2">`</span></a>.prefix_with`を複数回呼び出すことで指定できます。</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">パラメータ:</th><td class="field-body"><ul class="first last simple">
<li><span class="target" id="sqlalchemy.sql.expression.Update.prefix_with.params.*expr"></span><strong>*expr</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.Update.prefix_with.params.*expr">¶</a> -- text：or：class： <a href="#id1"><span class="problematic" id="id2">`</span></a>.ClauseElement`構文で、INSERT、UPDATE、またはDELETEキーワードの後に​​表示されます。</li>
<li><span class="target" id="sqlalchemy.sql.expression.Update.prefix_with.params.**kw"></span><strong>**kw</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.Update.prefix_with.params.**kw">¶</a> -- 単一のキーワード「方言」が受け入れられます。これは省略可能な文字列の名前であり、この接頭辞のその方言へのレンダリングを制限します。</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="sqlalchemy.sql.expression.Update.return_defaults">
<code class="descname">return_defaults</code><span class="sig-paren">(</span><em>*cols</em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.Update.return_defaults" title="この定義へのパーマリンク">¶</a></dt>
<dd><div class="inherited-member docutils container">
<em>inherited from the</em> <a class="reference internal" href="#sqlalchemy.sql.expression.ValuesBase.return_defaults" title="sqlalchemy.sql.expression.ValuesBase.return_defaults"><code class="xref py py-meth docutils literal notranslate"><span class="pre">return_defaults()</span></code></a> <em>method of</em> <a class="reference internal" href="#sqlalchemy.sql.expression.ValuesBase" title="sqlalchemy.sql.expression.ValuesBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">ValuesBase</span></code></a></div>
<p>サーバー側の式とデフォルトを取得するために、：term： <a href="#id1"><span class="problematic" id="id2">`</span></a>RETURNING`節を使用してください。</p>
<p>例えば：：</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">stmt</span> <span class="o">=</span> <span class="n">table</span><span class="o">.</span><span class="n">insert</span><span class="p">()</span><span class="o">.</span><span class="n">values</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="s1">&#39;newdata&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">return_defaults</span><span class="p">()</span>

<span class="n">result</span> <span class="o">=</span> <span class="n">connection</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">stmt</span><span class="p">)</span>

<span class="n">server_created_at</span> <span class="o">=</span> <span class="n">result</span><span class="o">.</span><span class="n">returned_defaults</span><span class="p">[</span><span class="s1">&#39;created_at&#39;</span><span class="p">]</span></pre></div>
</div>
<p>RETURNINGをサポートするバックエンドに対して使用すると、SQL式またはサーバー側のデフォルトによって生成されたすべての列の値は、既存のRETURNING句に追加されます。ただし、：meth： <cite>.UpdateBase.returning`は同時に使用されません。次に、：attr： `.ResultProxy.returned_defaults`アクセサをディクショナリとして使用して、：class：</cite> .Column`オブジェクトとその `` .key``オブジェクトにキー入力された値を参照して、カラム値を結果で利用できます。</p>
<p>このメソッドは、以下の点で：meth： <a href="#id1"><span class="problematic" id="id2">`</span></a>.UpdateBase.returning`と異なります。</p>
<ol class="arabic simple">
<li>：meth： <a href="#id1"><span class="problematic" id="id2">`</span></a>.ValuesBase.return_defaults`は、ちょうど1つの行と一致するINSERT文またはUPDATE文での使用を意図しています。一般的な意味でのRETURNING構文は、複数行のUPDATEまたはDELETE文、または複数の行を返すINSERTの特別な場合（SELECTからのINSERT、複数値のVALUES句）の複数の行をサポートしますが、：meth： <a href="#id3"><span class="problematic" id="id4">`</span></a>.ValuesBase .return_defaults`は&amp;quot;ORMスタイル&amp;quot;の単一行のINSERT / UPDATE文だけを対象としています。ステートメントによって返された行は、：meth： <a href="#id5"><span class="problematic" id="id6">`</span></a>.ValuesBase.return_defaults`が使用されたときに暗黙的に消費されます。対照的に、：meth： <a href="#id7"><span class="problematic" id="id8">`</span></a>.UpdateBase.returning`は、RETURNING結果セットをそのままの数の行のコレクションで残します。</li>
<li>既存のロジックと互換性があり、自動的に生成されたプライマリキー値を取得します。これは&amp;quot;暗黙的な戻り値&amp;quot;とも呼ばれます。 RETURNINGをサポートするバックエンドは、新しく生成された主キーの値を取得するために自動的にRETURNINGを使用します。 ：meth： <cite>.UpdateBase.returning`メソッドはこの動作を回避しますが、：meth：</cite> .ValuesBase.return_defaults`はそのまま残します。</li>
<li>バックエンドに対して呼び出すことができます。 RETURNINGをサポートしていないバックエンドは、例外を発生させるのではなく、その機能の使用をスキップします。 ：attr： <cite>.ResultProxy.returned_defaults`の戻り値は</cite> <a href="#id1"><span class="problematic" id="id2">`</span></a>None``になります。</li>
</ol>
<p>：meth： <cite>.ValuesBase.return_defaults`は：func：</cite> .mapper`の `` eager_defaults``機能の効率的な実装を提供するためにORMによって使用されます。</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">パラメータ:</th><td class="field-body"><span class="target" id="sqlalchemy.sql.expression.Update.return_defaults.params.cols"></span><strong>cols</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.Update.return_defaults.params.cols">¶</a> -- 列キー名または：class： <a href="#id1"><span class="problematic" id="id2">`</span></a>.Column`オブジェクトのオプションリスト。省略すると、サーバー上で評価されたすべての列式が戻りリストに追加されます。</td>
</tr>
</tbody>
</table>
<div class="versionadded">
<p><span class="versionmodified">バージョン 0.9.0 で追加.</span></p>
</div>
<div class="admonition seealso">
<p class="first admonition-title">参考</p>
<p>：meth： <cite>.UpdateBase.returning</cite></p>
<p class="last">：attr： <cite>.ResultProxy.returned_defaults</cite></p>
</div>
</dd></dl>

<dl class="method">
<dt id="sqlalchemy.sql.expression.Update.returning">
<code class="descname">returning</code><span class="sig-paren">(</span><em>*cols</em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.Update.returning" title="この定義へのパーマリンク">¶</a></dt>
<dd><div class="inherited-member docutils container">
<em>inherited from the</em> <a class="reference internal" href="#sqlalchemy.sql.expression.UpdateBase.returning" title="sqlalchemy.sql.expression.UpdateBase.returning"><code class="xref py py-meth docutils literal notranslate"><span class="pre">returning()</span></code></a> <em>method of</em> <a class="reference internal" href="#sqlalchemy.sql.expression.UpdateBase" title="sqlalchemy.sql.expression.UpdateBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">UpdateBase</span></code></a></div>
<p>この文にa：term： <a href="#id1"><span class="problematic" id="id2">`</span></a>RETURNING`または同等の句を追加します。</p>
<p>例えば：：</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">stmt</span> <span class="o">=</span> <span class="n">table</span><span class="o">.</span><span class="n">update</span><span class="p">()</span><span class="o">.</span>\
          <span class="n">where</span><span class="p">(</span><span class="n">table</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">data</span> <span class="o">==</span> <span class="s1">&#39;value&#39;</span><span class="p">)</span><span class="o">.</span>\
          <span class="n">values</span><span class="p">(</span><span class="n">status</span><span class="o">=</span><span class="s1">&#39;X&#39;</span><span class="p">)</span><span class="o">.</span>\
          <span class="n">returning</span><span class="p">(</span><span class="n">table</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">server_flag</span><span class="p">,</span>
                    <span class="n">table</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">updated_timestamp</span><span class="p">)</span>

<span class="k">for</span> <span class="n">server_flag</span><span class="p">,</span> <span class="n">updated_timestamp</span> <span class="ow">in</span> <span class="n">connection</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">stmt</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">server_flag</span><span class="p">,</span> <span class="n">updated_timestamp</span><span class="p">)</span></pre></div>
</div>
<p>指定された列式のコレクションは、INSERT、UPDATEまたはDELETEのターゲットである表から派生する必要があります。 while：class： <a href="#id1"><span class="problematic" id="id2">`</span></a>.Column`オブジェクトは典型的ですが、要素は式でもあります:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">stmt</span> <span class="o">=</span> <span class="n">table</span><span class="o">.</span><span class="n">insert</span><span class="p">()</span><span class="o">.</span><span class="n">returning</span><span class="p">(</span>
    <span class="p">(</span><span class="n">table</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">first_name</span> <span class="o">+</span> <span class="s2">&quot; &quot;</span> <span class="o">+</span> <span class="n">table</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">last_name</span><span class="p">)</span><span class="o">.</span>
    <span class="n">label</span><span class="p">(</span><span class="s1">&#39;fullname&#39;</span><span class="p">))</span></pre></div>
</div>
<p>コンパイル時には、RETURNING句、またはそれに相当するデータベースがステートメント内でレンダリングされます。 INSERTとUPDATEの場合、値は新しく挿入/更新された値です。 DELETEの場合、値は削除された行の値です。</p>
<p>実行時に、返される列の値は結果セットを介して利用可能になり、：meth： <a href="#id1"><span class="problematic" id="id2">`</span></a>.ResultProxy.fetchone`などを使用して反復することができます。戻り値（つまりcx_oracle）をネイティブにサポートしていないDBAPIの場合、SQLAlchemyは結果のレベルでこの動作を近似し、妥当な量の中立性が提供されます。</p>
<p>すべてのデータベース/ DBAPIがRETURNINGをサポートしているわけではないことに注意してください。サポートされていないバックエンドの場合、コンパイルおよび/または実行時に例外が発生します。 executemany（）の制限や複数の行を返すその他のステートメントなど、バックエンドの機能は大きく異なります。 RETURNINGの可用性を判断するには、使用中のデータベースのドキュメントを参照してください。</p>
<div class="admonition seealso">
<p class="first admonition-title">参考</p>
<p class="last">：meth： <cite>.ValuesBase.return_defaults</cite>  - 単一行のINSERTやUPDATEのためのサーバサイドのデフォルトとトリガを効率的にフェッチするための代替メソッドです。</p>
</div>
</dd></dl>

<dl class="method">
<dt id="sqlalchemy.sql.expression.Update.scalar">
<code class="descname">scalar</code><span class="sig-paren">(</span><em>*multiparams</em>, <em>**params</em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.Update.scalar" title="この定義へのパーマリンク">¶</a></dt>
<dd><div class="inherited-member docutils container">
<em>inherited from the</em> <a class="reference internal" href="selectable.html#sqlalchemy.sql.expression.Executable.scalar" title="sqlalchemy.sql.expression.Executable.scalar"><code class="xref py py-meth docutils literal notranslate"><span class="pre">scalar()</span></code></a> <em>method of</em> <a class="reference internal" href="selectable.html#sqlalchemy.sql.expression.Executable" title="sqlalchemy.sql.expression.Executable"><code class="xref py py-class docutils literal notranslate"><span class="pre">Executable</span></code></a></div>
<p>これをコンパイルして実行します：class： <cite>.Executable</cite>、結果のスカラ表現を返します。</p>
</dd></dl>

<dl class="method">
<dt id="sqlalchemy.sql.expression.Update.self_group">
<code class="descname">self_group</code><span class="sig-paren">(</span><em>against=None</em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.Update.self_group" title="この定義へのパーマリンク">¶</a></dt>
<dd><div class="inherited-member docutils container">
<em>inherited from the</em> <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.ClauseElement.self_group" title="sqlalchemy.sql.expression.ClauseElement.self_group"><code class="xref py py-meth docutils literal notranslate"><span class="pre">self_group()</span></code></a> <em>method of</em> <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.ClauseElement" title="sqlalchemy.sql.expression.ClauseElement"><code class="xref py py-class docutils literal notranslate"><span class="pre">ClauseElement</span></code></a></div>
<p>これに &amp;#39;grouping&amp;#39;を適用します：class： <cite>.ClauseElement</cite>。</p>
<p>このメソッドはサブクラスによってオーバーライドされ、&amp;quot;グループ化&amp;quot;構造体、つまり括弧を返します。特に、大規模な式に置かれたときには、自分自身の周りにグループ化を提供するために、&amp;quot;バイナリ&amp;quot;式で使用されます。func： <cite>.select`は、別のFROM句に配置されたときに構築されます。func：</cite> .select <a href="#id1"><span class="problematic" id="id2">`</span></a>。 （サブクエリは、通常は：meth： <a href="#id3"><span class="problematic" id="id4">`</span></a>.Select.alias`メソッドを使用して作成する必要があります。これは、多くのプラットフォームでネストされたSELECT文の名前を付ける必要があるためです）。</p>
<p>式が一緒に構成されるとき、：meth： <cite>self_group`のアプリケーションは自動です - エンドユーザコードはこのメソッドを直接使う必要はありません。 SQLAlchemyの節構文は演算子の優先順位を考慮していることに注意してください。たとえば、 `</cite> x OR（y AND z） <a href="#id1"><span class="problematic" id="id2">``</span></a>のような式のようにかっこは必要ないかもしれません。</p>
<p>base：meth： <cite>self_group`メソッドの：class：</cite> .ClauseElement`はselfを返します。</p>
</dd></dl>

<dl class="method">
<dt id="sqlalchemy.sql.expression.Update.unique_params">
<code class="descname">unique_params</code><span class="sig-paren">(</span><em>*optionaldict</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.Update.unique_params" title="この定義へのパーマリンク">¶</a></dt>
<dd><div class="inherited-member docutils container">
<em>inherited from the</em> <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.ClauseElement.unique_params" title="sqlalchemy.sql.expression.ClauseElement.unique_params"><code class="xref py py-meth docutils literal notranslate"><span class="pre">unique_params()</span></code></a> <em>method of</em> <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.ClauseElement" title="sqlalchemy.sql.expression.ClauseElement"><code class="xref py py-class docutils literal notranslate"><span class="pre">ClauseElement</span></code></a></div>
<p>func： <a href="#id1"><span class="problematic" id="id2">`</span></a>bindparam（）`要素を置き換えてコピーを返します。</p>
<p>複数のステートメントを使用できるように、影響を受けるバインドパラメータに <cite>unique = True`を追加する点を除いて、</cite> <cite>params（）</cite> <a href="#id1"><span class="problematic" id="id2">`</span></a>と同じ機能です。</p>
</dd></dl>

<dl class="method">
<dt id="sqlalchemy.sql.expression.Update.values">
<code class="descname">values</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.Update.values" title="この定義へのパーマリンク">¶</a></dt>
<dd><div class="inherited-member docutils container">
<em>inherited from the</em> <a class="reference internal" href="#sqlalchemy.sql.expression.ValuesBase.values" title="sqlalchemy.sql.expression.ValuesBase.values"><code class="xref py py-meth docutils literal notranslate"><span class="pre">values()</span></code></a> <em>method of</em> <a class="reference internal" href="#sqlalchemy.sql.expression.ValuesBase" title="sqlalchemy.sql.expression.ValuesBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">ValuesBase</span></code></a></div>
<p>INSERT文には固定VALUES句を、UPDATEにはSET句を指定します。</p>
<p>：class： <cite>.Insert`と：class：</cite> .Update`は、：meth： <a href="#id1"><span class="problematic" id="id2">`</span></a>.Connection.execute`に渡された引数に基づいて、VALUESおよび/またはSET節の実行時フォーマットをサポートしています。しかし、：meth： <a href="#id3"><span class="problematic" id="id4">`</span></a>.ValuesBase.values`メソッドは、特定のパラメータセットをステートメントに&amp;quot;修正 &amp;quot;するために使用できます。</p>
<p>：meth： <a href="#id1"><span class="problematic" id="id2">`</span></a>.ValuesBase.values`を複数呼び出すと、送信された新しいパラメータを含むようにパラメータリストが変更された新しい構造が生成されます。パラメータの辞書の典型的な例では、新しく渡されたキーは、前の構造の同じキーを置き換えます。リストベースの&amp;quot;複数値&amp;quot;構成の場合、新しい値リストはそれぞれ、既存の値リストに拡張されます。</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">パラメータ:</th><td class="field-body"><ul class="first last simple">
<li><span class="target" id="sqlalchemy.sql.expression.Update.values.params.**kwargs"></span><strong>**kwargs</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.Update.values.params.**kwargs">¶</a> -- VALUEESまたはSET句:: users.insert（）。values（name = &amp;quot;some name &amp;quot;）ユーザにレンダリングされる値にマッピングされた：class： <a href="#id1"><span class="problematic" id="id2">`</span></a>.Column`の文字列キーを表すキー値ペア。 update（）。ここで（users.c.id == 5）.values（name = &amp;quot;some name &amp;quot;）</li>
<li><span class="target" id="sqlalchemy.sql.expression.Update.values.params.*args"></span><strong>*args</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.Update.values.params.*args">¶</a> -- キー/値パラメーターを渡す代わりに、ステートメントのVALUES節またはSET節を形成するために、辞書、タプル、または辞書またはタプルのリストを単一の位置引数として渡すことができます。受け入れられるフォームは、これが：class： <cite>.Insert`か：class：</cite> .Update`のどちらであるかによって異なります。 ：class： <cite>.Insert`または：class：</cite> .Update`のいずれかの構造体に対しては、kwargs form :: users.insert（）の値と同じ働きをする単一の辞書を渡すことができます。 （名前：&amp;quot;いくつかの新しい名前&amp;quot;））どちらの形式でも、より一般的には：class： <cite>のために。テーブルのすべての列のエントリを含むタプルも受け入れられます:: users.insert（）。values（（5、&amp;quot;some name &amp;quot;））：class： `.Insert`構造サーバ上では、 &amp;quot;多値&amp;quot;というあまり一般的でないSQL構文をレンダリングする、辞書やフルテーブルタプルのリストを渡すことをサポートしています - この構文は、SQLite、PostgreSQL、MySQLなどのバックエンドでサポートされています他人:: users.insert（）。値（[{&amp;quot;名前&amp;quot;：&amp;quot;名前&amp;quot;：&amp;quot;名前&amp;quot;：&amp;quot;他の名前&amp;quot;}上記のフォームは、:: INSERT INTO users（name）VALUES（：name_1）、（：name_2）、（：name_3）と同様の複数のVALUES文をレンダリングします。 **複数の値を渡すことは、従来のexecutemany（）フォーム**を使用するのと同じではないことに注意してください。上記の構文は、通常は使用されない**特別な**構文です。複数の行に対してINSERT文を発行するには、複数の値リストを：meth： `.Connection.execute`メソッドに渡します。これは、すべてのデータベースバックエンドでサポートされています。パラメーター。 .. seealso ::：ref： `execute_multiple</cite>  -  INSERTや他のステートメントに対する複数のパラメータセット呼び出しの伝統的なCoreメソッドの紹介です。 .. versionchanged :: 1.0.0複数のVALUES句を使用するINSERTは、長さが1のリストであっても、：paramref： <cite>.Insert.inline`フラグがTrueに設定されていることを意味します。 &amp;quot;最後に挿入された主キー&amp;quot;または他のデフォルトをフェッチする。ステートメントは任意の数の行を処理するため、：attr： `.ResultProxy.inserted_primary_key`アクセサは適用されません。 .. versionchanged :: 1.0.0 multiple-VALUES INSERTはPython側のデフォルト値と呼び出し可能な列を&amp;quot;executemany &amp;quot;スタイルの呼び出しと同じようにサポートするようになりました。呼び出し可能は各行に対して呼び出されます。その他の詳細は：ref： `bug_3288`を参照してください。 ：class： `.Update`コンストラクトは2タプルのリストである特別な形式をサポートしています。これは：paramref：</cite>〜sqlalchemy.sql.expression.update.preserve_parameter_order`パラメータと一緒に渡す必要があります。この形式では、UPDATE文は、：class： <cite>.Table`で与えられた列の順序ではなく、：meth：</cite> .Update.values`に与えられたパラメータの順序を使用してSET句を表示します。 .. versionadded :: 1.0.10  - ：paramref： <cite>〜sqlalchemy.sql.expression.update.preserve_parameter_order`フラグを介して、パラメータ順のUPDATE文のサポートが追加されました。 .. seealso :: ref： `updates_order_parameters</cite>  - 完全な例：paramref：<a href="#id1"><span class="problematic" id="id2">`</span></a>〜sqlalchemy.sql.expression.update.preserve_parameter_order`フラグ</li>
</ul>
</td>
</tr>
</tbody>
</table>
<div class="admonition seealso">
<p class="first admonition-title">参考</p>
<p>：ref： <cite>inserts_and_updates</cite>  -  SQL式言語チュートリアル</p>
<p>：func： <cite>〜.expression.insert</cite>  - ` <a href="#id1"><span class="problematic" id="id2">`</span></a>INSERT``文を生成します</p>
<p class="last">：func： <cite>〜.expression.update</cite>  - ` <a href="#id1"><span class="problematic" id="id2">`</span></a>UPDATE``文を生成します</p>
</div>
</dd></dl>

<dl class="method">
<dt id="sqlalchemy.sql.expression.Update.where">
<code class="descname">where</code><span class="sig-paren">(</span><em>whereclause</em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.Update.where" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>指定された式をWHERE句に追加して新しいupdate（）構文を返し、存在する場合はANDを介して既存の句に結合します。</p>
</dd></dl>

<dl class="method">
<dt id="sqlalchemy.sql.expression.Update.with_hint">
<code class="descname">with_hint</code><span class="sig-paren">(</span><em>text</em>, <em>selectable=None</em>, <em>dialect_name='*'</em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.Update.with_hint" title="この定義へのパーマリンク">¶</a></dt>
<dd><div class="inherited-member docutils container">
<em>inherited from the</em> <a class="reference internal" href="#sqlalchemy.sql.expression.UpdateBase.with_hint" title="sqlalchemy.sql.expression.UpdateBase.with_hint"><code class="xref py py-meth docutils literal notranslate"><span class="pre">with_hint()</span></code></a> <em>method of</em> <a class="reference internal" href="#sqlalchemy.sql.expression.UpdateBase" title="sqlalchemy.sql.expression.UpdateBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">UpdateBase</span></code></a></div>
<p>このINSERT / UPDATE / DELETEステートメントに単一テーブルのテーブルヒントを追加します。</p>
<div class="admonition note">
<p class="first admonition-title">注釈</p>
<p class="last">：meth： <a href="#id1"><span class="problematic" id="id2">`</span></a>.UpdateBase.with_hint`は現在、Microsoft SQL Serverにのみ適用されます。 MySQLのINSERT / UPDATE / DELETEヒントについては、：meth： <a href="#id3"><span class="problematic" id="id4">`</span></a>.UpdateBase.prefix_with`を使用してください。</p>
</div>
<p>ヒントのテキストは、使用中のデータベースバックエンドの適切な場所にレンダリングされます。これは、このステートメントの主題である：class： <cite>.Table`を基準にして、または任意で：class：</cite> .Table` `` selectable``引数として渡されました。</p>
<p>`` dialect_name``オプションは、特定のヒントを特定のバックエンドにレンダリングすることを制限します。のような、SQL Serverにのみ有効なヒントを追加する:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">mytable</span><span class="o">.</span><span class="n">insert</span><span class="p">()</span><span class="o">.</span><span class="n">with_hint</span><span class="p">(</span><span class="s2">&quot;WITH (PAGLOCK)&quot;</span><span class="p">,</span> <span class="n">dialect_name</span><span class="o">=</span><span class="s2">&quot;mssql&quot;</span><span class="p">)</span></pre></div>
</div>
<div class="versionadded">
<p><span class="versionmodified">バージョン 0.7.6 で追加.</span></p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">パラメータ:</th><td class="field-body"><ul class="first last simple">
<li><span class="target" id="sqlalchemy.sql.expression.Update.with_hint.params.text"></span><strong>text</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.Update.with_hint.params.text">¶</a> -- ヒントのテキスト。</li>
<li><span class="target" id="sqlalchemy.sql.expression.Update.with_hint.params.selectable"></span><strong>selectable</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.Update.with_hint.params.selectable">¶</a> -- オプション：クラス：ヒントの対象となるUPDATEまたはDELETE内のFROM句の要素を指定する <cite>.Table</cite>  - 特定のバックエンドのみに適用されます。</li>
<li><span class="target" id="sqlalchemy.sql.expression.Update.with_hint.params.dialect_name"></span><strong>dialect_name</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.Update.with_hint.params.dialect_name">¶</a> -- デフォルトで `` * <a href="#id1"><span class="problematic" id="id2">``</span></a>は、特定の方言の名前として指定された場合、その方言が使用されている場合にのみ、これらのヒントを適用します。</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="sqlalchemy.sql.expression.UpdateBase">
<em class="property">class </em><code class="descclassname">sqlalchemy.sql.expression.</code><code class="descname">UpdateBase</code><a class="headerlink" href="#sqlalchemy.sql.expression.UpdateBase" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="selectable.html#sqlalchemy.sql.expression.HasCTE" title="sqlalchemy.sql.expression.HasCTE"><code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.HasCTE</span></code></a>, <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.base.DialectKWArgs" title="sqlalchemy.sql.base.DialectKWArgs"><code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.sql.base.DialectKWArgs</span></code></a>, <a class="reference internal" href="selectable.html#sqlalchemy.sql.expression.HasPrefixes" title="sqlalchemy.sql.expression.HasPrefixes"><code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.HasPrefixes</span></code></a>, <a class="reference internal" href="selectable.html#sqlalchemy.sql.expression.Executable" title="sqlalchemy.sql.expression.Executable"><code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.Executable</span></code></a>, <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.ClauseElement" title="sqlalchemy.sql.expression.ClauseElement"><code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.ClauseElement</span></code></a></p>
<p>`` INSERT``、 `` UPDATE``、および `` DELETE``文の基底を形成します。</p>
<dl class="attribute">
<dt id="sqlalchemy.sql.expression.UpdateBase.__eq__">
<code class="descname">__eq__</code><a class="headerlink" href="#sqlalchemy.sql.expression.UpdateBase.__eq__" title="この定義へのパーマリンク">¶</a></dt>
<dd><div class="inherited-member docutils container">
<em>inherited from the</em> <code class="xref py py-attr docutils literal notranslate"><span class="pre">__eq__</span></code> <em>attribute of</em> <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></div>
<p>Return self==value.</p>
</dd></dl>

<dl class="attribute">
<dt id="sqlalchemy.sql.expression.UpdateBase.__init__">
<code class="descname">__init__</code><a class="headerlink" href="#sqlalchemy.sql.expression.UpdateBase.__init__" title="この定義へのパーマリンク">¶</a></dt>
<dd><div class="inherited-member docutils container">
<em>inherited from the</em> <code class="xref py py-attr docutils literal notranslate"><span class="pre">__init__</span></code> <em>attribute of</em> <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></div>
<p>Initialize self.  See help(type(self)) for accurate signature.</p>
</dd></dl>

<dl class="attribute">
<dt id="sqlalchemy.sql.expression.UpdateBase.__le__">
<code class="descname">__le__</code><a class="headerlink" href="#sqlalchemy.sql.expression.UpdateBase.__le__" title="この定義へのパーマリンク">¶</a></dt>
<dd><div class="inherited-member docutils container">
<em>inherited from the</em> <code class="xref py py-attr docutils literal notranslate"><span class="pre">__le__</span></code> <em>attribute of</em> <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></div>
<p>Return self&lt;=value.</p>
</dd></dl>

<dl class="attribute">
<dt id="sqlalchemy.sql.expression.UpdateBase.__lt__">
<code class="descname">__lt__</code><a class="headerlink" href="#sqlalchemy.sql.expression.UpdateBase.__lt__" title="この定義へのパーマリンク">¶</a></dt>
<dd><div class="inherited-member docutils container">
<em>inherited from the</em> <code class="xref py py-attr docutils literal notranslate"><span class="pre">__lt__</span></code> <em>attribute of</em> <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></div>
<p>Return self&lt;value.</p>
</dd></dl>

<dl class="attribute">
<dt id="sqlalchemy.sql.expression.UpdateBase.__ne__">
<code class="descname">__ne__</code><a class="headerlink" href="#sqlalchemy.sql.expression.UpdateBase.__ne__" title="この定義へのパーマリンク">¶</a></dt>
<dd><div class="inherited-member docutils container">
<em>inherited from the</em> <code class="xref py py-attr docutils literal notranslate"><span class="pre">__ne__</span></code> <em>attribute of</em> <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></div>
<p>Return self!=value.</p>
</dd></dl>

<dl class="classmethod">
<dt id="sqlalchemy.sql.expression.UpdateBase.argument_for">
<em class="property">classmethod </em><code class="descname">argument_for</code><span class="sig-paren">(</span><em>dialect_name</em>, <em>argument_name</em>, <em>default</em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.UpdateBase.argument_for" title="この定義へのパーマリンク">¶</a></dt>
<dd><div class="inherited-member docutils container">
<em>inherited from the</em> <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.base.DialectKWArgs.argument_for" title="sqlalchemy.sql.base.DialectKWArgs.argument_for"><code class="xref py py-meth docutils literal notranslate"><span class="pre">argument_for()</span></code></a> <em>method of</em> <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.base.DialectKWArgs" title="sqlalchemy.sql.base.DialectKWArgs"><code class="xref py py-class docutils literal notranslate"><span class="pre">DialectKWArgs</span></code></a></div>
<p>このクラスの新しい種類の方言固有のキーワード引数を追加します。</p>
<p>例えば：：</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Index</span><span class="o">.</span><span class="n">argument_for</span><span class="p">(</span><span class="s2">&quot;mydialect&quot;</span><span class="p">,</span> <span class="s2">&quot;length&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>

<span class="n">some_index</span> <span class="o">=</span> <span class="n">Index</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="n">mydialect_length</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span></pre></div>
</div>
<p>：meth： <cite>.DialectKWArgs.argument_for`メソッドは：attr：</cite> .DefaultDialect.construct_arguments`ディクショナリに余分な引数を追加する引数ごとの方法です。この辞書は、方言に代わってさまざまなスキーマレベルの構造によって受け入れられる引数名のリストを提供します。</p>
<p>新しい方言は通常、この辞書を一度に方言クラスのデータメンバーとして指定する必要があります。引数名のアドホックな追加のユースケースは、通常、追加の引数を消費するカスタムコンパイルスキームも使用するエンドユーザーコード用です。</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">パラメータ:</th><td class="field-body"><ul class="first last simple">
<li><span class="target" id="sqlalchemy.sql.expression.UpdateBase.argument_for.params.dialect_name"></span><strong>dialect_name</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.UpdateBase.argument_for.params.dialect_name">¶</a> -- 方言の名前。方言はlocatableでなければなりません。さもなければ：class： <cite>.NoSuchModuleError`が送出されます。ダイアレクトには、既存の：attr： `.DefaultDialect.construct_arguments`コレクションも含まれていなければなりません。これはキーワード引数の検証とデフォルトシステムに参加していることを示します。それ以外の場合は：class：</cite> .ArgumentError`が送出されます。方言にこのコレクションが含まれていない場合は、既にこの方言の代わりにキーワード引数を指定できます。 SQLAlchemy内にパッケージ化されたすべての方言にはこのコレクションが含まれていますが、サードパーティの方言ではサポートが異なる場合があります。</li>
<li><span class="target" id="sqlalchemy.sql.expression.UpdateBase.argument_for.params.argument_name"></span><strong>argument_name</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.UpdateBase.argument_for.params.argument_name">¶</a> -- パラメータの名前。</li>
<li><span class="target" id="sqlalchemy.sql.expression.UpdateBase.argument_for.params.default"></span><strong>default</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.UpdateBase.argument_for.params.default">¶</a> -- パラメータのデフォルト値。</li>
</ul>
</td>
</tr>
</tbody>
</table>
<div class="versionadded">
<p><span class="versionmodified">バージョン 0.9.4 で追加.</span></p>
</div>
</dd></dl>

<dl class="attribute">
<dt id="sqlalchemy.sql.expression.UpdateBase.bind">
<code class="descname">bind</code><a class="headerlink" href="#sqlalchemy.sql.expression.UpdateBase.bind" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>this：class： <cite>.UpdateBase`またはそれに関連するa：class：</cite> .Table`にリンクされた &amp;#39;bind&amp;#39;を返します。</p>
</dd></dl>

<dl class="method">
<dt id="sqlalchemy.sql.expression.UpdateBase.compare">
<code class="descname">compare</code><span class="sig-paren">(</span><em>other</em>, <em>**kw</em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.UpdateBase.compare" title="この定義へのパーマリンク">¶</a></dt>
<dd><div class="inherited-member docutils container">
<em>inherited from the</em> <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.ClauseElement.compare" title="sqlalchemy.sql.expression.ClauseElement.compare"><code class="xref py py-meth docutils literal notranslate"><span class="pre">compare()</span></code></a> <em>method of</em> <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.ClauseElement" title="sqlalchemy.sql.expression.ClauseElement"><code class="xref py py-class docutils literal notranslate"><span class="pre">ClauseElement</span></code></a></div>
<p>このClauseElementと指定されたClauseElementを比較します。</p>
<p>サブクラスはデフォルトの動作を上書きする必要があります。</p>
<p>** kwは、サブクラスのcompare（）メソッドによって消費される引数であり、比較の基準を変更するために使用されます。 （：class： <a href="#id1"><span class="problematic" id="id2">`</span></a>.ColumnElement`を参照してください）</p>
</dd></dl>

<dl class="method">
<dt id="sqlalchemy.sql.expression.UpdateBase.compile">
<code class="descname">compile</code><span class="sig-paren">(</span><em>default</em>, <em>bind=None</em>, <em>dialect=None</em>, <em>**kw</em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.UpdateBase.compile" title="この定義へのパーマリンク">¶</a></dt>
<dd><div class="inherited-member docutils container">
<em>inherited from the</em> <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.ClauseElement.compile" title="sqlalchemy.sql.expression.ClauseElement.compile"><code class="xref py py-meth docutils literal notranslate"><span class="pre">compile()</span></code></a> <em>method of</em> <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.ClauseElement" title="sqlalchemy.sql.expression.ClauseElement"><code class="xref py py-class docutils literal notranslate"><span class="pre">ClauseElement</span></code></a></div>
<p>このSQL式をコンパイルします。</p>
<p>戻り値は：class： <cite>〜.Compiled`オブジェクトです。返された値に対して `</cite> str（） <a href="#id1"><span class="problematic" id="id2">``</span></a>または `` unicode（） <a href="#id3"><span class="problematic" id="id4">``</span></a>を呼び出すと結果の文字列表現が返されます。 ：class： <cite>〜.Compiled`オブジェクトは、</cite> <a href="#id5"><span class="problematic" id="id6">`</span></a>params``アクセサを使ってバインドパラメータの名前と値の辞書を返すこともできます。</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">パラメータ:</th><td class="field-body"><ul class="first last simple">
<li><span class="target" id="sqlalchemy.sql.expression.UpdateBase.compile.params.bind"></span><strong>bind</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.UpdateBase.compile.params.bind">¶</a> -- `` Engine``または `` Connection``から `` Compiled``を取得します。この引数はこれよりも優先されます：class： <a href="#id1"><span class="problematic" id="id2">`</span></a>.ClauseElement`のバウンドエンジン（もしあれば）。</li>
<li><span class="target" id="sqlalchemy.sql.expression.UpdateBase.compile.params.column_keys"></span><strong>column_keys</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.UpdateBase.compile.params.column_keys">¶</a> -- INSERTおよびUPDATEステートメントに使用され、コンパイルされたステートメントのVALUES節に存在する列名のリスト。 `` None``の場合、ターゲットテーブルオブジェクトのすべての列がレンダリングされます。</li>
<li><span class="target" id="sqlalchemy.sql.expression.UpdateBase.compile.params.dialect"></span><strong>dialect</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.UpdateBase.compile.params.dialect">¶</a> -- `` Dialect``インスタンスで、 `` Compiled``を取得します。この引数は、 <cite>bind`引数だけでなく、class：</cite> .ClauseElement`のバウンドエンジン（存在する場合）も優先します。</li>
<li><span class="target" id="sqlalchemy.sql.expression.UpdateBase.compile.params.inline"></span><strong>inline</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.UpdateBase.compile.params.inline">¶</a> -- 新しく生成された主キー列のインライン検索をサポートしていない方言のINSERTステートメントでは、INSERTステートメントのVALUES句内で新しい主キー値の作成式を強制的にインラインで表示します。これは、通常、シーケンスの実行を参照するが、主キー「列」に関連付けられた任意のサーバー側デフォルト生成関数を参照することもできる。</li>
<li><span class="target" id="sqlalchemy.sql.expression.UpdateBase.compile.params.compile_kwargs"></span><strong>compile_kwargs</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.UpdateBase.compile.params.compile_kwargs">¶</a> -- すべての&amp;quot;visit &amp;quot;メソッド内でコンパイラに渡される追加パラメータのオプション辞書。これにより、任意のカスタムフラグをカスタムコンパイル構成に渡すことができます。また、 `` literal_binds``フラグを:: sqlalchemy.sqlから渡す場合にも使用されます。import table、column、select t = table（ &amp;#39;t&amp;#39;、column（ &amp;#39;x&amp;#39;））s = select（[t ]））。ここで、（tcx == 5）は、s.compile（compile_kwargs = {&amp;quot;literal_binds &amp;quot;：True）を出力します）.. versionadded :: 0.9.0</li>
</ul>
</td>
</tr>
</tbody>
</table>
<div class="admonition seealso">
<p class="first admonition-title">参考</p>
<p class="last">：ref： <cite>faq_sql_expression_string</cite></p>
</div>
</dd></dl>

<dl class="method">
<dt id="sqlalchemy.sql.expression.UpdateBase.cte">
<code class="descname">cte</code><span class="sig-paren">(</span><em>name=None</em>, <em>recursive=False</em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.UpdateBase.cte" title="この定義へのパーマリンク">¶</a></dt>
<dd><div class="inherited-member docutils container">
<em>inherited from the</em> <a class="reference internal" href="selectable.html#sqlalchemy.sql.expression.HasCTE.cte" title="sqlalchemy.sql.expression.HasCTE.cte"><code class="xref py py-meth docutils literal notranslate"><span class="pre">cte()</span></code></a> <em>method of</em> <a class="reference internal" href="selectable.html#sqlalchemy.sql.expression.HasCTE" title="sqlalchemy.sql.expression.HasCTE"><code class="xref py py-class docutils literal notranslate"><span class="pre">HasCTE</span></code></a></div>
<p>新しい：class： <a href="#id1"><span class="problematic" id="id2">`</span></a>.CTE`またはCommon Table Expressionインスタンスを返します。</p>
<p>共通テーブル式はSQL標準であり、SELECTステートメントは&amp;quot;WITH &amp;quot;という句を使用してプライマリステートメントとともに指定された2次ステートメントを引き出すことができます。 SELECT文が以前に選択された行のセットを引き出すことができる「再帰的な」問合せを可能にするために、UNIONに関する特別なセマンティクスを使用することもできます。</p>
<p>CTEは、RTEURNINGと組み合わされたときのCTE行のソースとしても、CTE行のコンシューマとしても、一部のデータベースのDML構成UPDATE、INSERTおよびDELETEに適用できます。</p>
<p>SQLAlchemyは、：class： <cite>.Alias`オブジェクトと同様に扱われる：class：</cite> .CTE`オブジェクトを検出します。これは、文のFROM句にも、ステートメント。</p>
<div class="versionchanged">
<p><span class="versionmodified">バージョン 1.1 で変更: </span>CTEとしてUPDATE / INSERT / DELETE、UPDATE / INSERT / DELETEにCTEが追加されました。</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">パラメータ:</th><td class="field-body"><ul class="first last simple">
<li><span class="target" id="sqlalchemy.sql.expression.UpdateBase.cte.params.name"></span><strong>name</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.UpdateBase.cte.params.name">¶</a> -- 共通テーブル式に与えられた名前。 ：meth： <cite>._FromClause.alias`のように、名前は</cite> <a href="#id1"><span class="problematic" id="id2">`</span></a>None``のままにすることができます。この場合、クエリコンパイル時に匿名シンボルが使用されます。</li>
<li><span class="target" id="sqlalchemy.sql.expression.UpdateBase.cte.params.recursive"></span><strong>recursive</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.UpdateBase.cte.params.recursive">¶</a> -- `` True``なら `` WITH RECURSIVE``を返します。再帰的共通表式は、既に選択されている行から行を派生させるために、UNION ALLと一緒に使用することを意図しています。</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>次の例には、PostgreSQLのドキュメント（<a class="reference external" href="http://www.postgresql.org/docs/current/static/queries-with.html">http://www.postgresql.org/docs/current/static/queries-with.html</a>）の2つの例と追加の例が含まれています。</p>
<p>例1、非再帰:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">sqlalchemy</span> <span class="k">import</span> <span class="p">(</span><span class="n">Table</span><span class="p">,</span> <span class="n">Column</span><span class="p">,</span> <span class="n">String</span><span class="p">,</span> <span class="n">Integer</span><span class="p">,</span>
                        <span class="n">MetaData</span><span class="p">,</span> <span class="n">select</span><span class="p">,</span> <span class="n">func</span><span class="p">)</span>

<span class="n">metadata</span> <span class="o">=</span> <span class="n">MetaData</span><span class="p">()</span>

<span class="n">orders</span> <span class="o">=</span> <span class="n">Table</span><span class="p">(</span><span class="s1">&#39;orders&#39;</span><span class="p">,</span> <span class="n">metadata</span><span class="p">,</span>
    <span class="n">Column</span><span class="p">(</span><span class="s1">&#39;region&#39;</span><span class="p">,</span> <span class="n">String</span><span class="p">),</span>
    <span class="n">Column</span><span class="p">(</span><span class="s1">&#39;amount&#39;</span><span class="p">,</span> <span class="n">Integer</span><span class="p">),</span>
    <span class="n">Column</span><span class="p">(</span><span class="s1">&#39;product&#39;</span><span class="p">,</span> <span class="n">String</span><span class="p">),</span>
    <span class="n">Column</span><span class="p">(</span><span class="s1">&#39;quantity&#39;</span><span class="p">,</span> <span class="n">Integer</span><span class="p">)</span>
<span class="p">)</span>

<span class="n">regional_sales</span> <span class="o">=</span> <span class="n">select</span><span class="p">([</span>
                    <span class="n">orders</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">region</span><span class="p">,</span>
                    <span class="n">func</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">orders</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">amount</span><span class="p">)</span><span class="o">.</span><span class="n">label</span><span class="p">(</span><span class="s1">&#39;total_sales&#39;</span><span class="p">)</span>
                <span class="p">])</span><span class="o">.</span><span class="n">group_by</span><span class="p">(</span><span class="n">orders</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">region</span><span class="p">)</span><span class="o">.</span><span class="n">cte</span><span class="p">(</span><span class="s2">&quot;regional_sales&quot;</span><span class="p">)</span>


<span class="n">top_regions</span> <span class="o">=</span> <span class="n">select</span><span class="p">([</span><span class="n">regional_sales</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">region</span><span class="p">])</span><span class="o">.</span>\
        <span class="n">where</span><span class="p">(</span>
            <span class="n">regional_sales</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">total_sales</span> <span class="o">&gt;</span>
            <span class="n">select</span><span class="p">([</span>
                <span class="n">func</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">regional_sales</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">total_sales</span><span class="p">)</span><span class="o">/</span><span class="mi">10</span>
            <span class="p">])</span>
        <span class="p">)</span><span class="o">.</span><span class="n">cte</span><span class="p">(</span><span class="s2">&quot;top_regions&quot;</span><span class="p">)</span>

<span class="n">statement</span> <span class="o">=</span> <span class="n">select</span><span class="p">([</span>
            <span class="n">orders</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">region</span><span class="p">,</span>
            <span class="n">orders</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">product</span><span class="p">,</span>
            <span class="n">func</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">orders</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">quantity</span><span class="p">)</span><span class="o">.</span><span class="n">label</span><span class="p">(</span><span class="s2">&quot;product_units&quot;</span><span class="p">),</span>
            <span class="n">func</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">orders</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">amount</span><span class="p">)</span><span class="o">.</span><span class="n">label</span><span class="p">(</span><span class="s2">&quot;product_sales&quot;</span><span class="p">)</span>
    <span class="p">])</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">orders</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">region</span><span class="o">.</span><span class="n">in_</span><span class="p">(</span>
        <span class="n">select</span><span class="p">([</span><span class="n">top_regions</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">region</span><span class="p">])</span>
    <span class="p">))</span><span class="o">.</span><span class="n">group_by</span><span class="p">(</span><span class="n">orders</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">region</span><span class="p">,</span> <span class="n">orders</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">product</span><span class="p">)</span>

<span class="n">result</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">statement</span><span class="p">)</span><span class="o">.</span><span class="n">fetchall</span><span class="p">()</span></pre></div>
</div>
<p>例2、RECURSIVE</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">sqlalchemy</span> <span class="k">import</span> <span class="p">(</span><span class="n">Table</span><span class="p">,</span> <span class="n">Column</span><span class="p">,</span> <span class="n">String</span><span class="p">,</span> <span class="n">Integer</span><span class="p">,</span>
                        <span class="n">MetaData</span><span class="p">,</span> <span class="n">select</span><span class="p">,</span> <span class="n">func</span><span class="p">)</span>

<span class="n">metadata</span> <span class="o">=</span> <span class="n">MetaData</span><span class="p">()</span>

<span class="n">parts</span> <span class="o">=</span> <span class="n">Table</span><span class="p">(</span><span class="s1">&#39;parts&#39;</span><span class="p">,</span> <span class="n">metadata</span><span class="p">,</span>
    <span class="n">Column</span><span class="p">(</span><span class="s1">&#39;part&#39;</span><span class="p">,</span> <span class="n">String</span><span class="p">),</span>
    <span class="n">Column</span><span class="p">(</span><span class="s1">&#39;sub_part&#39;</span><span class="p">,</span> <span class="n">String</span><span class="p">),</span>
    <span class="n">Column</span><span class="p">(</span><span class="s1">&#39;quantity&#39;</span><span class="p">,</span> <span class="n">Integer</span><span class="p">),</span>
<span class="p">)</span>

<span class="n">included_parts</span> <span class="o">=</span> <span class="n">select</span><span class="p">([</span>
                    <span class="n">parts</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">sub_part</span><span class="p">,</span>
                    <span class="n">parts</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">part</span><span class="p">,</span>
                    <span class="n">parts</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">quantity</span><span class="p">])</span><span class="o">.</span>\
                    <span class="n">where</span><span class="p">(</span><span class="n">parts</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">part</span><span class="o">==</span><span class="s1">&#39;our part&#39;</span><span class="p">)</span><span class="o">.</span>\
                    <span class="n">cte</span><span class="p">(</span><span class="n">recursive</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>


<span class="n">incl_alias</span> <span class="o">=</span> <span class="n">included_parts</span><span class="o">.</span><span class="n">alias</span><span class="p">()</span>
<span class="n">parts_alias</span> <span class="o">=</span> <span class="n">parts</span><span class="o">.</span><span class="n">alias</span><span class="p">()</span>
<span class="n">included_parts</span> <span class="o">=</span> <span class="n">included_parts</span><span class="o">.</span><span class="n">union_all</span><span class="p">(</span>
    <span class="n">select</span><span class="p">([</span>
        <span class="n">parts_alias</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">sub_part</span><span class="p">,</span>
        <span class="n">parts_alias</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">part</span><span class="p">,</span>
        <span class="n">parts_alias</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">quantity</span>
    <span class="p">])</span><span class="o">.</span>
        <span class="n">where</span><span class="p">(</span><span class="n">parts_alias</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">part</span><span class="o">==</span><span class="n">incl_alias</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">sub_part</span><span class="p">)</span>
<span class="p">)</span>

<span class="n">statement</span> <span class="o">=</span> <span class="n">select</span><span class="p">([</span>
            <span class="n">included_parts</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">sub_part</span><span class="p">,</span>
            <span class="n">func</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">included_parts</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">quantity</span><span class="p">)</span><span class="o">.</span>
              <span class="n">label</span><span class="p">(</span><span class="s1">&#39;total_quantity&#39;</span><span class="p">)</span>
        <span class="p">])</span><span class="o">.</span>\
        <span class="n">group_by</span><span class="p">(</span><span class="n">included_parts</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">sub_part</span><span class="p">)</span>

<span class="n">result</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">statement</span><span class="p">)</span><span class="o">.</span><span class="n">fetchall</span><span class="p">()</span></pre></div>
</div>
<p>例3、CTEでのUPDATEとINSERTを使用するアップサンプリング:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">datetime</span> <span class="k">import</span> <span class="n">date</span>
<span class="kn">from</span> <span class="nn">sqlalchemy</span> <span class="k">import</span> <span class="p">(</span><span class="n">MetaData</span><span class="p">,</span> <span class="n">Table</span><span class="p">,</span> <span class="n">Column</span><span class="p">,</span> <span class="n">Integer</span><span class="p">,</span>
                        <span class="n">Date</span><span class="p">,</span> <span class="n">select</span><span class="p">,</span> <span class="n">literal</span><span class="p">,</span> <span class="n">and_</span><span class="p">,</span> <span class="n">exists</span><span class="p">)</span>

<span class="n">metadata</span> <span class="o">=</span> <span class="n">MetaData</span><span class="p">()</span>

<span class="n">visitors</span> <span class="o">=</span> <span class="n">Table</span><span class="p">(</span><span class="s1">&#39;visitors&#39;</span><span class="p">,</span> <span class="n">metadata</span><span class="p">,</span>
    <span class="n">Column</span><span class="p">(</span><span class="s1">&#39;product_id&#39;</span><span class="p">,</span> <span class="n">Integer</span><span class="p">,</span> <span class="n">primary_key</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span>
    <span class="n">Column</span><span class="p">(</span><span class="s1">&#39;date&#39;</span><span class="p">,</span> <span class="n">Date</span><span class="p">,</span> <span class="n">primary_key</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span>
    <span class="n">Column</span><span class="p">(</span><span class="s1">&#39;count&#39;</span><span class="p">,</span> <span class="n">Integer</span><span class="p">),</span>
<span class="p">)</span>

<span class="c1"># add 5 visitors for the product_id == 1</span>
<span class="n">product_id</span> <span class="o">=</span> <span class="mi">1</span>
<span class="n">day</span> <span class="o">=</span> <span class="n">date</span><span class="o">.</span><span class="n">today</span><span class="p">()</span>
<span class="n">count</span> <span class="o">=</span> <span class="mi">5</span>

<span class="n">update_cte</span> <span class="o">=</span> <span class="p">(</span>
    <span class="n">visitors</span><span class="o">.</span><span class="n">update</span><span class="p">()</span>
    <span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">and_</span><span class="p">(</span><span class="n">visitors</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">product_id</span> <span class="o">==</span> <span class="n">product_id</span><span class="p">,</span>
                <span class="n">visitors</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">date</span> <span class="o">==</span> <span class="n">day</span><span class="p">))</span>
    <span class="o">.</span><span class="n">values</span><span class="p">(</span><span class="n">count</span><span class="o">=</span><span class="n">visitors</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">count</span> <span class="o">+</span> <span class="n">count</span><span class="p">)</span>
    <span class="o">.</span><span class="n">returning</span><span class="p">(</span><span class="n">literal</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span>
    <span class="o">.</span><span class="n">cte</span><span class="p">(</span><span class="s1">&#39;update_cte&#39;</span><span class="p">)</span>
<span class="p">)</span>

<span class="n">upsert</span> <span class="o">=</span> <span class="n">visitors</span><span class="o">.</span><span class="n">insert</span><span class="p">()</span><span class="o">.</span><span class="n">from_select</span><span class="p">(</span>
    <span class="p">[</span><span class="n">visitors</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">product_id</span><span class="p">,</span> <span class="n">visitors</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">date</span><span class="p">,</span> <span class="n">visitors</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">count</span><span class="p">],</span>
    <span class="n">select</span><span class="p">([</span><span class="n">literal</span><span class="p">(</span><span class="n">product_id</span><span class="p">),</span> <span class="n">literal</span><span class="p">(</span><span class="n">day</span><span class="p">),</span> <span class="n">literal</span><span class="p">(</span><span class="n">count</span><span class="p">)])</span>
        <span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="o">~</span><span class="n">exists</span><span class="p">(</span><span class="n">update_cte</span><span class="o">.</span><span class="n">select</span><span class="p">()))</span>
<span class="p">)</span>

<span class="n">connection</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">upsert</span><span class="p">)</span></pre></div>
</div>
<div class="admonition seealso">
<p class="first admonition-title">参考</p>
<p class="last">：meth： <cite>.orm.query.Query.cte</cite>  -  ORM版の：meth：` .HasCTE.cte`。</p>
</div>
</dd></dl>

<dl class="attribute">
<dt id="sqlalchemy.sql.expression.UpdateBase.dialect_kwargs">
<code class="descname">dialect_kwargs</code><a class="headerlink" href="#sqlalchemy.sql.expression.UpdateBase.dialect_kwargs" title="この定義へのパーマリンク">¶</a></dt>
<dd><div class="inherited-member docutils container">
<em>inherited from the</em> <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.base.DialectKWArgs.dialect_kwargs" title="sqlalchemy.sql.base.DialectKWArgs.dialect_kwargs"><code class="xref py py-attr docutils literal notranslate"><span class="pre">dialect_kwargs</span></code></a> <em>attribute of</em> <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.base.DialectKWArgs" title="sqlalchemy.sql.base.DialectKWArgs"><code class="xref py py-class docutils literal notranslate"><span class="pre">DialectKWArgs</span></code></a></div>
<p>この構文に対してダイアレクト固有のオプションとして指定されたキーワード引数の集合。</p>
<p>これらの議論は、 &lt;dialect&gt; _ &lt;kwarg&gt; <a href="#id1"><span class="problematic" id="id2">``</span></a>フォーマット。実際に渡された引数のみが含まれます。 ：attr： <a href="#id3"><span class="problematic" id="id4">`</span></a>.DialectKWArgs.dialect_options`コレクションと異なり、デフォルトを含むこの方言で知られているすべてのオプションが含まれています。</p>
<p>コレクションは書き込み可能です。キーは `` &lt;dialect&gt; _ &lt;kwarg&gt; <a href="#id1"><span class="problematic" id="id2">``</span></a>は値がオプションのリストに集められる場所です。</p>
<div class="versionadded">
<p><span class="versionmodified">バージョン 0.9.2 で追加.</span></p>
</div>
<div class="versionchanged">
<p><span class="versionmodified">バージョン 0.9.4 で変更: </span>：attr： <a href="#id1"><span class="problematic" id="id2">`</span></a>.DialectKWArgs.dialect_kwargs`コレクションが書き込み可能になりました。</p>
</div>
<div class="admonition seealso">
<p class="first admonition-title">参考</p>
<p class="last">：attr： <cite>.DialectKWArgs.dialect_options</cite>  - ネストされた辞書形式</p>
</div>
</dd></dl>

<dl class="attribute">
<dt id="sqlalchemy.sql.expression.UpdateBase.dialect_options">
<code class="descname">dialect_options</code><a class="headerlink" href="#sqlalchemy.sql.expression.UpdateBase.dialect_options" title="この定義へのパーマリンク">¶</a></dt>
<dd><div class="inherited-member docutils container">
<em>inherited from the</em> <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.base.DialectKWArgs.dialect_options" title="sqlalchemy.sql.base.DialectKWArgs.dialect_options"><code class="xref py py-attr docutils literal notranslate"><span class="pre">dialect_options</span></code></a> <em>attribute of</em> <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.base.DialectKWArgs" title="sqlalchemy.sql.base.DialectKWArgs"><code class="xref py py-class docutils literal notranslate"><span class="pre">DialectKWArgs</span></code></a></div>
<p>この構文に対してダイアレクト固有のオプションとして指定されたキーワード引数の集合。</p>
<p>これは2レベルのネストされたレジストリで、 `` &lt;dialect_name&gt; <a href="#id1"><span class="problematic" id="id2">``</span></a>と `` &lt;argument_name&gt; <a href="#id3"><span class="problematic" id="id4">``</span></a>。たとえば、 `` postgresql_where``引数は:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">arg</span> <span class="o">=</span> <span class="n">my_object</span><span class="o">.</span><span class="n">dialect_options</span><span class="p">[</span><span class="s1">&#39;postgresql&#39;</span><span class="p">][</span><span class="s1">&#39;where&#39;</span><span class="p">]</span></pre></div>
</div>
<div class="versionadded">
<p><span class="versionmodified">バージョン 0.9.2 で追加.</span></p>
</div>
<div class="admonition seealso">
<p class="first admonition-title">参考</p>
<p class="last">：attr： <cite>.DialectKWArgs.dialect_kwargs</cite>  - フラット辞書形式</p>
</div>
</dd></dl>

<dl class="method">
<dt id="sqlalchemy.sql.expression.UpdateBase.execute">
<code class="descname">execute</code><span class="sig-paren">(</span><em>*multiparams</em>, <em>**params</em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.UpdateBase.execute" title="この定義へのパーマリンク">¶</a></dt>
<dd><div class="inherited-member docutils container">
<em>inherited from the</em> <a class="reference internal" href="selectable.html#sqlalchemy.sql.expression.Executable.execute" title="sqlalchemy.sql.expression.Executable.execute"><code class="xref py py-meth docutils literal notranslate"><span class="pre">execute()</span></code></a> <em>method of</em> <a class="reference internal" href="selectable.html#sqlalchemy.sql.expression.Executable" title="sqlalchemy.sql.expression.Executable"><code class="xref py py-class docutils literal notranslate"><span class="pre">Executable</span></code></a></div>
<p>これをコンパイルして実行します：class： <cite>.Executable</cite>。</p>
</dd></dl>

<dl class="method">
<dt id="sqlalchemy.sql.expression.UpdateBase.execution_options">
<code class="descname">execution_options</code><span class="sig-paren">(</span><em>**kw</em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.UpdateBase.execution_options" title="この定義へのパーマリンク">¶</a></dt>
<dd><div class="inherited-member docutils container">
<em>inherited from the</em> <a class="reference internal" href="selectable.html#sqlalchemy.sql.expression.Executable.execution_options" title="sqlalchemy.sql.expression.Executable.execution_options"><code class="xref py py-meth docutils literal notranslate"><span class="pre">execution_options()</span></code></a> <em>method of</em> <a class="reference internal" href="selectable.html#sqlalchemy.sql.expression.Executable" title="sqlalchemy.sql.expression.Executable"><code class="xref py py-class docutils literal notranslate"><span class="pre">Executable</span></code></a></div>
<p>実行中に有効になる文の非SQLオプションを設定します。</p>
<p>実行オプションは、文ごとまたは：class： <cite>.Connection`ベースで設定できます。さらに：class： `.Engine`とORM：class：</cite>〜.orm.query.Query`オブジェクトは実行オプションにアクセスし、実行オプションは接続時に設定します。</p>
<p>：meth： <a href="#id1"><span class="problematic" id="id2">`</span></a>execution_options`メソッドは生成されます。このステートメントの新しいインスタンスが返されます。このインスタンスにはオプション:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">statement</span> <span class="o">=</span> <span class="n">select</span><span class="p">([</span><span class="n">table</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">x</span><span class="p">,</span> <span class="n">table</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">y</span><span class="p">])</span>
<span class="n">statement</span> <span class="o">=</span> <span class="n">statement</span><span class="o">.</span><span class="n">execution_options</span><span class="p">(</span><span class="n">autocommit</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span></pre></div>
</div>
<p>ステートメントには、&amp;quot;自動コミット&amp;quot;と&amp;quot;stream_results &amp;quot;は含めることができますが、&amp;quot;isolation_level &amp;quot;や&amp;quot;compiled_cache &amp;quot;は含めることはできません。可能なオプションの完全なリストについては：meth： <a href="#id1"><span class="problematic" id="id2">`</span></a>.Connection.execution_options`を参照してください。</p>
<div class="admonition seealso">
<p class="first admonition-title">参考</p>
<p>：meth： <cite>.Connection.execution_options（）</cite></p>
<p class="last">：meth： <cite>.Query.execution_options（）</cite></p>
</div>
</dd></dl>

<dl class="method">
<dt id="sqlalchemy.sql.expression.UpdateBase.get_children">
<code class="descname">get_children</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.UpdateBase.get_children" title="この定義へのパーマリンク">¶</a></dt>
<dd><div class="inherited-member docutils container">
<em>inherited from the</em> <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.ClauseElement.get_children" title="sqlalchemy.sql.expression.ClauseElement.get_children"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_children()</span></code></a> <em>method of</em> <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.ClauseElement" title="sqlalchemy.sql.expression.ClauseElement"><code class="xref py py-class docutils literal notranslate"><span class="pre">ClauseElement</span></code></a></div>
<p>this：class： <a href="#id1"><span class="problematic" id="id2">`</span></a>.ClauseElement`の直接の子要素を返します。</p>
<p>訪問トラバーサルに使用されます。</p>
<p>** kwargsには、返されるコレクションを変更するフラグが含まれている可能性があります。たとえば、より大きなトラバーサルを減らすためにアイテムのサブセットを返すか、別のコンテキスト（たとえば、スキーマレベルのコレクション節レベルの）。</p>
</dd></dl>

<dl class="attribute">
<dt id="sqlalchemy.sql.expression.UpdateBase.kwargs">
<code class="descname">kwargs</code><a class="headerlink" href="#sqlalchemy.sql.expression.UpdateBase.kwargs" title="この定義へのパーマリンク">¶</a></dt>
<dd><div class="inherited-member docutils container">
<em>inherited from the</em> <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.base.DialectKWArgs.kwargs" title="sqlalchemy.sql.base.DialectKWArgs.kwargs"><code class="xref py py-attr docutils literal notranslate"><span class="pre">kwargs</span></code></a> <em>attribute of</em> <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.base.DialectKWArgs" title="sqlalchemy.sql.base.DialectKWArgs"><code class="xref py py-class docutils literal notranslate"><span class="pre">DialectKWArgs</span></code></a></div>
<p>attr： <a href="#id1"><span class="problematic" id="id2">`</span></a>.DialectKWArgs.dialect_kwargs`の同義語です。</p>
</dd></dl>

<dl class="method">
<dt id="sqlalchemy.sql.expression.UpdateBase.params">
<code class="descname">params</code><span class="sig-paren">(</span><em>*arg</em>, <em>**kw</em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.UpdateBase.params" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>ステートメントのパラメーターを設定します。</p>
<p>このメソッドは、基本クラスで `` NotImplementedError``を発生させ、UPDATEとINSERTのSET / VALUES節を提供するために：class： <a href="#id1"><span class="problematic" id="id2">`</span></a>.ValuesBase`によってオーバーライドされます。</p>
</dd></dl>

<dl class="method">
<dt id="sqlalchemy.sql.expression.UpdateBase.prefix_with">
<code class="descname">prefix_with</code><span class="sig-paren">(</span><em>*expr</em>, <em>**kw</em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.UpdateBase.prefix_with" title="この定義へのパーマリンク">¶</a></dt>
<dd><div class="inherited-member docutils container">
<em>inherited from the</em> <a class="reference internal" href="selectable.html#sqlalchemy.sql.expression.HasPrefixes.prefix_with" title="sqlalchemy.sql.expression.HasPrefixes.prefix_with"><code class="xref py py-meth docutils literal notranslate"><span class="pre">prefix_with()</span></code></a> <em>method of</em> <a class="reference internal" href="selectable.html#sqlalchemy.sql.expression.HasPrefixes" title="sqlalchemy.sql.expression.HasPrefixes"><code class="xref py py-class docutils literal notranslate"><span class="pre">HasPrefixes</span></code></a></div>
<p>ステートメントキーワードに続く1つ以上の式、つまりSELECT、INSERT、UPDATE、またはDELETEを追加します。 Generative。</p>
<p>これは、MySQLが提供するようなバックエンド固有のプレフィックスキーワードをサポートするために使用されます。</p>
<p>例えば：：</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">stmt</span> <span class="o">=</span> <span class="n">table</span><span class="o">.</span><span class="n">insert</span><span class="p">()</span><span class="o">.</span><span class="n">prefix_with</span><span class="p">(</span><span class="s2">&quot;LOW_PRIORITY&quot;</span><span class="p">,</span> <span class="n">dialect</span><span class="o">=</span><span class="s2">&quot;mysql&quot;</span><span class="p">)</span></pre></div>
</div>
<p>複数の接頭辞は：meth： <a href="#id1"><span class="problematic" id="id2">`</span></a>.prefix_with`を複数回呼び出すことで指定できます。</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">パラメータ:</th><td class="field-body"><ul class="first last simple">
<li><span class="target" id="sqlalchemy.sql.expression.UpdateBase.prefix_with.params.*expr"></span><strong>*expr</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.UpdateBase.prefix_with.params.*expr">¶</a> -- text：or：class： <a href="#id1"><span class="problematic" id="id2">`</span></a>.ClauseElement`構文で、INSERT、UPDATE、またはDELETEキーワードの後に​​表示されます。</li>
<li><span class="target" id="sqlalchemy.sql.expression.UpdateBase.prefix_with.params.**kw"></span><strong>**kw</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.UpdateBase.prefix_with.params.**kw">¶</a> -- 単一のキーワード「方言」が受け入れられます。これは省略可能な文字列の名前であり、この接頭辞のその方言へのレンダリングを制限します。</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="sqlalchemy.sql.expression.UpdateBase.returning">
<code class="descname">returning</code><span class="sig-paren">(</span><em>*cols</em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.UpdateBase.returning" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>この文にa：term： <a href="#id1"><span class="problematic" id="id2">`</span></a>RETURNING`または同等の句を追加します。</p>
<p>例えば：：</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">stmt</span> <span class="o">=</span> <span class="n">table</span><span class="o">.</span><span class="n">update</span><span class="p">()</span><span class="o">.</span>\
          <span class="n">where</span><span class="p">(</span><span class="n">table</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">data</span> <span class="o">==</span> <span class="s1">&#39;value&#39;</span><span class="p">)</span><span class="o">.</span>\
          <span class="n">values</span><span class="p">(</span><span class="n">status</span><span class="o">=</span><span class="s1">&#39;X&#39;</span><span class="p">)</span><span class="o">.</span>\
          <span class="n">returning</span><span class="p">(</span><span class="n">table</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">server_flag</span><span class="p">,</span>
                    <span class="n">table</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">updated_timestamp</span><span class="p">)</span>

<span class="k">for</span> <span class="n">server_flag</span><span class="p">,</span> <span class="n">updated_timestamp</span> <span class="ow">in</span> <span class="n">connection</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">stmt</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">server_flag</span><span class="p">,</span> <span class="n">updated_timestamp</span><span class="p">)</span></pre></div>
</div>
<p>指定された列式のコレクションは、INSERT、UPDATEまたはDELETEのターゲットである表から派生する必要があります。 while：class： <a href="#id1"><span class="problematic" id="id2">`</span></a>.Column`オブジェクトは典型的ですが、要素は式でもあります:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">stmt</span> <span class="o">=</span> <span class="n">table</span><span class="o">.</span><span class="n">insert</span><span class="p">()</span><span class="o">.</span><span class="n">returning</span><span class="p">(</span>
    <span class="p">(</span><span class="n">table</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">first_name</span> <span class="o">+</span> <span class="s2">&quot; &quot;</span> <span class="o">+</span> <span class="n">table</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">last_name</span><span class="p">)</span><span class="o">.</span>
    <span class="n">label</span><span class="p">(</span><span class="s1">&#39;fullname&#39;</span><span class="p">))</span></pre></div>
</div>
<p>コンパイル時には、RETURNING句、またはそれに相当するデータベースがステートメント内でレンダリングされます。 INSERTとUPDATEの場合、値は新しく挿入/更新された値です。 DELETEの場合、値は削除された行の値です。</p>
<p>実行時に、返される列の値は結果セットを介して利用可能になり、：meth： <a href="#id1"><span class="problematic" id="id2">`</span></a>.ResultProxy.fetchone`などを使用して反復することができます。戻り値（つまりcx_oracle）をネイティブにサポートしていないDBAPIの場合、SQLAlchemyは結果のレベルでこの動作を近似し、妥当な量の中立性が提供されます。</p>
<p>すべてのデータベース/ DBAPIがRETURNINGをサポートしているわけではないことに注意してください。サポートされていないバックエンドの場合、コンパイルおよび/または実行時に例外が発生します。 executemany（）の制限や複数の行を返すその他のステートメントなど、バックエンドの機能は大きく異なります。 RETURNINGの可用性を判断するには、使用中のデータベースのドキュメントを参照してください。</p>
<div class="admonition seealso">
<p class="first admonition-title">参考</p>
<p class="last">：meth： <cite>.ValuesBase.return_defaults</cite>  - 単一行のINSERTやUPDATEのためのサーバサイドのデフォルトとトリガを効率的にフェッチするための代替メソッドです。</p>
</div>
</dd></dl>

<dl class="method">
<dt id="sqlalchemy.sql.expression.UpdateBase.scalar">
<code class="descname">scalar</code><span class="sig-paren">(</span><em>*multiparams</em>, <em>**params</em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.UpdateBase.scalar" title="この定義へのパーマリンク">¶</a></dt>
<dd><div class="inherited-member docutils container">
<em>inherited from the</em> <a class="reference internal" href="selectable.html#sqlalchemy.sql.expression.Executable.scalar" title="sqlalchemy.sql.expression.Executable.scalar"><code class="xref py py-meth docutils literal notranslate"><span class="pre">scalar()</span></code></a> <em>method of</em> <a class="reference internal" href="selectable.html#sqlalchemy.sql.expression.Executable" title="sqlalchemy.sql.expression.Executable"><code class="xref py py-class docutils literal notranslate"><span class="pre">Executable</span></code></a></div>
<p>これをコンパイルして実行します：class： <cite>.Executable</cite>、結果のスカラ表現を返します。</p>
</dd></dl>

<dl class="method">
<dt id="sqlalchemy.sql.expression.UpdateBase.self_group">
<code class="descname">self_group</code><span class="sig-paren">(</span><em>against=None</em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.UpdateBase.self_group" title="この定義へのパーマリンク">¶</a></dt>
<dd><div class="inherited-member docutils container">
<em>inherited from the</em> <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.ClauseElement.self_group" title="sqlalchemy.sql.expression.ClauseElement.self_group"><code class="xref py py-meth docutils literal notranslate"><span class="pre">self_group()</span></code></a> <em>method of</em> <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.ClauseElement" title="sqlalchemy.sql.expression.ClauseElement"><code class="xref py py-class docutils literal notranslate"><span class="pre">ClauseElement</span></code></a></div>
<p>これに &amp;#39;grouping&amp;#39;を適用します：class： <cite>.ClauseElement</cite>。</p>
<p>このメソッドはサブクラスによってオーバーライドされ、&amp;quot;グループ化&amp;quot;構造体、つまり括弧を返します。特に、大規模な式に置かれたときには、自分自身の周りにグループ化を提供するために、&amp;quot;バイナリ&amp;quot;式で使用されます。func： <cite>.select`は、別のFROM句に配置されたときに構築されます。func：</cite> .select <a href="#id1"><span class="problematic" id="id2">`</span></a>。 （サブクエリは、通常は：meth： <a href="#id3"><span class="problematic" id="id4">`</span></a>.Select.alias`メソッドを使用して作成する必要があります。これは、多くのプラットフォームでネストされたSELECT文の名前を付ける必要があるためです）。</p>
<p>式が一緒に構成されるとき、：meth： <cite>self_group`のアプリケーションは自動です - エンドユーザコードはこのメソッドを直接使う必要はありません。 SQLAlchemyの節構文は演算子の優先順位を考慮していることに注意してください。たとえば、 `</cite> x OR（y AND z） <a href="#id1"><span class="problematic" id="id2">``</span></a>のような式のようにかっこは必要ないかもしれません。</p>
<p>base：meth： <cite>self_group`メソッドの：class：</cite> .ClauseElement`はselfを返します。</p>
</dd></dl>

<dl class="method">
<dt id="sqlalchemy.sql.expression.UpdateBase.unique_params">
<code class="descname">unique_params</code><span class="sig-paren">(</span><em>*optionaldict</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.UpdateBase.unique_params" title="この定義へのパーマリンク">¶</a></dt>
<dd><div class="inherited-member docutils container">
<em>inherited from the</em> <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.ClauseElement.unique_params" title="sqlalchemy.sql.expression.ClauseElement.unique_params"><code class="xref py py-meth docutils literal notranslate"><span class="pre">unique_params()</span></code></a> <em>method of</em> <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.ClauseElement" title="sqlalchemy.sql.expression.ClauseElement"><code class="xref py py-class docutils literal notranslate"><span class="pre">ClauseElement</span></code></a></div>
<p>func： <a href="#id1"><span class="problematic" id="id2">`</span></a>bindparam（）`要素を置き換えてコピーを返します。</p>
<p>複数のステートメントを使用できるように、影響を受けるバインドパラメータに <cite>unique = True`を追加する点を除いて、</cite> <cite>params（）</cite> <a href="#id1"><span class="problematic" id="id2">`</span></a>と同じ機能です。</p>
</dd></dl>

<dl class="method">
<dt id="sqlalchemy.sql.expression.UpdateBase.with_hint">
<code class="descname">with_hint</code><span class="sig-paren">(</span><em>text</em>, <em>selectable=None</em>, <em>dialect_name='*'</em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.UpdateBase.with_hint" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>このINSERT / UPDATE / DELETEステートメントに単一テーブルのテーブルヒントを追加します。</p>
<div class="admonition note">
<p class="first admonition-title">注釈</p>
<p class="last">：meth： <a href="#id1"><span class="problematic" id="id2">`</span></a>.UpdateBase.with_hint`は現在、Microsoft SQL Serverにのみ適用されます。 MySQLのINSERT / UPDATE / DELETEヒントについては、：meth： <a href="#id3"><span class="problematic" id="id4">`</span></a>.UpdateBase.prefix_with`を使用してください。</p>
</div>
<p>ヒントのテキストは、使用中のデータベースバックエンドの適切な場所にレンダリングされます。これは、このステートメントの主題である：class： <cite>.Table`を基準にして、または任意で：class：</cite> .Table` `` selectable``引数として渡されました。</p>
<p>`` dialect_name``オプションは、特定のヒントを特定のバックエンドにレンダリングすることを制限します。のような、SQL Serverにのみ有効なヒントを追加する:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">mytable</span><span class="o">.</span><span class="n">insert</span><span class="p">()</span><span class="o">.</span><span class="n">with_hint</span><span class="p">(</span><span class="s2">&quot;WITH (PAGLOCK)&quot;</span><span class="p">,</span> <span class="n">dialect_name</span><span class="o">=</span><span class="s2">&quot;mssql&quot;</span><span class="p">)</span></pre></div>
</div>
<div class="versionadded">
<p><span class="versionmodified">バージョン 0.7.6 で追加.</span></p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">パラメータ:</th><td class="field-body"><ul class="first last simple">
<li><span class="target" id="sqlalchemy.sql.expression.UpdateBase.with_hint.params.text"></span><strong>text</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.UpdateBase.with_hint.params.text">¶</a> -- ヒントのテキスト。</li>
<li><span class="target" id="sqlalchemy.sql.expression.UpdateBase.with_hint.params.selectable"></span><strong>selectable</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.UpdateBase.with_hint.params.selectable">¶</a> -- オプション：クラス：ヒントの対象となるUPDATEまたはDELETE内のFROM句の要素を指定する <cite>.Table</cite>  - 特定のバックエンドのみに適用されます。</li>
<li><span class="target" id="sqlalchemy.sql.expression.UpdateBase.with_hint.params.dialect_name"></span><strong>dialect_name</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.UpdateBase.with_hint.params.dialect_name">¶</a> -- デフォルトで `` * <a href="#id1"><span class="problematic" id="id2">``</span></a>は、特定の方言の名前として指定された場合、その方言が使用されている場合にのみ、これらのヒントを適用します。</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="sqlalchemy.sql.expression.ValuesBase">
<em class="property">class </em><code class="descclassname">sqlalchemy.sql.expression.</code><code class="descname">ValuesBase</code><span class="sig-paren">(</span><em>table</em>, <em>values</em>, <em>prefixes</em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.ValuesBase" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#sqlalchemy.sql.expression.UpdateBase" title="sqlalchemy.sql.expression.UpdateBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.UpdateBase</span></code></a></p>
<p>INSERTおよびUPDATE構造体に：meth： <a href="#id1"><span class="problematic" id="id2">`</span></a>.ValuesBase.values`をサポートしています。</p>
<dl class="method">
<dt id="sqlalchemy.sql.expression.ValuesBase.return_defaults">
<code class="descname">return_defaults</code><span class="sig-paren">(</span><em>*cols</em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.ValuesBase.return_defaults" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>サーバー側の式とデフォルトを取得するために、：term： <a href="#id1"><span class="problematic" id="id2">`</span></a>RETURNING`節を使用してください。</p>
<p>例えば：：</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">stmt</span> <span class="o">=</span> <span class="n">table</span><span class="o">.</span><span class="n">insert</span><span class="p">()</span><span class="o">.</span><span class="n">values</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="s1">&#39;newdata&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">return_defaults</span><span class="p">()</span>

<span class="n">result</span> <span class="o">=</span> <span class="n">connection</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">stmt</span><span class="p">)</span>

<span class="n">server_created_at</span> <span class="o">=</span> <span class="n">result</span><span class="o">.</span><span class="n">returned_defaults</span><span class="p">[</span><span class="s1">&#39;created_at&#39;</span><span class="p">]</span></pre></div>
</div>
<p>RETURNINGをサポートするバックエンドに対して使用すると、SQL式またはサーバー側のデフォルトによって生成されたすべての列の値は、既存のRETURNING句に追加されます。ただし、：meth： <cite>.UpdateBase.returning`は同時に使用されません。次に、：attr： `.ResultProxy.returned_defaults`アクセサをディクショナリとして使用して、：class：</cite> .Column`オブジェクトとその `` .key``オブジェクトにキー入力された値を参照して、カラム値を結果で利用できます。</p>
<p>このメソッドは、以下の点で：meth： <a href="#id1"><span class="problematic" id="id2">`</span></a>.UpdateBase.returning`と異なります。</p>
<ol class="arabic simple">
<li>：meth： <a href="#id1"><span class="problematic" id="id2">`</span></a>.ValuesBase.return_defaults`は、ちょうど1つの行と一致するINSERT文またはUPDATE文での使用を意図しています。一般的な意味でのRETURNING構文は、複数行のUPDATEまたはDELETE文、または複数の行を返すINSERTの特別な場合（SELECTからのINSERT、複数値のVALUES句）の複数の行をサポートしますが、：meth： <a href="#id3"><span class="problematic" id="id4">`</span></a>.ValuesBase .return_defaults`は&amp;quot;ORMスタイル&amp;quot;の単一行のINSERT / UPDATE文だけを対象としています。ステートメントによって返された行は、：meth： <a href="#id5"><span class="problematic" id="id6">`</span></a>.ValuesBase.return_defaults`が使用されたときに暗黙的に消費されます。対照的に、：meth： <a href="#id7"><span class="problematic" id="id8">`</span></a>.UpdateBase.returning`は、RETURNING結果セットをそのままの数の行のコレクションで残します。</li>
<li>既存のロジックと互換性があり、自動的に生成されたプライマリキー値を取得します。これは&amp;quot;暗黙的な戻り値&amp;quot;とも呼ばれます。 RETURNINGをサポートするバックエンドは、新しく生成された主キーの値を取得するために自動的にRETURNINGを使用します。 ：meth： <cite>.UpdateBase.returning`メソッドはこの動作を回避しますが、：meth：</cite> .ValuesBase.return_defaults`はそのまま残します。</li>
<li>バックエンドに対して呼び出すことができます。 RETURNINGをサポートしていないバックエンドは、例外を発生させるのではなく、その機能の使用をスキップします。 ：attr： <cite>.ResultProxy.returned_defaults`の戻り値は</cite> <a href="#id1"><span class="problematic" id="id2">`</span></a>None``になります。</li>
</ol>
<p>：meth： <cite>.ValuesBase.return_defaults`は：func：</cite> .mapper`の `` eager_defaults``機能の効率的な実装を提供するためにORMによって使用されます。</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">パラメータ:</th><td class="field-body"><span class="target" id="sqlalchemy.sql.expression.ValuesBase.return_defaults.params.cols"></span><strong>cols</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.ValuesBase.return_defaults.params.cols">¶</a> -- 列キー名または：class： <a href="#id1"><span class="problematic" id="id2">`</span></a>.Column`オブジェクトのオプションリスト。省略すると、サーバー上で評価されたすべての列式が戻りリストに追加されます。</td>
</tr>
</tbody>
</table>
<div class="versionadded">
<p><span class="versionmodified">バージョン 0.9.0 で追加.</span></p>
</div>
<div class="admonition seealso">
<p class="first admonition-title">参考</p>
<p>：meth： <cite>.UpdateBase.returning</cite></p>
<p class="last">：attr： <cite>.ResultProxy.returned_defaults</cite></p>
</div>
</dd></dl>

<dl class="method">
<dt id="sqlalchemy.sql.expression.ValuesBase.values">
<code class="descname">values</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.ValuesBase.values" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>INSERT文には固定VALUES句を、UPDATEにはSET句を指定します。</p>
<p>：class： <cite>.Insert`と：class：</cite> .Update`は、：meth： <a href="#id1"><span class="problematic" id="id2">`</span></a>.Connection.execute`に渡された引数に基づいて、VALUESおよび/またはSET節の実行時フォーマットをサポートしています。しかし、：meth： <a href="#id3"><span class="problematic" id="id4">`</span></a>.ValuesBase.values`メソッドは、特定のパラメータセットをステートメントに&amp;quot;修正 &amp;quot;するために使用できます。</p>
<p>：meth： <a href="#id1"><span class="problematic" id="id2">`</span></a>.ValuesBase.values`を複数呼び出すと、送信された新しいパラメータを含むようにパラメータリストが変更された新しい構造が生成されます。パラメータの辞書の典型的な例では、新しく渡されたキーは、前の構造の同じキーを置き換えます。リストベースの&amp;quot;複数値&amp;quot;構成の場合、新しい値リストはそれぞれ、既存の値リストに拡張されます。</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">パラメータ:</th><td class="field-body"><ul class="first last simple">
<li><span class="target" id="sqlalchemy.sql.expression.ValuesBase.values.params.**kwargs"></span><strong>**kwargs</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.ValuesBase.values.params.**kwargs">¶</a> -- VALUEESまたはSET句:: users.insert（）。values（name = &amp;quot;some name &amp;quot;）ユーザにレンダリングされる値にマッピングされた：class： <a href="#id1"><span class="problematic" id="id2">`</span></a>.Column`の文字列キーを表すキー値ペア。 update（）。ここで（users.c.id == 5）.values（name = &amp;quot;some name &amp;quot;）</li>
<li><span class="target" id="sqlalchemy.sql.expression.ValuesBase.values.params.*args"></span><strong>*args</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.ValuesBase.values.params.*args">¶</a> -- キー/値パラメーターを渡す代わりに、ステートメントのVALUES節またはSET節を形成するために、辞書、タプル、または辞書またはタプルのリストを単一の位置引数として渡すことができます。受け入れられるフォームは、これが：class： <cite>.Insert`か：class：</cite> .Update`のどちらであるかによって異なります。 ：class： <cite>.Insert`または：class：</cite> .Update`のいずれかの構造体に対しては、kwargs form :: users.insert（）の値と同じ働きをする単一の辞書を渡すことができます。 （名前：&amp;quot;いくつかの新しい名前&amp;quot;））どちらの形式でも、より一般的には：class： <cite>のために。テーブルのすべての列のエントリを含むタプルも受け入れられます:: users.insert（）。values（（5、&amp;quot;some name &amp;quot;））：class： `.Insert`構造サーバ上では、 &amp;quot;多値&amp;quot;というあまり一般的でないSQL構文をレンダリングする、辞書やフルテーブルタプルのリストを渡すことをサポートしています - この構文は、SQLite、PostgreSQL、MySQLなどのバックエンドでサポートされています他人:: users.insert（）。値（[{&amp;quot;名前&amp;quot;：&amp;quot;名前&amp;quot;：&amp;quot;名前&amp;quot;：&amp;quot;他の名前&amp;quot;}上記のフォームは、:: INSERT INTO users（name）VALUES（：name_1）、（：name_2）、（：name_3）と同様の複数のVALUES文をレンダリングします。 **複数の値を渡すことは、従来のexecutemany（）フォーム**を使用するのと同じではないことに注意してください。上記の構文は、通常は使用されない**特別な**構文です。複数の行に対してINSERT文を発行するには、複数の値リストを：meth： `.Connection.execute`メソッドに渡します。これは、すべてのデータベースバックエンドでサポートされています。パラメーター。 .. seealso ::：ref： `execute_multiple</cite>  -  INSERTや他のステートメントに対する複数のパラメータセット呼び出しの伝統的なCoreメソッドの紹介です。 .. versionchanged :: 1.0.0複数のVALUES句を使用するINSERTは、長さが1のリストであっても、：paramref： <cite>.Insert.inline`フラグがTrueに設定されていることを意味します。 &amp;quot;最後に挿入された主キー&amp;quot;または他のデフォルトをフェッチする。ステートメントは任意の数の行を処理するため、：attr： `.ResultProxy.inserted_primary_key`アクセサは適用されません。 .. versionchanged :: 1.0.0 multiple-VALUES INSERTはPython側のデフォルト値と呼び出し可能な列を&amp;quot;executemany &amp;quot;スタイルの呼び出しと同じようにサポートするようになりました。呼び出し可能は各行に対して呼び出されます。その他の詳細は：ref： `bug_3288`を参照してください。 ：class： `.Update`コンストラクトは2タプルのリストである特別な形式をサポートしています。これは：paramref：</cite>〜sqlalchemy.sql.expression.update.preserve_parameter_order`パラメータと一緒に渡す必要があります。この形式では、UPDATE文は、：class： <cite>.Table`で与えられた列の順序ではなく、：meth：</cite> .Update.values`に与えられたパラメータの順序を使用してSET句を表示します。 .. versionadded :: 1.0.10  - ：paramref： <cite>〜sqlalchemy.sql.expression.update.preserve_parameter_order`フラグを介して、パラメータ順のUPDATE文のサポートが追加されました。 .. seealso :: ref： `updates_order_parameters</cite>  - 完全な例：paramref：<a href="#id1"><span class="problematic" id="id2">`</span></a>〜sqlalchemy.sql.expression.update.preserve_parameter_order`フラグ</li>
</ul>
</td>
</tr>
</tbody>
</table>
<div class="admonition seealso">
<p class="first admonition-title">参考</p>
<p>：ref： <cite>inserts_and_updates</cite>  -  SQL式言語チュートリアル</p>
<p>：func： <cite>〜.expression.insert</cite>  - ` <a href="#id1"><span class="problematic" id="id2">`</span></a>INSERT``文を生成します</p>
<p class="last">：func： <cite>〜.expression.update</cite>  - ` <a href="#id1"><span class="problematic" id="id2">`</span></a>UPDATE``文を生成します</p>
</div>
</dd></dl>

</dd></dl>

</div>

    </div>

</div>

<div id="docs-bottom-navigation" class="docs-navigation-links, withsidebar">
        Previous:
        <a href="selectable.html" title="previous chapter">選択可能オブジェクト、テーブル、FROMオブジェクト</a>
        Next:
        <a href="functions.html" title="next chapter">SQLと汎用関数</a>

    <div id="docs-copyright">
        &copy; <a href="../copyright.html">Copyright</a> 2007-2018, the SQLAlchemy authors and contributors.
        Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.8.1.
    </div>
</div>

</div>



        
        

    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
          URL_ROOT:    '../',
          VERSION:     '1.3.0b1',
          COLLAPSE_MODINDEX: false,
          FILE_SUFFIX: '.html'
      };
    </script>

    <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>

    <!-- begin iterate through sphinx environment script_files -->
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script type="text/javascript" src="../_static/translations.js"></script>
        <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <!-- end iterate through sphinx environment script_files -->

    <script type="text/javascript" src="../_static/detectmobile.js"></script>
    <script type="text/javascript" src="../_static/init.js"></script>


    </body>
</html>


